var ou=Object.defineProperty;var au=(e,i,t)=>i in e?ou(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t;var F=(e,i,t)=>(au(e,typeof i!="symbol"?i+"":i,t),t);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();function su(e){if(e&&!(typeof window>"u")){var i=document.createElement("style");return i.setAttribute("type","text/css"),i.innerHTML=e,document.head.appendChild(i),e}}function Ht(e,i){var t=e.__state.conversionName.toString(),n=Math.round(e.r),o=Math.round(e.g),r=Math.round(e.b),s=e.a,l=Math.round(e.h),f=e.s.toFixed(1),c=e.v.toFixed(1);if(i||t==="THREE_CHAR_HEX"||t==="SIX_CHAR_HEX"){for(var d=e.hex.toString(16);d.length<6;)d="0"+d;return"#"+d}else{if(t==="CSS_RGB")return"rgb("+n+","+o+","+r+")";if(t==="CSS_RGBA")return"rgba("+n+","+o+","+r+","+s+")";if(t==="HEX")return"0x"+e.hex.toString(16);if(t==="RGB_ARRAY")return"["+n+","+o+","+r+"]";if(t==="RGBA_ARRAY")return"["+n+","+o+","+r+","+s+"]";if(t==="RGB_OBJ")return"{r:"+n+",g:"+o+",b:"+r+"}";if(t==="RGBA_OBJ")return"{r:"+n+",g:"+o+",b:"+r+",a:"+s+"}";if(t==="HSV_OBJ")return"{h:"+l+",s:"+f+",v:"+c+"}";if(t==="HSVA_OBJ")return"{h:"+l+",s:"+f+",v:"+c+",a:"+s+"}"}return"unknown format"}var Bo=Array.prototype.forEach,oi=Array.prototype.slice,k={BREAK:{},extend:function(i){return this.each(oi.call(arguments,1),function(t){var n=this.isObject(t)?Object.keys(t):[];n.forEach(function(o){this.isUndefined(t[o])||(i[o]=t[o])}.bind(this))},this),i},defaults:function(i){return this.each(oi.call(arguments,1),function(t){var n=this.isObject(t)?Object.keys(t):[];n.forEach(function(o){this.isUndefined(i[o])&&(i[o]=t[o])}.bind(this))},this),i},compose:function(){var i=oi.call(arguments);return function(){for(var t=oi.call(arguments),n=i.length-1;n>=0;n--)t=[i[n].apply(this,t)];return t[0]}},each:function(i,t,n){if(i){if(Bo&&i.forEach&&i.forEach===Bo)i.forEach(t,n);else if(i.length===i.length+0){var o=void 0,r=void 0;for(o=0,r=i.length;o<r;o++)if(o in i&&t.call(n,i[o],o)===this.BREAK)return}else for(var s in i)if(t.call(n,i[s],s)===this.BREAK)return}},defer:function(i){setTimeout(i,0)},debounce:function(i,t,n){var o=void 0;return function(){var r=this,s=arguments;function l(){o=null,n||i.apply(r,s)}var f=n||!o;clearTimeout(o),o=setTimeout(l,t),f&&i.apply(r,s)}},toArray:function(i){return i.toArray?i.toArray():oi.call(i)},isUndefined:function(i){return i===void 0},isNull:function(i){return i===null},isNaN:function(e){function i(t){return e.apply(this,arguments)}return i.toString=function(){return e.toString()},i}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(i){return i===Object(i)},isNumber:function(i){return i===i+0},isString:function(i){return i===i+""},isBoolean:function(i){return i===!1||i===!0},isFunction:function(i){return i instanceof Function}},lu=[{litmus:k.isString,conversions:{THREE_CHAR_HEX:{read:function(i){var t=i.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return t===null?!1:{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:Ht},SIX_CHAR_HEX:{read:function(i){var t=i.match(/^#([A-F0-9]{6})$/i);return t===null?!1:{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:Ht},CSS_RGB:{read:function(i){var t=i.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return t===null?!1:{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:Ht},CSS_RGBA:{read:function(i){var t=i.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return t===null?!1:{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:Ht}}},{litmus:k.isNumber,conversions:{HEX:{read:function(i){return{space:"HEX",hex:i,conversionName:"HEX"}},write:function(i){return i.hex}}}},{litmus:k.isArray,conversions:{RGB_ARRAY:{read:function(i){return i.length!==3?!1:{space:"RGB",r:i[0],g:i[1],b:i[2]}},write:function(i){return[i.r,i.g,i.b]}},RGBA_ARRAY:{read:function(i){return i.length!==4?!1:{space:"RGB",r:i[0],g:i[1],b:i[2],a:i[3]}},write:function(i){return[i.r,i.g,i.b,i.a]}}}},{litmus:k.isObject,conversions:{RGBA_OBJ:{read:function(i){return k.isNumber(i.r)&&k.isNumber(i.g)&&k.isNumber(i.b)&&k.isNumber(i.a)?{space:"RGB",r:i.r,g:i.g,b:i.b,a:i.a}:!1},write:function(i){return{r:i.r,g:i.g,b:i.b,a:i.a}}},RGB_OBJ:{read:function(i){return k.isNumber(i.r)&&k.isNumber(i.g)&&k.isNumber(i.b)?{space:"RGB",r:i.r,g:i.g,b:i.b}:!1},write:function(i){return{r:i.r,g:i.g,b:i.b}}},HSVA_OBJ:{read:function(i){return k.isNumber(i.h)&&k.isNumber(i.s)&&k.isNumber(i.v)&&k.isNumber(i.a)?{space:"HSV",h:i.h,s:i.s,v:i.v,a:i.a}:!1},write:function(i){return{h:i.h,s:i.s,v:i.v,a:i.a}}},HSV_OBJ:{read:function(i){return k.isNumber(i.h)&&k.isNumber(i.s)&&k.isNumber(i.v)?{space:"HSV",h:i.h,s:i.s,v:i.v}:!1},write:function(i){return{h:i.h,s:i.s,v:i.v}}}}}],ai=void 0,ki=void 0,Br=function(){ki=!1;var i=arguments.length>1?k.toArray(arguments):arguments[0];return k.each(lu,function(t){if(t.litmus(i))return k.each(t.conversions,function(n,o){if(ai=n.read(i),ki===!1&&ai!==!1)return ki=ai,ai.conversionName=o,ai.conversion=n,k.BREAK}),k.BREAK}),ki},jo=void 0,nn={hsv_to_rgb:function(i,t,n){var o=Math.floor(i/60)%6,r=i/60-Math.floor(i/60),s=n*(1-t),l=n*(1-r*t),f=n*(1-(1-r)*t),c=[[n,f,s],[l,n,s],[s,n,f],[s,l,n],[f,s,n],[n,s,l]][o];return{r:c[0]*255,g:c[1]*255,b:c[2]*255}},rgb_to_hsv:function(i,t,n){var o=Math.min(i,t,n),r=Math.max(i,t,n),s=r-o,l=void 0,f=void 0;if(r!==0)f=s/r;else return{h:NaN,s:0,v:0};return i===r?l=(t-n)/s:t===r?l=2+(n-i)/s:l=4+(i-t)/s,l/=6,l<0&&(l+=1),{h:l*360,s:f,v:r/255}},rgb_to_hex:function(i,t,n){var o=this.hex_with_component(0,2,i);return o=this.hex_with_component(o,1,t),o=this.hex_with_component(o,0,n),o},component_from_hex:function(i,t){return i>>t*8&255},hex_with_component:function(i,t,n){return n<<(jo=t*8)|i&~(255<<jo)}},uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we=function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")},Ee=function(){function e(i,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),at=function e(i,t,n){i===null&&(i=Function.prototype);var o=Object.getOwnPropertyDescriptor(i,t);if(o===void 0){var r=Object.getPrototypeOf(i);return r===null?void 0:e(r,t,n)}else{if("value"in o)return o.value;var s=o.get;return s===void 0?void 0:s.call(n)}},ut=function(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i)},ft=function(e,i){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:e},le=function(){function e(){if(we(this,e),this.__state=Br.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return Ee(e,[{key:"toString",value:function(){return Ht(this)}},{key:"toHexString",value:function(){return Ht(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();function oo(e,i,t){Object.defineProperty(e,i,{get:function(){return this.__state.space==="RGB"?this.__state[i]:(le.recalculateRGB(this,i,t),this.__state[i])},set:function(o){this.__state.space!=="RGB"&&(le.recalculateRGB(this,i,t),this.__state.space="RGB"),this.__state[i]=o}})}function ao(e,i){Object.defineProperty(e,i,{get:function(){return this.__state.space==="HSV"?this.__state[i]:(le.recalculateHSV(this),this.__state[i])},set:function(n){this.__state.space!=="HSV"&&(le.recalculateHSV(this),this.__state.space="HSV"),this.__state[i]=n}})}le.recalculateRGB=function(e,i,t){if(e.__state.space==="HEX")e.__state[i]=nn.component_from_hex(e.__state.hex,t);else if(e.__state.space==="HSV")k.extend(e.__state,nn.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v));else throw new Error("Corrupted color state")};le.recalculateHSV=function(e){var i=nn.rgb_to_hsv(e.r,e.g,e.b);k.extend(e.__state,{s:i.s,v:i.v}),k.isNaN(i.h)?k.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=i.h};le.COMPONENTS=["r","g","b","h","s","v","hex","a"];oo(le.prototype,"r",2);oo(le.prototype,"g",1);oo(le.prototype,"b",0);ao(le.prototype,"h");ao(le.prototype,"s");ao(le.prototype,"v");Object.defineProperty(le.prototype,"a",{get:function(){return this.__state.a},set:function(i){this.__state.a=i}});Object.defineProperty(le.prototype,"hex",{get:function(){return this.__state.space!=="HEX"&&(this.__state.hex=nn.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(i){this.__state.space="HEX",this.__state.hex=i}});var It=function(){function e(i,t){we(this,e),this.initialValue=i[t],this.domElement=document.createElement("div"),this.object=i,this.property=t,this.__onChange=void 0,this.__onFinishChange=void 0}return Ee(e,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),fu={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},Hs={};k.each(fu,function(e,i){k.each(e,function(t){Hs[t]=i})});var cu=/(\d+(\.\d+)?)px/;function Ie(e){if(e==="0"||k.isUndefined(e))return 0;var i=e.match(cu);return k.isNull(i)?0:parseFloat(i[1])}var N={makeSelectable:function(i,t){i===void 0||i.style===void 0||(i.onselectstart=t?function(){return!1}:function(){},i.style.MozUserSelect=t?"auto":"none",i.style.KhtmlUserSelect=t?"auto":"none",i.unselectable=t?"on":"off")},makeFullscreen:function(i,t,n){var o=n,r=t;k.isUndefined(r)&&(r=!0),k.isUndefined(o)&&(o=!0),i.style.position="absolute",r&&(i.style.left=0,i.style.right=0),o&&(i.style.top=0,i.style.bottom=0)},fakeEvent:function(i,t,n,o){var r=n||{},s=Hs[t];if(!s)throw new Error("Event type "+t+" not supported.");var l=document.createEvent(s);switch(s){case"MouseEvents":{var f=r.x||r.clientX||0,c=r.y||r.clientY||0;l.initMouseEvent(t,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,f,c,!1,!1,!1,!1,0,null);break}case"KeyboardEvents":{var d=l.initKeyboardEvent||l.initKeyEvent;k.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),d(t,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break}default:{l.initEvent(t,r.bubbles||!1,r.cancelable||!0);break}}k.defaults(l,o),i.dispatchEvent(l)},bind:function(i,t,n,o){var r=o||!1;return i.addEventListener?i.addEventListener(t,n,r):i.attachEvent&&i.attachEvent("on"+t,n),N},unbind:function(i,t,n,o){var r=o||!1;return i.removeEventListener?i.removeEventListener(t,n,r):i.detachEvent&&i.detachEvent("on"+t,n),N},addClass:function(i,t){if(i.className===void 0)i.className=t;else if(i.className!==t){var n=i.className.split(/ +/);n.indexOf(t)===-1&&(n.push(t),i.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return N},removeClass:function(i,t){if(t)if(i.className===t)i.removeAttribute("class");else{var n=i.className.split(/ +/),o=n.indexOf(t);o!==-1&&(n.splice(o,1),i.className=n.join(" "))}else i.className=void 0;return N},hasClass:function(i,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(i.className)||!1},getWidth:function(i){var t=getComputedStyle(i);return Ie(t["border-left-width"])+Ie(t["border-right-width"])+Ie(t["padding-left"])+Ie(t["padding-right"])+Ie(t.width)},getHeight:function(i){var t=getComputedStyle(i);return Ie(t["border-top-width"])+Ie(t["border-bottom-width"])+Ie(t["padding-top"])+Ie(t["padding-bottom"])+Ie(t.height)},getOffset:function(i){var t=i,n={left:0,top:0};if(t.offsetParent)do n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent;while(t);return n},isActive:function(i){return i===document.activeElement&&(i.type||i.href)}},Gs=function(e){ut(i,e);function i(t,n){we(this,i);var o=ft(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,n)),r=o;o.__prev=o.getValue(),o.__checkbox=document.createElement("input"),o.__checkbox.setAttribute("type","checkbox");function s(){r.setValue(!r.__prev)}return N.bind(o.__checkbox,"change",s,!1),o.domElement.appendChild(o.__checkbox),o.updateDisplay(),o}return Ee(i,[{key:"setValue",value:function(n){var o=at(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"setValue",this).call(this,n);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),o}},{key:"updateDisplay",value:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),at(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"updateDisplay",this).call(this)}}]),i}(It),hu=function(e){ut(i,e);function i(t,n,o){we(this,i);var r=ft(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,n)),s=o,l=r;if(r.__select=document.createElement("select"),k.isArray(s)){var f={};k.each(s,function(c){f[c]=c}),s=f}return k.each(s,function(c,d){var a=document.createElement("option");a.innerHTML=d,a.setAttribute("value",c),l.__select.appendChild(a)}),r.updateDisplay(),N.bind(r.__select,"change",function(){var c=this.options[this.selectedIndex].value;l.setValue(c)}),r.domElement.appendChild(r.__select),r}return Ee(i,[{key:"setValue",value:function(n){var o=at(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"setValue",this).call(this,n);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),o}},{key:"updateDisplay",value:function(){return N.isActive(this.__select)?this:(this.__select.value=this.getValue(),at(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"updateDisplay",this).call(this))}}]),i}(It),du=function(e){ut(i,e);function i(t,n){we(this,i);var o=ft(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,n)),r=o;function s(){r.setValue(r.__input.value)}function l(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),N.bind(o.__input,"keyup",s),N.bind(o.__input,"change",s),N.bind(o.__input,"blur",l),N.bind(o.__input,"keydown",function(f){f.keyCode===13&&this.blur()}),o.updateDisplay(),o.domElement.appendChild(o.__input),o}return Ee(i,[{key:"updateDisplay",value:function(){return N.isActive(this.__input)||(this.__input.value=this.getValue()),at(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"updateDisplay",this).call(this)}}]),i}(It);function Uo(e){var i=e.toString();return i.indexOf(".")>-1?i.length-i.indexOf(".")-1:0}var Zs=function(e){ut(i,e);function i(t,n,o){we(this,i);var r=ft(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,n)),s=o||{};return r.__min=s.min,r.__max=s.max,r.__step=s.step,k.isUndefined(r.__step)?r.initialValue===0?r.__impliedStep=1:r.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(r.initialValue))/Math.LN10))/10:r.__impliedStep=r.__step,r.__precision=Uo(r.__impliedStep),r}return Ee(i,[{key:"setValue",value:function(n){var o=n;return this.__min!==void 0&&o<this.__min?o=this.__min:this.__max!==void 0&&o>this.__max&&(o=this.__max),this.__step!==void 0&&o%this.__step!==0&&(o=Math.round(o/this.__step)*this.__step),at(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"setValue",this).call(this,o)}},{key:"min",value:function(n){return this.__min=n,this}},{key:"max",value:function(n){return this.__max=n,this}},{key:"step",value:function(n){return this.__step=n,this.__impliedStep=n,this.__precision=Uo(n),this}}]),i}(It);function pu(e,i){var t=Math.pow(10,i);return Math.round(e*t)/t}var rn=function(e){ut(i,e);function i(t,n,o){we(this,i);var r=ft(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,n,o));r.__truncationSuspended=!1;var s=r,l=void 0;function f(){var p=parseFloat(s.__input.value);k.isNaN(p)||s.setValue(p)}function c(){s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function d(){c()}function a(p){var b=l-p.clientY;s.setValue(s.getValue()+b*s.__impliedStep),l=p.clientY}function u(){N.unbind(window,"mousemove",a),N.unbind(window,"mouseup",u),c()}function h(p){N.bind(window,"mousemove",a),N.bind(window,"mouseup",u),l=p.clientY}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),N.bind(r.__input,"change",f),N.bind(r.__input,"blur",d),N.bind(r.__input,"mousedown",h),N.bind(r.__input,"keydown",function(p){p.keyCode===13&&(s.__truncationSuspended=!0,this.blur(),s.__truncationSuspended=!1,c())}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return Ee(i,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():pu(this.getValue(),this.__precision),at(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"updateDisplay",this).call(this)}}]),i}(Zs);function Ho(e,i,t,n,o){return n+(o-n)*((e-i)/(t-i))}var jr=function(e){ut(i,e);function i(t,n,o,r,s){we(this,i);var l=ft(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,n,{min:o,max:r,step:s})),f=l;l.__background=document.createElement("div"),l.__foreground=document.createElement("div"),N.bind(l.__background,"mousedown",c),N.bind(l.__background,"touchstart",u),N.addClass(l.__background,"slider"),N.addClass(l.__foreground,"slider-fg");function c(b){document.activeElement.blur(),N.bind(window,"mousemove",d),N.bind(window,"mouseup",a),d(b)}function d(b){b.preventDefault();var E=f.__background.getBoundingClientRect();return f.setValue(Ho(b.clientX,E.left,E.right,f.__min,f.__max)),!1}function a(){N.unbind(window,"mousemove",d),N.unbind(window,"mouseup",a),f.__onFinishChange&&f.__onFinishChange.call(f,f.getValue())}function u(b){b.touches.length===1&&(N.bind(window,"touchmove",h),N.bind(window,"touchend",p),h(b))}function h(b){var E=b.touches[0].clientX,_=f.__background.getBoundingClientRect();f.setValue(Ho(E,_.left,_.right,f.__min,f.__max))}function p(){N.unbind(window,"touchmove",h),N.unbind(window,"touchend",p),f.__onFinishChange&&f.__onFinishChange.call(f,f.getValue())}return l.updateDisplay(),l.__background.appendChild(l.__foreground),l.domElement.appendChild(l.__background),l}return Ee(i,[{key:"updateDisplay",value:function(){var n=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=n*100+"%",at(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"updateDisplay",this).call(this)}}]),i}(Zs),Vs=function(e){ut(i,e);function i(t,n,o){we(this,i);var r=ft(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,n)),s=r;return r.__button=document.createElement("div"),r.__button.innerHTML=o===void 0?"Fire":o,N.bind(r.__button,"click",function(l){return l.preventDefault(),s.fire(),!1}),N.addClass(r.__button,"button"),r.domElement.appendChild(r.__button),r}return Ee(i,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),i}(It),Ur=function(e){ut(i,e);function i(t,n){we(this,i);var o=ft(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,n));o.__color=new le(o.getValue()),o.__temp=new le(0);var r=o;o.domElement=document.createElement("div"),N.makeSelectable(o.domElement,!1),o.__selector=document.createElement("div"),o.__selector.className="selector",o.__saturation_field=document.createElement("div"),o.__saturation_field.className="saturation-field",o.__field_knob=document.createElement("div"),o.__field_knob.className="field-knob",o.__field_knob_border="2px solid ",o.__hue_knob=document.createElement("div"),o.__hue_knob.className="hue-knob",o.__hue_field=document.createElement("div"),o.__hue_field.className="hue-field",o.__input=document.createElement("input"),o.__input.type="text",o.__input_textShadow="0 1px 1px ",N.bind(o.__input,"keydown",function(b){b.keyCode===13&&a.call(this)}),N.bind(o.__input,"blur",a),N.bind(o.__selector,"mousedown",function(){N.addClass(this,"drag").bind(window,"mouseup",function(){N.removeClass(r.__selector,"drag")})}),N.bind(o.__selector,"touchstart",function(){N.addClass(this,"drag").bind(window,"touchend",function(){N.removeClass(r.__selector,"drag")})});var s=document.createElement("div");k.extend(o.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),k.extend(o.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:o.__field_knob_border+(o.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),k.extend(o.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),k.extend(o.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),k.extend(s.style,{width:"100%",height:"100%",background:"none"}),Go(s,"top","rgba(0,0,0,0)","#000"),k.extend(o.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),gu(o.__hue_field),k.extend(o.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:o.__input_textShadow+"rgba(0,0,0,0.7)"}),N.bind(o.__saturation_field,"mousedown",l),N.bind(o.__saturation_field,"touchstart",l),N.bind(o.__field_knob,"mousedown",l),N.bind(o.__field_knob,"touchstart",l),N.bind(o.__hue_field,"mousedown",f),N.bind(o.__hue_field,"touchstart",f);function l(b){h(b),N.bind(window,"mousemove",h),N.bind(window,"touchmove",h),N.bind(window,"mouseup",c),N.bind(window,"touchend",c)}function f(b){p(b),N.bind(window,"mousemove",p),N.bind(window,"touchmove",p),N.bind(window,"mouseup",d),N.bind(window,"touchend",d)}function c(){N.unbind(window,"mousemove",h),N.unbind(window,"touchmove",h),N.unbind(window,"mouseup",c),N.unbind(window,"touchend",c),u()}function d(){N.unbind(window,"mousemove",p),N.unbind(window,"touchmove",p),N.unbind(window,"mouseup",d),N.unbind(window,"touchend",d),u()}function a(){var b=Br(this.value);b!==!1?(r.__color.__state=b,r.setValue(r.__color.toOriginal())):this.value=r.__color.toString()}function u(){r.__onFinishChange&&r.__onFinishChange.call(r,r.__color.toOriginal())}o.__saturation_field.appendChild(s),o.__selector.appendChild(o.__field_knob),o.__selector.appendChild(o.__saturation_field),o.__selector.appendChild(o.__hue_field),o.__hue_field.appendChild(o.__hue_knob),o.domElement.appendChild(o.__input),o.domElement.appendChild(o.__selector),o.updateDisplay();function h(b){b.type.indexOf("touch")===-1&&b.preventDefault();var E=r.__saturation_field.getBoundingClientRect(),_=b.touches&&b.touches[0]||b,A=_.clientX,g=_.clientY,w=(A-E.left)/(E.right-E.left),I=1-(g-E.top)/(E.bottom-E.top);return I>1?I=1:I<0&&(I=0),w>1?w=1:w<0&&(w=0),r.__color.v=I,r.__color.s=w,r.setValue(r.__color.toOriginal()),!1}function p(b){b.type.indexOf("touch")===-1&&b.preventDefault();var E=r.__hue_field.getBoundingClientRect(),_=b.touches&&b.touches[0]||b,A=_.clientY,g=1-(A-E.top)/(E.bottom-E.top);return g>1?g=1:g<0&&(g=0),r.__color.h=g*360,r.setValue(r.__color.toOriginal()),!1}return o}return Ee(i,[{key:"updateDisplay",value:function(){var n=Br(this.getValue());if(n!==!1){var o=!1;k.each(le.COMPONENTS,function(l){if(!k.isUndefined(n[l])&&!k.isUndefined(this.__color.__state[l])&&n[l]!==this.__color.__state[l])return o=!0,{}},this),o&&k.extend(this.__color.__state,n)}k.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var r=this.__color.v<.5||this.__color.s>.5?255:0,s=255-r;k.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+r+","+r+","+r+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,Go(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),k.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+r+","+r+","+r+")",textShadow:this.__input_textShadow+"rgba("+s+","+s+","+s+",.7)"})}}]),i}(It),_u=["-moz-","-o-","-webkit-","-ms-",""];function Go(e,i,t,n){e.style.background="",k.each(_u,function(o){e.style.cssText+="background: "+o+"linear-gradient("+i+", "+t+" 0%, "+n+" 100%); "})}function gu(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var mu={load:function(i,t){var n=t||document,o=n.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=i,n.getElementsByTagName("head")[0].appendChild(o)},inject:function(i,t){var n=t||document,o=document.createElement("style");o.type="text/css",o.innerHTML=i;var r=n.getElementsByTagName("head")[0];try{r.appendChild(o)}catch{}}},yu=`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.

    </div>

  </div>

</div>`,vu=function(i,t){var n=i[t];return k.isArray(arguments[2])||k.isObject(arguments[2])?new hu(i,t,arguments[2]):k.isNumber(n)?k.isNumber(arguments[2])&&k.isNumber(arguments[3])?k.isNumber(arguments[4])?new jr(i,t,arguments[2],arguments[3],arguments[4]):new jr(i,t,arguments[2],arguments[3]):k.isNumber(arguments[4])?new rn(i,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new rn(i,t,{min:arguments[2],max:arguments[3]}):k.isString(n)?new du(i,t):k.isFunction(n)?new Vs(i,t,""):k.isBoolean(n)?new Gs(i,t):null};function Au(e){setTimeout(e,1e3/60)}var bu=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||Au,wu=function(){function e(){we(this,e),this.backgroundElement=document.createElement("div"),k.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),N.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),k.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var i=this;N.bind(this.backgroundElement,"click",function(){i.hide()})}return Ee(e,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),k.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var t=this,n=function o(){t.domElement.style.display="none",t.backgroundElement.style.display="none",N.unbind(t.domElement,"webkitTransitionEnd",o),N.unbind(t.domElement,"transitionend",o),N.unbind(t.domElement,"oTransitionEnd",o)};N.bind(this.domElement,"webkitTransitionEnd",n),N.bind(this.domElement,"transitionend",n),N.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-N.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-N.getHeight(this.domElement)/2+"px"}}]),e}(),Eu=su(`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`);mu.inject(Eu);var Zo="dg",Vo=72,Xo=20,Ei="Default",fi=function(){try{return!!window.localStorage}catch{return!1}}(),pi=void 0,Wo=!0,jt=void 0,xn=!1,Xs=[],ie=function e(i){var t=this,n=i||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),N.addClass(this.domElement,Zo),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],n=k.defaults(n,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),n=k.defaults(n,{resizable:n.autoPlace,hideable:n.autoPlace}),k.isUndefined(n.load)?n.load={preset:Ei}:n.preset&&(n.load.preset=n.preset),k.isUndefined(n.parent)&&n.hideable&&Xs.push(this),n.resizable=k.isUndefined(n.parent)&&n.resizable,n.autoPlace&&k.isUndefined(n.scrollable)&&(n.scrollable=!0);var o=fi&&localStorage.getItem(Ut(this,"isLocal"))==="true",r=void 0,s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return n.parent}},scrollable:{get:function(){return n.scrollable}},autoPlace:{get:function(){return n.autoPlace}},closeOnTop:{get:function(){return n.closeOnTop}},preset:{get:function(){return t.parent?t.getRoot().preset:n.load.preset},set:function(u){t.parent?t.getRoot().preset=u:n.load.preset=u,Su(this),t.revert()}},width:{get:function(){return n.width},set:function(u){n.width=u,Zr(t,u)}},name:{get:function(){return n.name},set:function(u){n.name=u,s&&(s.innerHTML=n.name)}},closed:{get:function(){return n.closed},set:function(u){n.closed=u,n.closed?N.addClass(t.__ul,e.CLASS_CLOSED):N.removeClass(t.__ul,e.CLASS_CLOSED),this.onResize(),t.__closeButton&&(t.__closeButton.innerHTML=u?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return n.load}},useLocalStorage:{get:function(){return o},set:function(u){fi&&(o=u,u?N.bind(window,"unload",r):N.unbind(window,"unload",r),localStorage.setItem(Ut(t,"isLocal"),u))}}}),k.isUndefined(n.parent)){if(this.closed=n.closed||!1,N.addClass(this.domElement,e.CLASS_MAIN),N.makeSelectable(this.domElement,!1),fi&&o){t.useLocalStorage=!0;var l=localStorage.getItem(Ut(this,"gui"));l&&(n.load=JSON.parse(l))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,N.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),n.closeOnTop?(N.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(N.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),N.bind(this.__closeButton,"click",function(){t.closed=!t.closed})}else{n.closed===void 0&&(n.closed=!0);var f=document.createTextNode(n.name);N.addClass(f,"controller-name"),s=so(t,f);var c=function(u){return u.preventDefault(),t.closed=!t.closed,!1};N.addClass(this.__ul,e.CLASS_CLOSED),N.addClass(s,"title"),N.bind(s,"click",c),n.closed||(this.closed=!1)}n.autoPlace&&(k.isUndefined(n.parent)&&(Wo&&(jt=document.createElement("div"),N.addClass(jt,Zo),N.addClass(jt,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(jt),Wo=!1),jt.appendChild(this.domElement),N.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||Zr(t,n.width)),this.__resizeHandler=function(){t.onResizeDebounced()},N.bind(window,"resize",this.__resizeHandler),N.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),N.bind(this.__ul,"transitionend",this.__resizeHandler),N.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),n.resizable&&Iu(this),r=function(){fi&&localStorage.getItem(Ut(t,"isLocal"))==="true"&&localStorage.setItem(Ut(t,"gui"),JSON.stringify(t.getSaveObject()))},this.saveToLocalStorageIfPossible=r;function d(){var a=t.getRoot();a.width+=1,k.defer(function(){a.width-=1})}n.parent||d()};ie.toggleHide=function(){xn=!xn,k.each(Xs,function(e){e.domElement.style.display=xn?"none":""})};ie.CLASS_AUTO_PLACE="a";ie.CLASS_AUTO_PLACE_CONTAINER="ac";ie.CLASS_MAIN="main";ie.CLASS_CONTROLLER_ROW="cr";ie.CLASS_TOO_TALL="taller-than-window";ie.CLASS_CLOSED="closed";ie.CLASS_CLOSE_BUTTON="close-button";ie.CLASS_CLOSE_TOP="close-top";ie.CLASS_CLOSE_BOTTOM="close-bottom";ie.CLASS_DRAG="drag";ie.DEFAULT_WIDTH=245;ie.TEXT_CLOSED="Close Controls";ie.TEXT_OPEN="Open Controls";ie._keydownHandler=function(e){document.activeElement.type!=="text"&&(e.which===Vo||e.keyCode===Vo)&&ie.toggleHide()};N.bind(window,"keydown",ie._keydownHandler,!1);k.extend(ie.prototype,{add:function(i,t){return _i(this,i,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(i,t){return _i(this,i,t,{color:!0})},remove:function(i){this.__ul.removeChild(i.__li),this.__controllers.splice(this.__controllers.indexOf(i),1);var t=this;k.defer(function(){t.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&jt.removeChild(this.domElement);var i=this;k.each(this.__folders,function(t){i.removeFolder(t)}),N.unbind(window,"keydown",ie._keydownHandler,!1),zo(this)},addFolder:function(i){if(this.__folders[i]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+i+'"');var t={name:i,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[i]&&(t.closed=this.load.folders[i].closed,t.load=this.load.folders[i]);var n=new ie(t);this.__folders[i]=n;var o=so(this,n.domElement);return N.addClass(o,"folder"),n},removeFolder:function(i){this.__ul.removeChild(i.domElement.parentElement),delete this.__folders[i.name],this.load&&this.load.folders&&this.load.folders[i.name]&&delete this.load.folders[i.name],zo(i);var t=this;k.each(i.__folders,function(n){i.removeFolder(n)}),k.defer(function(){t.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var i=this.getRoot();if(i.scrollable){var t=N.getOffset(i.__ul).top,n=0;k.each(i.__ul.childNodes,function(o){i.autoPlace&&o===i.__save_row||(n+=N.getHeight(o))}),window.innerHeight-t-Xo<n?(N.addClass(i.domElement,ie.CLASS_TOO_TALL),i.__ul.style.height=window.innerHeight-t-Xo+"px"):(N.removeClass(i.domElement,ie.CLASS_TOO_TALL),i.__ul.style.height="auto")}i.__resize_handle&&k.defer(function(){i.__resize_handle.style.height=i.__ul.offsetHeight+"px"}),i.__closeButton&&(i.__closeButton.style.width=i.width+"px")},onResizeDebounced:k.debounce(function(){this.onResize()},50),remember:function(){if(k.isUndefined(pi)&&(pi=new wu,pi.domElement.innerHTML=yu),this.parent)throw new Error("You can only call remember on a top level GUI.");var i=this;k.each(Array.prototype.slice.call(arguments),function(t){i.__rememberedObjects.length===0&&Tu(i),i.__rememberedObjects.indexOf(t)===-1&&i.__rememberedObjects.push(t)}),this.autoPlace&&Zr(this,this.width)},getRoot:function(){for(var i=this;i.parent;)i=i.parent;return i},getSaveObject:function(){var i=this.load;return i.closed=this.closed,this.__rememberedObjects.length>0&&(i.preset=this.preset,i.remembered||(i.remembered={}),i.remembered[this.preset]=Fi(this)),i.folders={},k.each(this.__folders,function(t,n){i.folders[n]=t.getSaveObject()}),i},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=Fi(this),Hr(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(i){this.load.remembered||(this.load.remembered={},this.load.remembered[Ei]=Fi(this,!0)),this.load.remembered[i]=Fi(this),this.preset=i,Gr(this,i,!0),this.saveToLocalStorageIfPossible()},revert:function(i){k.each(this.__controllers,function(t){this.getRoot().load.remembered?Ws(i||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())},this),k.each(this.__folders,function(t){t.revert(t)}),i||Hr(this.getRoot(),!1)},listen:function(i){var t=this.__listening.length===0;this.__listening.push(i),t&&zs(this.__listening)},updateDisplay:function(){k.each(this.__controllers,function(i){i.updateDisplay()}),k.each(this.__folders,function(i){i.updateDisplay()})}});function so(e,i,t){var n=document.createElement("li");return i&&n.appendChild(i),t?e.__ul.insertBefore(n,t):e.__ul.appendChild(n),e.onResize(),n}function zo(e){N.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&N.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function Hr(e,i){var t=e.__preset_select[e.__preset_select.selectedIndex];i?t.innerHTML=t.value+"*":t.innerHTML=t.value}function xu(e,i,t){if(t.__li=i,t.__gui=e,k.extend(t,{options:function(s){if(arguments.length>1){var l=t.__li.nextElementSibling;return t.remove(),_i(e,t.object,t.property,{before:l,factoryArgs:[k.toArray(arguments)]})}if(k.isArray(s)||k.isObject(s)){var f=t.__li.nextElementSibling;return t.remove(),_i(e,t.object,t.property,{before:f,factoryArgs:[s]})}},name:function(s){return t.__li.firstElementChild.firstElementChild.innerHTML=s,t},listen:function(){return t.__gui.listen(t),t},remove:function(){return t.__gui.remove(t),t}}),t instanceof jr){var n=new rn(t.object,t.property,{min:t.__min,max:t.__max,step:t.__step});k.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(r){var s=t[r],l=n[r];t[r]=n[r]=function(){var f=Array.prototype.slice.call(arguments);return l.apply(n,f),s.apply(t,f)}}),N.addClass(i,"has-slider"),t.domElement.insertBefore(n.domElement,t.domElement.firstElementChild)}else if(t instanceof rn){var o=function(s){if(k.isNumber(t.__min)&&k.isNumber(t.__max)){var l=t.__li.firstElementChild.firstElementChild.innerHTML,f=t.__gui.__listening.indexOf(t)>-1;t.remove();var c=_i(e,t.object,t.property,{before:t.__li.nextElementSibling,factoryArgs:[t.__min,t.__max,t.__step]});return c.name(l),f&&c.listen(),c}return s};t.min=k.compose(o,t.min),t.max=k.compose(o,t.max)}else t instanceof Gs?(N.bind(i,"click",function(){N.fakeEvent(t.__checkbox,"click")}),N.bind(t.__checkbox,"click",function(r){r.stopPropagation()})):t instanceof Vs?(N.bind(i,"click",function(){N.fakeEvent(t.__button,"click")}),N.bind(i,"mouseover",function(){N.addClass(t.__button,"hover")}),N.bind(i,"mouseout",function(){N.removeClass(t.__button,"hover")})):t instanceof Ur&&(N.addClass(i,"color"),t.updateDisplay=k.compose(function(r){return i.style.borderLeftColor=t.__color.toString(),r},t.updateDisplay),t.updateDisplay());t.setValue=k.compose(function(r){return e.getRoot().__preset_select&&t.isModified()&&Hr(e.getRoot(),!0),r},t.setValue)}function Ws(e,i){var t=e.getRoot(),n=t.__rememberedObjects.indexOf(i.object);if(n!==-1){var o=t.__rememberedObjectIndecesToControllers[n];if(o===void 0&&(o={},t.__rememberedObjectIndecesToControllers[n]=o),o[i.property]=i,t.load&&t.load.remembered){var r=t.load.remembered,s=void 0;if(r[e.preset])s=r[e.preset];else if(r[Ei])s=r[Ei];else return;if(s[n]&&s[n][i.property]!==void 0){var l=s[n][i.property];i.initialValue=l,i.setValue(l)}}}}function _i(e,i,t,n){if(i[t]===void 0)throw new Error('Object "'+i+'" has no property "'+t+'"');var o=void 0;if(n.color)o=new Ur(i,t);else{var r=[i,t].concat(n.factoryArgs);o=vu.apply(e,r)}n.before instanceof It&&(n.before=n.before.__li),Ws(e,o),N.addClass(o.domElement,"c");var s=document.createElement("span");N.addClass(s,"property-name"),s.innerHTML=o.property;var l=document.createElement("div");l.appendChild(s),l.appendChild(o.domElement);var f=so(e,l,n.before);return N.addClass(f,ie.CLASS_CONTROLLER_ROW),o instanceof Ur?N.addClass(f,"color"):N.addClass(f,uu(o.getValue())),xu(e,f,o),e.__controllers.push(o),o}function Ut(e,i){return document.location.href+"."+i}function Gr(e,i,t){var n=document.createElement("option");n.innerHTML=i,n.value=i,e.__preset_select.appendChild(n),t&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function Yo(e,i){i.style.display=e.useLocalStorage?"block":"none"}function Tu(e){var i=e.__save_row=document.createElement("li");N.addClass(e.domElement,"has-save"),e.__ul.insertBefore(i,e.__ul.firstChild),N.addClass(i,"save-row");var t=document.createElement("span");t.innerHTML="&nbsp;",N.addClass(t,"button gears");var n=document.createElement("span");n.innerHTML="Save",N.addClass(n,"button"),N.addClass(n,"save");var o=document.createElement("span");o.innerHTML="New",N.addClass(o,"button"),N.addClass(o,"save-as");var r=document.createElement("span");r.innerHTML="Revert",N.addClass(r,"button"),N.addClass(r,"revert");var s=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?k.each(e.load.remembered,function(a,u){Gr(e,u,u===e.preset)}):Gr(e,Ei,!1),N.bind(s,"change",function(){for(var a=0;a<e.__preset_select.length;a++)e.__preset_select[a].innerHTML=e.__preset_select[a].value;e.preset=this.value}),i.appendChild(s),i.appendChild(t),i.appendChild(n),i.appendChild(o),i.appendChild(r),fi){var l=document.getElementById("dg-local-explain"),f=document.getElementById("dg-local-storage"),c=document.getElementById("dg-save-locally");c.style.display="block",localStorage.getItem(Ut(e,"isLocal"))==="true"&&f.setAttribute("checked","checked"),Yo(e,l),N.bind(f,"change",function(){e.useLocalStorage=!e.useLocalStorage,Yo(e,l)})}var d=document.getElementById("dg-new-constructor");N.bind(d,"keydown",function(a){a.metaKey&&(a.which===67||a.keyCode===67)&&pi.hide()}),N.bind(t,"click",function(){d.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),pi.show(),d.focus(),d.select()}),N.bind(n,"click",function(){e.save()}),N.bind(o,"click",function(){var a=prompt("Enter a new preset name.");a&&e.saveAs(a)}),N.bind(r,"click",function(){e.revert()})}function Iu(e){var i=void 0;e.__resize_handle=document.createElement("div"),k.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});function t(r){return r.preventDefault(),e.width+=i-r.clientX,e.onResize(),i=r.clientX,!1}function n(){N.removeClass(e.__closeButton,ie.CLASS_DRAG),N.unbind(window,"mousemove",t),N.unbind(window,"mouseup",n)}function o(r){return r.preventDefault(),i=r.clientX,N.addClass(e.__closeButton,ie.CLASS_DRAG),N.bind(window,"mousemove",t),N.bind(window,"mouseup",n),!1}N.bind(e.__resize_handle,"mousedown",o),N.bind(e.__closeButton,"mousedown",o),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function Zr(e,i){e.domElement.style.width=i+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=i+"px"),e.__closeButton&&(e.__closeButton.style.width=i+"px")}function Fi(e,i){var t={};return k.each(e.__rememberedObjects,function(n,o){var r={},s=e.__rememberedObjectIndecesToControllers[o];k.each(s,function(l,f){r[f]=i?l.initialValue:l.getValue()}),t[o]=r}),t}function Su(e){for(var i=0;i<e.__preset_select.length;i++)e.__preset_select[i].value===e.preset&&(e.__preset_select.selectedIndex=i)}function zs(e){e.length!==0&&bu.call(window,function(){zs(e)}),k.each(e,function(i){i.updateDisplay()})}var Ou=ie,G=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ys(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var t=function n(){if(this instanceof n){var o=[null];o.push.apply(o,arguments);var r=Function.bind.apply(i,o);return new r}return i.apply(this,arguments)};t.prototype=i.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t}var ci={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var i=function(){this.init()};i.prototype={init:function(){var a=this||t;return a._counter=1e3,a._html5AudioPool=[],a.html5PoolSize=10,a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent="canplaythrough",a._navigator=typeof window<"u"&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.autoUnlock=!0,a._setup(),a},volume:function(a){var u=this||t;if(a=parseFloat(a),u.ctx||d(),typeof a<"u"&&a>=0&&a<=1){if(u._volume=a,u._muted)return u;u.usingWebAudio&&u.masterGain.gain.setValueAtTime(a,t.ctx.currentTime);for(var h=0;h<u._howls.length;h++)if(!u._howls[h]._webAudio)for(var p=u._howls[h]._getSoundIds(),b=0;b<p.length;b++){var E=u._howls[h]._soundById(p[b]);E&&E._node&&(E._node.volume=E._volume*a)}return u}return u._volume},mute:function(a){var u=this||t;u.ctx||d(),u._muted=a,u.usingWebAudio&&u.masterGain.gain.setValueAtTime(a?0:u._volume,t.ctx.currentTime);for(var h=0;h<u._howls.length;h++)if(!u._howls[h]._webAudio)for(var p=u._howls[h]._getSoundIds(),b=0;b<p.length;b++){var E=u._howls[h]._soundById(p[b]);E&&E._node&&(E._node.muted=a?!0:E._muted)}return u},stop:function(){for(var a=this||t,u=0;u<a._howls.length;u++)a._howls[u].stop();return a},unload:function(){for(var a=this||t,u=a._howls.length-1;u>=0;u--)a._howls[u].unload();return a.usingWebAudio&&a.ctx&&typeof a.ctx.close<"u"&&(a.ctx.close(),a.ctx=null,d()),a},codecs:function(a){return(this||t)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||t;if(a.state=a.ctx&&a.ctx.state||"suspended",a._autoSuspend(),!a.usingWebAudio)if(typeof Audio<"u")try{var u=new Audio;typeof u.oncanplaythrough>"u"&&(a._canPlayEvent="canplay")}catch{a.noAudio=!0}else a.noAudio=!0;try{var u=new Audio;u.muted&&(a.noAudio=!0)}catch{}return a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var a=this||t,u=null;try{u=typeof Audio<"u"?new Audio:null}catch{return a}if(!u||typeof u.canPlayType!="function")return a;var h=u.canPlayType("audio/mpeg;").replace(/^no$/,""),p=a._navigator?a._navigator.userAgent:"",b=p.match(/OPR\/([0-6].)/g),E=b&&parseInt(b[0].split("/")[1],10)<33,_=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,A=p.match(/Version\/(.*?) /),g=_&&A&&parseInt(A[1],10)<15;return a._codecs={mp3:!!(!E&&(h||u.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!h,opus:!!u.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(u.canPlayType('audio/wav; codecs="1"')||u.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!u.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!u.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(u.canPlayType("audio/x-m4a;")||u.canPlayType("audio/m4a;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(u.canPlayType("audio/x-m4b;")||u.canPlayType("audio/m4b;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(u.canPlayType("audio/x-mp4;")||u.canPlayType("audio/mp4;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!g&&u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!g&&u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!u.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(u.canPlayType("audio/x-flac;")||u.canPlayType("audio/flac;")).replace(/^no$/,"")},a},_unlockAudio:function(){var a=this||t;if(!(a._audioUnlocked||!a.ctx)){a._audioUnlocked=!1,a.autoUnlock=!1,!a._mobileUnloaded&&a.ctx.sampleRate!==44100&&(a._mobileUnloaded=!0,a.unload()),a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var u=function(h){for(;a._html5AudioPool.length<a.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,a._releaseHtml5Audio(p)}catch{a.noAudio=!0;break}for(var b=0;b<a._howls.length;b++)if(!a._howls[b]._webAudio)for(var E=a._howls[b]._getSoundIds(),_=0;_<E.length;_++){var A=a._howls[b]._soundById(E[_]);A&&A._node&&!A._node._unlocked&&(A._node._unlocked=!0,A._node.load())}a._autoResume();var g=a.ctx.createBufferSource();g.buffer=a._scratchBuffer,g.connect(a.ctx.destination),typeof g.start>"u"?g.noteOn(0):g.start(0),typeof a.ctx.resume=="function"&&a.ctx.resume(),g.onended=function(){g.disconnect(0),a._audioUnlocked=!0,document.removeEventListener("touchstart",u,!0),document.removeEventListener("touchend",u,!0),document.removeEventListener("click",u,!0),document.removeEventListener("keydown",u,!0);for(var w=0;w<a._howls.length;w++)a._howls[w]._emit("unlock")}};return document.addEventListener("touchstart",u,!0),document.addEventListener("touchend",u,!0),document.addEventListener("click",u,!0),document.addEventListener("keydown",u,!0),a}},_obtainHtml5Audio:function(){var a=this||t;if(a._html5AudioPool.length)return a._html5AudioPool.pop();var u=new Audio().play();return u&&typeof Promise<"u"&&(u instanceof Promise||typeof u.then=="function")&&u.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(a){var u=this||t;return a._unlocked&&u._html5AudioPool.push(a),u},_autoSuspend:function(){var a=this;if(!(!a.autoSuspend||!a.ctx||typeof a.ctx.suspend>"u"||!t.usingWebAudio)){for(var u=0;u<a._howls.length;u++)if(a._howls[u]._webAudio){for(var h=0;h<a._howls[u]._sounds.length;h++)if(!a._howls[u]._sounds[h]._paused)return a}return a._suspendTimer&&clearTimeout(a._suspendTimer),a._suspendTimer=setTimeout(function(){if(a.autoSuspend){a._suspendTimer=null,a.state="suspending";var p=function(){a.state="suspended",a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())};a.ctx.suspend().then(p,p)}},3e4),a}},_autoResume:function(){var a=this;if(!(!a.ctx||typeof a.ctx.resume>"u"||!t.usingWebAudio))return a.state==="running"&&a.ctx.state!=="interrupted"&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):a.state==="suspended"||a.state==="running"&&a.ctx.state==="interrupted"?(a.ctx.resume().then(function(){a.state="running";for(var u=0;u<a._howls.length;u++)a._howls[u]._emit("resume")}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):a.state==="suspending"&&(a._resumeAfterSuspend=!0),a}};var t=new i,n=function(a){var u=this;if(!a.src||a.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}u.init(a)};n.prototype={init:function(a){var u=this;return t.ctx||d(),u._autoplay=a.autoplay||!1,u._format=typeof a.format!="string"?a.format:[a.format],u._html5=a.html5||!1,u._muted=a.mute||!1,u._loop=a.loop||!1,u._pool=a.pool||5,u._preload=typeof a.preload=="boolean"||a.preload==="metadata"?a.preload:!0,u._rate=a.rate||1,u._sprite=a.sprite||{},u._src=typeof a.src!="string"?a.src:[a.src],u._volume=a.volume!==void 0?a.volume:1,u._xhr={method:a.xhr&&a.xhr.method?a.xhr.method:"GET",headers:a.xhr&&a.xhr.headers?a.xhr.headers:null,withCredentials:a.xhr&&a.xhr.withCredentials?a.xhr.withCredentials:!1},u._duration=0,u._state="unloaded",u._sounds=[],u._endTimers={},u._queue=[],u._playLock=!1,u._onend=a.onend?[{fn:a.onend}]:[],u._onfade=a.onfade?[{fn:a.onfade}]:[],u._onload=a.onload?[{fn:a.onload}]:[],u._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],u._onplayerror=a.onplayerror?[{fn:a.onplayerror}]:[],u._onpause=a.onpause?[{fn:a.onpause}]:[],u._onplay=a.onplay?[{fn:a.onplay}]:[],u._onstop=a.onstop?[{fn:a.onstop}]:[],u._onmute=a.onmute?[{fn:a.onmute}]:[],u._onvolume=a.onvolume?[{fn:a.onvolume}]:[],u._onrate=a.onrate?[{fn:a.onrate}]:[],u._onseek=a.onseek?[{fn:a.onseek}]:[],u._onunlock=a.onunlock?[{fn:a.onunlock}]:[],u._onresume=[],u._webAudio=t.usingWebAudio&&!u._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(u),u._autoplay&&u._queue.push({event:"play",action:function(){u.play()}}),u._preload&&u._preload!=="none"&&u.load(),u},load:function(){var a=this,u=null;if(t.noAudio){a._emit("loaderror",null,"No audio support.");return}typeof a._src=="string"&&(a._src=[a._src]);for(var h=0;h<a._src.length;h++){var p,b;if(a._format&&a._format[h])p=a._format[h];else{if(b=a._src[h],typeof b!="string"){a._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}p=/^data:audio\/([^;,]+);/i.exec(b),p||(p=/\.([^.]+)$/.exec(b.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&t.codecs(p)){u=a._src[h];break}}if(!u){a._emit("loaderror",null,"No codec support for selected audio sources.");return}return a._src=u,a._state="loading",window.location.protocol==="https:"&&u.slice(0,5)==="http:"&&(a._html5=!0,a._webAudio=!1),new o(a),a._webAudio&&s(a),a},play:function(a,u){var h=this,p=null;if(typeof a=="number")p=a,a=null;else{if(typeof a=="string"&&h._state==="loaded"&&!h._sprite[a])return null;if(typeof a>"u"&&(a="__default",!h._playLock)){for(var b=0,E=0;E<h._sounds.length;E++)h._sounds[E]._paused&&!h._sounds[E]._ended&&(b++,p=h._sounds[E]._id);b===1?a=null:p=null}}var _=p?h._soundById(p):h._inactiveSound();if(!_)return null;if(p&&!a&&(a=_._sprite||"__default"),h._state!=="loaded"){_._sprite=a,_._ended=!1;var A=_._id;return h._queue.push({event:"play",action:function(){h.play(A)}}),A}if(p&&!_._paused)return u||h._loadQueue("play"),_._id;h._webAudio&&t._autoResume();var g=Math.max(0,_._seek>0?_._seek:h._sprite[a][0]/1e3),w=Math.max(0,(h._sprite[a][0]+h._sprite[a][1])/1e3-g),I=w*1e3/Math.abs(_._rate),C=h._sprite[a][0]/1e3,R=(h._sprite[a][0]+h._sprite[a][1])/1e3;_._sprite=a,_._ended=!1;var S=function(){_._paused=!1,_._seek=g,_._start=C,_._stop=R,_._loop=!!(_._loop||h._sprite[a][2])};if(g>=R){h._ended(_);return}var m=_._node;if(h._webAudio){var L=function(){h._playLock=!1,S(),h._refreshBuffer(_);var X=_._muted||h._muted?0:_._volume;m.gain.setValueAtTime(X,t.ctx.currentTime),_._playStart=t.ctx.currentTime,typeof m.bufferSource.start>"u"?_._loop?m.bufferSource.noteGrainOn(0,g,86400):m.bufferSource.noteGrainOn(0,g,w):_._loop?m.bufferSource.start(0,g,86400):m.bufferSource.start(0,g,w),I!==1/0&&(h._endTimers[_._id]=setTimeout(h._ended.bind(h,_),I)),u||setTimeout(function(){h._emit("play",_._id),h._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?L():(h._playLock=!0,h.once("resume",L),h._clearTimer(_._id))}else{var q=function(){m.currentTime=g,m.muted=_._muted||h._muted||t._muted||m.muted,m.volume=_._volume*t.volume(),m.playbackRate=_._rate;try{var X=m.play();if(X&&typeof Promise<"u"&&(X instanceof Promise||typeof X.then=="function")?(h._playLock=!0,S(),X.then(function(){h._playLock=!1,m._unlocked=!0,u?h._loadQueue():h._emit("play",_._id)}).catch(function(){h._playLock=!1,h._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),_._ended=!0,_._paused=!0})):u||(h._playLock=!1,S(),h._emit("play",_._id)),m.playbackRate=_._rate,m.paused){h._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}a!=="__default"||_._loop?h._endTimers[_._id]=setTimeout(h._ended.bind(h,_),I):(h._endTimers[_._id]=function(){h._ended(_),m.removeEventListener("ended",h._endTimers[_._id],!1)},m.addEventListener("ended",h._endTimers[_._id],!1))}catch($){h._emit("playerror",_._id,$)}};m.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(m.src=h._src,m.load());var j=window&&window.ejecta||!m.readyState&&t._navigator.isCocoonJS;if(m.readyState>=3||j)q();else{h._playLock=!0,h._state="loading";var H=function(){h._state="loaded",q(),m.removeEventListener(t._canPlayEvent,H,!1)};m.addEventListener(t._canPlayEvent,H,!1),h._clearTimer(_._id)}}return _._id},pause:function(a){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"pause",action:function(){u.pause(a)}}),u;for(var h=u._getSoundIds(a),p=0;p<h.length;p++){u._clearTimer(h[p]);var b=u._soundById(h[p]);if(b&&!b._paused&&(b._seek=u.seek(h[p]),b._rateSeek=0,b._paused=!0,u._stopFade(h[p]),b._node))if(u._webAudio){if(!b._node.bufferSource)continue;typeof b._node.bufferSource.stop>"u"?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),u._cleanBuffer(b._node)}else(!isNaN(b._node.duration)||b._node.duration===1/0)&&b._node.pause();arguments[1]||u._emit("pause",b?b._id:null)}return u},stop:function(a,u){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"stop",action:function(){h.stop(a)}}),h;for(var p=h._getSoundIds(a),b=0;b<p.length;b++){h._clearTimer(p[b]);var E=h._soundById(p[b]);E&&(E._seek=E._start||0,E._rateSeek=0,E._paused=!0,E._ended=!0,h._stopFade(p[b]),E._node&&(h._webAudio?E._node.bufferSource&&(typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),h._cleanBuffer(E._node)):(!isNaN(E._node.duration)||E._node.duration===1/0)&&(E._node.currentTime=E._start||0,E._node.pause(),E._node.duration===1/0&&h._clearSound(E._node))),u||h._emit("stop",E._id))}return h},mute:function(a,u){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"mute",action:function(){h.mute(a,u)}}),h;if(typeof u>"u")if(typeof a=="boolean")h._muted=a;else return h._muted;for(var p=h._getSoundIds(u),b=0;b<p.length;b++){var E=h._soundById(p[b]);E&&(E._muted=a,E._interval&&h._stopFade(E._id),h._webAudio&&E._node?E._node.gain.setValueAtTime(a?0:E._volume,t.ctx.currentTime):E._node&&(E._node.muted=t._muted?!0:a),h._emit("mute",E._id))}return h},volume:function(){var a=this,u=arguments,h,p;if(u.length===0)return a._volume;if(u.length===1||u.length===2&&typeof u[1]>"u"){var b=a._getSoundIds(),E=b.indexOf(u[0]);E>=0?p=parseInt(u[0],10):h=parseFloat(u[0])}else u.length>=2&&(h=parseFloat(u[0]),p=parseInt(u[1],10));var _;if(typeof h<"u"&&h>=0&&h<=1){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"volume",action:function(){a.volume.apply(a,u)}}),a;typeof p>"u"&&(a._volume=h),p=a._getSoundIds(p);for(var A=0;A<p.length;A++)_=a._soundById(p[A]),_&&(_._volume=h,u[2]||a._stopFade(p[A]),a._webAudio&&_._node&&!_._muted?_._node.gain.setValueAtTime(h,t.ctx.currentTime):_._node&&!_._muted&&(_._node.volume=h*t.volume()),a._emit("volume",_._id))}else return _=p?a._soundById(p):a._sounds[0],_?_._volume:0;return a},fade:function(a,u,h,p){var b=this;if(b._state!=="loaded"||b._playLock)return b._queue.push({event:"fade",action:function(){b.fade(a,u,h,p)}}),b;a=Math.min(Math.max(0,parseFloat(a)),1),u=Math.min(Math.max(0,parseFloat(u)),1),h=parseFloat(h),b.volume(a,p);for(var E=b._getSoundIds(p),_=0;_<E.length;_++){var A=b._soundById(E[_]);if(A){if(p||b._stopFade(E[_]),b._webAudio&&!A._muted){var g=t.ctx.currentTime,w=g+h/1e3;A._volume=a,A._node.gain.setValueAtTime(a,g),A._node.gain.linearRampToValueAtTime(u,w)}b._startFadeInterval(A,a,u,h,E[_],typeof p>"u")}}return b},_startFadeInterval:function(a,u,h,p,b,E){var _=this,A=u,g=h-u,w=Math.abs(g/.01),I=Math.max(4,w>0?p/w:p),C=Date.now();a._fadeTo=h,a._interval=setInterval(function(){var R=(Date.now()-C)/p;C=Date.now(),A+=g*R,A=Math.round(A*100)/100,g<0?A=Math.max(h,A):A=Math.min(h,A),_._webAudio?a._volume=A:_.volume(A,a._id,!0),E&&(_._volume=A),(h<u&&A<=h||h>u&&A>=h)&&(clearInterval(a._interval),a._interval=null,a._fadeTo=null,_.volume(h,a._id),_._emit("fade",a._id))},I)},_stopFade:function(a){var u=this,h=u._soundById(a);return h&&h._interval&&(u._webAudio&&h._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(h._interval),h._interval=null,u.volume(h._fadeTo,a),h._fadeTo=null,u._emit("fade",a)),u},loop:function(){var a=this,u=arguments,h,p,b;if(u.length===0)return a._loop;if(u.length===1)if(typeof u[0]=="boolean")h=u[0],a._loop=h;else return b=a._soundById(parseInt(u[0],10)),b?b._loop:!1;else u.length===2&&(h=u[0],p=parseInt(u[1],10));for(var E=a._getSoundIds(p),_=0;_<E.length;_++)b=a._soundById(E[_]),b&&(b._loop=h,a._webAudio&&b._node&&b._node.bufferSource&&(b._node.bufferSource.loop=h,h&&(b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop,a.playing(E[_])&&(a.pause(E[_],!0),a.play(E[_],!0)))));return a},rate:function(){var a=this,u=arguments,h,p;if(u.length===0)p=a._sounds[0]._id;else if(u.length===1){var b=a._getSoundIds(),E=b.indexOf(u[0]);E>=0?p=parseInt(u[0],10):h=parseFloat(u[0])}else u.length===2&&(h=parseFloat(u[0]),p=parseInt(u[1],10));var _;if(typeof h=="number"){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"rate",action:function(){a.rate.apply(a,u)}}),a;typeof p>"u"&&(a._rate=h),p=a._getSoundIds(p);for(var A=0;A<p.length;A++)if(_=a._soundById(p[A]),_){a.playing(p[A])&&(_._rateSeek=a.seek(p[A]),_._playStart=a._webAudio?t.ctx.currentTime:_._playStart),_._rate=h,a._webAudio&&_._node&&_._node.bufferSource?_._node.bufferSource.playbackRate.setValueAtTime(h,t.ctx.currentTime):_._node&&(_._node.playbackRate=h);var g=a.seek(p[A]),w=(a._sprite[_._sprite][0]+a._sprite[_._sprite][1])/1e3-g,I=w*1e3/Math.abs(_._rate);(a._endTimers[p[A]]||!_._paused)&&(a._clearTimer(p[A]),a._endTimers[p[A]]=setTimeout(a._ended.bind(a,_),I)),a._emit("rate",_._id)}}else return _=a._soundById(p),_?_._rate:a._rate;return a},seek:function(){var a=this,u=arguments,h,p;if(u.length===0)a._sounds.length&&(p=a._sounds[0]._id);else if(u.length===1){var b=a._getSoundIds(),E=b.indexOf(u[0]);E>=0?p=parseInt(u[0],10):a._sounds.length&&(p=a._sounds[0]._id,h=parseFloat(u[0]))}else u.length===2&&(h=parseFloat(u[0]),p=parseInt(u[1],10));if(typeof p>"u")return 0;if(typeof h=="number"&&(a._state!=="loaded"||a._playLock))return a._queue.push({event:"seek",action:function(){a.seek.apply(a,u)}}),a;var _=a._soundById(p);if(_)if(typeof h=="number"&&h>=0){var A=a.playing(p);A&&a.pause(p,!0),_._seek=h,_._ended=!1,a._clearTimer(p),!a._webAudio&&_._node&&!isNaN(_._node.duration)&&(_._node.currentTime=h);var g=function(){A&&a.play(p,!0),a._emit("seek",p)};if(A&&!a._webAudio){var w=function(){a._playLock?setTimeout(w,0):g()};setTimeout(w,0)}else g()}else if(a._webAudio){var I=a.playing(p)?t.ctx.currentTime-_._playStart:0,C=_._rateSeek?_._rateSeek-_._seek:0;return _._seek+(C+I*Math.abs(_._rate))}else return _._node.currentTime;return a},playing:function(a){var u=this;if(typeof a=="number"){var h=u._soundById(a);return h?!h._paused:!1}for(var p=0;p<u._sounds.length;p++)if(!u._sounds[p]._paused)return!0;return!1},duration:function(a){var u=this,h=u._duration,p=u._soundById(a);return p&&(h=u._sprite[p._sprite][1]/1e3),h},state:function(){return this._state},unload:function(){for(var a=this,u=a._sounds,h=0;h<u.length;h++)u[h]._paused||a.stop(u[h]._id),a._webAudio||(a._clearSound(u[h]._node),u[h]._node.removeEventListener("error",u[h]._errorFn,!1),u[h]._node.removeEventListener(t._canPlayEvent,u[h]._loadFn,!1),u[h]._node.removeEventListener("ended",u[h]._endFn,!1),t._releaseHtml5Audio(u[h]._node)),delete u[h]._node,a._clearTimer(u[h]._id);var p=t._howls.indexOf(a);p>=0&&t._howls.splice(p,1);var b=!0;for(h=0;h<t._howls.length;h++)if(t._howls[h]._src===a._src||a._src.indexOf(t._howls[h]._src)>=0){b=!1;break}return r&&b&&delete r[a._src],t.noAudio=!1,a._state="unloaded",a._sounds=[],a=null,null},on:function(a,u,h,p){var b=this,E=b["_on"+a];return typeof u=="function"&&E.push(p?{id:h,fn:u,once:p}:{id:h,fn:u}),b},off:function(a,u,h){var p=this,b=p["_on"+a],E=0;if(typeof u=="number"&&(h=u,u=null),u||h)for(E=0;E<b.length;E++){var _=h===b[E].id;if(u===b[E].fn&&_||!u&&_){b.splice(E,1);break}}else if(a)p["_on"+a]=[];else{var A=Object.keys(p);for(E=0;E<A.length;E++)A[E].indexOf("_on")===0&&Array.isArray(p[A[E]])&&(p[A[E]]=[])}return p},once:function(a,u,h){var p=this;return p.on(a,u,h,1),p},_emit:function(a,u,h){for(var p=this,b=p["_on"+a],E=b.length-1;E>=0;E--)(!b[E].id||b[E].id===u||a==="load")&&(setTimeout(function(_){_.call(this,u,h)}.bind(p,b[E].fn),0),b[E].once&&p.off(a,b[E].fn,b[E].id));return p._loadQueue(a),p},_loadQueue:function(a){var u=this;if(u._queue.length>0){var h=u._queue[0];h.event===a&&(u._queue.shift(),u._loadQueue()),a||h.action()}return u},_ended:function(a){var u=this,h=a._sprite;if(!u._webAudio&&a._node&&!a._node.paused&&!a._node.ended&&a._node.currentTime<a._stop)return setTimeout(u._ended.bind(u,a),100),u;var p=!!(a._loop||u._sprite[h][2]);if(u._emit("end",a._id),!u._webAudio&&p&&u.stop(a._id,!0).play(a._id),u._webAudio&&p){u._emit("play",a._id),a._seek=a._start||0,a._rateSeek=0,a._playStart=t.ctx.currentTime;var b=(a._stop-a._start)*1e3/Math.abs(a._rate);u._endTimers[a._id]=setTimeout(u._ended.bind(u,a),b)}return u._webAudio&&!p&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,a._rateSeek=0,u._clearTimer(a._id),u._cleanBuffer(a._node),t._autoSuspend()),!u._webAudio&&!p&&u.stop(a._id,!0),u},_clearTimer:function(a){var u=this;if(u._endTimers[a]){if(typeof u._endTimers[a]!="function")clearTimeout(u._endTimers[a]);else{var h=u._soundById(a);h&&h._node&&h._node.removeEventListener("ended",u._endTimers[a],!1)}delete u._endTimers[a]}return u},_soundById:function(a){for(var u=this,h=0;h<u._sounds.length;h++)if(a===u._sounds[h]._id)return u._sounds[h];return null},_inactiveSound:function(){var a=this;a._drain();for(var u=0;u<a._sounds.length;u++)if(a._sounds[u]._ended)return a._sounds[u].reset();return new o(a)},_drain:function(){var a=this,u=a._pool,h=0,p=0;if(!(a._sounds.length<u)){for(p=0;p<a._sounds.length;p++)a._sounds[p]._ended&&h++;for(p=a._sounds.length-1;p>=0;p--){if(h<=u)return;a._sounds[p]._ended&&(a._webAudio&&a._sounds[p]._node&&a._sounds[p]._node.disconnect(0),a._sounds.splice(p,1),h--)}}},_getSoundIds:function(a){var u=this;if(typeof a>"u"){for(var h=[],p=0;p<u._sounds.length;p++)h.push(u._sounds[p]._id);return h}else return[a]},_refreshBuffer:function(a){var u=this;return a._node.bufferSource=t.ctx.createBufferSource(),a._node.bufferSource.buffer=r[u._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop||0),a._node.bufferSource.playbackRate.setValueAtTime(a._rate,t.ctx.currentTime),u},_cleanBuffer:function(a){var u=this,h=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&a.bufferSource&&(a.bufferSource.onended=null,a.bufferSource.disconnect(0),h))try{a.bufferSource.buffer=t._scratchBuffer}catch{}return a.bufferSource=null,u},_clearSound:function(a){var u=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);u||(a.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(a){this._parent=a,this.init()};o.prototype={init:function(){var a=this,u=a._parent;return a._muted=u._muted,a._loop=u._loop,a._volume=u._volume,a._rate=u._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++t._counter,u._sounds.push(a),a.create(),a},create:function(){var a=this,u=a._parent,h=t._muted||a._muted||a._parent._muted?0:a._volume;return u._webAudio?(a._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),a._node.gain.setValueAtTime(h,t.ctx.currentTime),a._node.paused=!0,a._node.connect(t.masterGain)):t.noAudio||(a._node=t._obtainHtml5Audio(),a._errorFn=a._errorListener.bind(a),a._node.addEventListener("error",a._errorFn,!1),a._loadFn=a._loadListener.bind(a),a._node.addEventListener(t._canPlayEvent,a._loadFn,!1),a._endFn=a._endListener.bind(a),a._node.addEventListener("ended",a._endFn,!1),a._node.src=u._src,a._node.preload=u._preload===!0?"auto":u._preload,a._node.volume=h*t.volume(),a._node.load()),a},reset:function(){var a=this,u=a._parent;return a._muted=u._muted,a._loop=u._loop,a._volume=u._volume,a._rate=u._rate,a._seek=0,a._rateSeek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++t._counter,a},_errorListener:function(){var a=this;a._parent._emit("loaderror",a._id,a._node.error?a._node.error.code:0),a._node.removeEventListener("error",a._errorFn,!1)},_loadListener:function(){var a=this,u=a._parent;u._duration=Math.ceil(a._node.duration*10)/10,Object.keys(u._sprite).length===0&&(u._sprite={__default:[0,u._duration*1e3]}),u._state!=="loaded"&&(u._state="loaded",u._emit("load"),u._loadQueue()),a._node.removeEventListener(t._canPlayEvent,a._loadFn,!1)},_endListener:function(){var a=this,u=a._parent;u._duration===1/0&&(u._duration=Math.ceil(a._node.duration*10)/10,u._sprite.__default[1]===1/0&&(u._sprite.__default[1]=u._duration*1e3),u._ended(a)),a._node.removeEventListener("ended",a._endFn,!1)}};var r={},s=function(a){var u=a._src;if(r[u]){a._duration=r[u].duration,c(a);return}if(/^data:[^;]+;base64,/.test(u)){for(var h=atob(u.split(",")[1]),p=new Uint8Array(h.length),b=0;b<h.length;++b)p[b]=h.charCodeAt(b);f(p.buffer,a)}else{var E=new XMLHttpRequest;E.open(a._xhr.method,u,!0),E.withCredentials=a._xhr.withCredentials,E.responseType="arraybuffer",a._xhr.headers&&Object.keys(a._xhr.headers).forEach(function(_){E.setRequestHeader(_,a._xhr.headers[_])}),E.onload=function(){var _=(E.status+"")[0];if(_!=="0"&&_!=="2"&&_!=="3"){a._emit("loaderror",null,"Failed loading audio file with status: "+E.status+".");return}f(E.response,a)},E.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete r[u],a.load())},l(E)}},l=function(a){try{a.send()}catch{a.onerror()}},f=function(a,u){var h=function(){u._emit("loaderror",null,"Decoding audio data failed.")},p=function(b){b&&u._sounds.length>0?(r[u._src]=b,c(u,b)):h()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(a).then(p).catch(h):t.ctx.decodeAudioData(a,p,h)},c=function(a,u){u&&!a._duration&&(a._duration=u.duration),Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue())},d=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var a=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),u=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),h=u?parseInt(u[1],10):null;if(a&&h&&h<9){var p=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!p&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};e.Howler=t,e.Howl=n,typeof G<"u"?(G.HowlerGlobal=i,G.Howler=t,G.Howl=n,G.Sound=o):typeof window<"u"&&(window.HowlerGlobal=i,window.Howler=t,window.Howl=n,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var o=n._howls.length-1;o>=0;o--)n._howls[o].stereo(t);return n},HowlerGlobal.prototype.pos=function(t,n,o){var r=this;if(!r.ctx||!r.ctx.listener)return r;if(n=typeof n!="number"?r._pos[1]:n,o=typeof o!="number"?r._pos[2]:o,typeof t=="number")r._pos=[t,n,o],typeof r.ctx.listener.positionX<"u"?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]);else return r._pos;return r},HowlerGlobal.prototype.orientation=function(t,n,o,r,s,l){var f=this;if(!f.ctx||!f.ctx.listener)return f;var c=f._orientation;if(n=typeof n!="number"?c[1]:n,o=typeof o!="number"?c[2]:o,r=typeof r!="number"?c[3]:r,s=typeof s!="number"?c[4]:s,l=typeof l!="number"?c[5]:l,typeof t=="number")f._orientation=[t,n,o,r,s,l],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(t,n,o,r,s,l);else return c;return f},Howl.prototype.init=function(t){return function(n){var o=this;return o._orientation=n.orientation||[1,0,0],o._stereo=n.stereo||null,o._pos=n.pos||null,o._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},o._onstereo=n.onstereo?[{fn:n.onstereo}]:[],o._onpos=n.onpos?[{fn:n.onpos}]:[],o._onorientation=n.onorientation?[{fn:n.onorientation}]:[],t.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(t,n)}}),o;var r=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof t=="number")o._stereo=t,o._pos=[t,0,0];else return o._stereo;for(var s=o._getSoundIds(n),l=0;l<s.length;l++){var f=o._soundById(s[l]);if(f)if(typeof t=="number")f._stereo=t,f._pos=[t,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&i(f,r),r==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(t,0,0):f._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(t,n,o,r){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(t,n,o,r)}}),s;if(n=typeof n!="number"?0:n,o=typeof o!="number"?-.5:o,typeof r>"u")if(typeof t=="number")s._pos=[t,n,o];else return s._pos;for(var l=s._getSoundIds(r),f=0;f<l.length;f++){var c=s._soundById(l[f]);if(c)if(typeof t=="number")c._pos=[t,n,o],c._node&&((!c._panner||c._panner.pan)&&i(c,"spatial"),typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):c._panner.setPosition(t,n,o)),s._emit("pos",c._id);else return c._pos}return s},Howl.prototype.orientation=function(t,n,o,r){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(t,n,o,r)}}),s;if(n=typeof n!="number"?s._orientation[1]:n,o=typeof o!="number"?s._orientation[2]:o,typeof r>"u")if(typeof t=="number")s._orientation=[t,n,o];else return s._orientation;for(var l=s._getSoundIds(r),f=0;f<l.length;f++){var c=s._soundById(l[f]);if(c)if(typeof t=="number")c._orientation=[t,n,o],c._node&&(c._panner||(c._pos||(c._pos=s._pos||[0,0,-.5]),i(c,"spatial")),typeof c._panner.orientationX<"u"?(c._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):c._panner.setOrientation(t,n,o)),s._emit("orientation",c._id);else return c._orientation}return s},Howl.prototype.pannerAttr=function(){var t=this,n=arguments,o,r,s;if(!t._webAudio)return t;if(n.length===0)return t._pannerAttr;if(n.length===1)if(typeof n[0]=="object")o=n[0],typeof r>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),t._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:t._panningModel});else return s=t._soundById(parseInt(n[0],10)),s?s._pannerAttr:t._pannerAttr;else n.length===2&&(o=n[0],r=parseInt(n[1],10));for(var l=t._getSoundIds(r),f=0;f<l.length;f++)if(s=t._soundById(l[f]),s){var c=s._pannerAttr;c={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:c.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:c.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:c.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:c.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:c.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:c.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:c.panningModel};var d=s._panner;d?(d.coneInnerAngle=c.coneInnerAngle,d.coneOuterAngle=c.coneOuterAngle,d.coneOuterGain=c.coneOuterGain,d.distanceModel=c.distanceModel,d.maxDistance=c.maxDistance,d.refDistance=c.refDistance,d.rolloffFactor=c.rolloffFactor,d.panningModel=c.panningModel):(s._pos||(s._pos=t._pos||[0,0,-.5]),i(s,"spatial"))}return t},Sound.prototype.init=function(t){return function(){var n=this,o=n._parent;n._orientation=o._orientation,n._stereo=o._stereo,n._pos=o._pos,n._pannerAttr=o._pannerAttr,t.call(this),n._stereo?o.stereo(n._stereo):n._pos&&o.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var n=this,o=n._parent;return n._orientation=o._orientation,n._stereo=o._stereo,n._pos=o._pos,n._pannerAttr=o._pannerAttr,n._stereo?o.stereo(n._stereo):n._pos?o.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,o._refreshBuffer(n)),t.call(this)}}(Sound.prototype.reset);var i=function(t,n){n=n||"spatial",n==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(ci);class z{constructor(i=0,t=i){this.x=i,this.y=t,this.set=(n,o=n)=>(this.x=n,this.y=o,this),this.clone=()=>new z(this.x,this.y),this.add=n=>new z(this.x+n.x,this.y+n.y),this.sub=n=>new z(this.x-n.x,this.y-n.y),this.scale=n=>new z(this.x*n.x,this.y*n.y),this.dist=n=>Math.sqrt((this.x-n.x)*(this.x-n.x)+(this.y-n.y)*(this.y-n.y)),this.len=()=>this.dist(new z),this.len2=()=>this.x*this.x+this.y*this.y,this.normal=()=>new z(this.y,-this.x),this.dot=n=>this.x*n.x+this.y*n.y,this.angle=n=>Cu(Math.atan2(this.y-n.y,this.x-n.x)),this.lerp=(n,o)=>new z(Jo(this.x,n.x,o),Jo(this.y,n.y,o)),this.toFixed=n=>new z(Number(this.x.toFixed(n)),Number(this.y.toFixed(n))),this.eq=n=>this.x===n.x&&this.y===n.y}}class Ue{constructor(i,t,n){this.pos=i,this.width=t,this.height=n}}function Cu(e){return e*180/Math.PI}function Jo(e,i,t){return e+(i-e)*t}function Lu(e,i,t){return Math.max(i,Math.min(t,e))}function Js(e,i,t){for(;e<i;)e+=t-i;for(;e>=t;)e-=t-i;return e}function si(e,i){return e.pos.x<i.pos.x+i.width&&e.pos.x+e.width>i.pos.x&&e.pos.y<i.pos.y+i.height&&e.pos.y+e.height>i.pos.y}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function hi(e,i,t,n){function o(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function l(d){try{c(n.next(d))}catch(a){s(a)}}function f(d){try{c(n.throw(d))}catch(a){s(a)}}function c(d){d.done?r(d.value):o(d.value).then(l,f)}c((n=n.apply(e,i||[])).next())})}function Pe(e,i,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?e!==i||!n:!i.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(e):n?n.value:i.get(e)}function Du(e,i,t,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?e!==i||!o:!i.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,t):o?o.value=t:i.set(e,t),t}var Ke;(function(e){e.CUSTOM="custom",e.IMAGE_LAYER="imagelayer",e.LAYER="layer",e.OBJECT_GROUP="objectgroup",e.PROPERTIES="properties",e.TILESET="tileset"})(Ke||(Ke={}));var gi;(function(e){e.NON_COLLIDING="noCollide",e.INVISIBLE="invisible",e.ONE_WAY="oneWay"})(gi||(gi={}));var ce;(function(e){e.BLACK="#000",e.BLACK1="#000000FF",e.BLACK0="#00000000",e.LIGHT="#FADC96CC",e.BLUE="#7CF",e.DARK_GREY="#222",e.DARK_RED="#D00",e.GREEN="#0F0",e.LIGHT_RED="#F00",e.PURPLE="#F0F",e.WHITE="#FFF",e.WHITE_25="#FFFFFF19",e.WHITE_50="#FFFFFF80"})(ce||(ce={}));var Vr;(function(e){e.BOX="box",e.POLYGON="polygon"})(Vr||(Vr={}));var tt;(function(e){e[e.DIAGONALLY=536870912]="DIAGONALLY",e[e.HORIZONTALLY=2147483648]="HORIZONTALLY",e[e.VERTICALLY=1073741824]="VERTICALLY"})(tt||(tt={}));const Xr=()=>{};function Ru(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function Ce(){return typeof performance<"u"&&performance.now()||0}function on(e){return!!(e&&e.length)}function Nu(e){return{H:!!(e&tt.HORIZONTALLY),V:!!(e&tt.VERTICALLY),D:!!(e&tt.DIAGONALLY)}}class Mu{constructor(i){this.game=i,this.isRunning=!1,this.duration=0,this.progress=0,this.elapsed=0,this.intensity=new z,this.offset=new z}start(i,t){this.isRunning=!0,this.duration=i,this.intensity.set(t.x,t.y),this.offset.set(0),this.progress=0,this.elapsed=0}update(){if(!this.isRunning)return;const{delta:i,resolution:t}=this.game;this.elapsed+=i*1e3,this.progress=Lu(this.elapsed/this.duration,0,1),this.elapsed<this.duration?this.offset.set(Math.random()*this.intensity.x*t.x*2-this.intensity.x*t.x,Math.random()*this.intensity.y*t.y*2-this.intensity.y*t.y):this.reset()}reset(){this.isRunning=!1,this.offset.set(0)}}class qu{constructor(i){this.game=i,this.pos=new z,this.offset=new z,this.anchor=new z,this.speed=new z(1),this.shaker=new Mu(i)}moveTo(i,t){this.pos=new z(-i,-t),this.anchor=this.pos.clone()}center(){this.follow?this.moveTo(this.follow.pos.x+this.follow.width/2,this.follow.pos.y+this.follow.height/2):this.moveTo(this.game.resolution.x/2,this.game.resolution.y/2)}getBounds(){return this.bounds||this.setBounds(0,0,this.game.resolution.x,this.game.resolution.y),this.bounds}setBounds(i,t,n,o){this.bounds=new Ue(new z(i,t),n,o)}setSpeed(i,t=i){this.speed=new z(i,t)}setOffset(i,t){this.offset=new z(-i,-t)}setFollow(i,t=!0){this.follow=i,t&&this.center()}shake(i,t){this.shaker.start(i,t)}update(){if(this.follow){const{speed:i,follow:t}=this,{x:n,y:o}=this.game.resolution,{width:r,height:s}=this.getBounds(),l=new z(-n/2+t.pos.x+t.force.x+t.width/2,-o/2+t.pos.y+t.force.y+t.height/2),f=new z((l.x+this.pos.x-this.offset.x-this.shaker.offset.x)*i.x,(l.y+this.pos.y-this.offset.y-this.shaker.offset.y)*i.y);this.pos=this.pos.sub(new z(Math.round(f.x/this.game.scale),Math.round(f.y/this.game.scale))),this.pos.x-n<-r&&(this.pos.x=-r+n),this.pos.y-o<-s&&(this.pos.y=-s+o),this.pos.x>0&&(this.pos.x=0),this.pos.y>0&&(this.pos.y=0)}else this.pos.x=this.anchor.x-Math.round(this.offset.x-this.shaker.offset.x),this.pos.y=this.anchor.y-Math.round(this.offset.y-this.shaker.offset.y);this.shaker.update()}}var _e;class xe{constructor(i,t){this.game=t,this.width=0,this.height=0,this.pos=new z,this.expectedPos=new z,this.initialPos=new z,this.force=new z,this.shape=Vr.BOX,this.collisionLayers=[],this.collisions=!1,this.solid=!1,this.visible=!0,this.active=!0,this.dead=!1,_e.set(this,void 0),this.onGround=()=>this.pos.y<this.expectedPos.y,this.onCeiling=()=>this.pos.y>this.expectedPos.y,this.onRightWall=()=>this.pos.x<this.expectedPos.x,this.onLeftWall=()=>this.pos.x>this.expectedPos.x,this.id=i.id&&`${i.id}`||Ru(),this.gid=i.gid,this.pos=new z(i.x,i.y-(i.gid?i.height:0)),this.color=i.color,this.type=i.type,this.width=i.width||this.width,this.height=i.height||this.height,this.properties=i.properties,this.rotatation=i.rotation,this.layerId=i.layerId,this.visible=i.visible!==void 0?i.visible:!0,this.initialPos=this.pos.clone()}collide(i){}setCollisionArea(...i){if(i.length===4){const[t,n,o,r]=i;this.bounds=new Ue(new z(t,n),o,r)}else this.bounds=new Ue(new z,this.width,this.height)}getCollisionArea(){return this.bounds||new Ue(new z,this.width,this.height)}getBoundingBox(i=this.pos.x,t=this.pos.y){if(this.bounds){const{pos:n,width:o,height:r}=this.bounds;return new Ue(new z(n.x+i,n.y+t),o,r)}else return new Ue(new z(i,t),this.width,this.height)}draw(){if(this.visible){const{ctx:i}=this.game,{camera:t,debug:n}=this.game.getCurrentScene(),o=new z(Math.floor(this.pos.x+t.pos.x),Math.floor(this.pos.y+t.pos.y));Pe(this,_e,"f")?Pe(this,_e,"f").draw(o,this.flips):this.color&&(i.save(),i.fillStyle=this.color,i.beginPath(),i.rect(this.pos.x+t.pos.x,this.pos.y+t.pos.y,this.width,this.height),i.fill(),i.closePath(),i.restore()),n&&this.displayDebug()}}addSprite(i){Du(this,_e,i,"f")}animate(i,t,n=Xr){Pe(this,_e,"f")&&Pe(this,_e,"f").animate&&(this.flips=t,Pe(this,_e,"f").animate(i),n(Pe(this,_e,"f").animFrame)),i!==this.animation&&i.bounds&&on(i.bounds)&&this.setCollisionArea(...i.bounds),this.animation=i}getAnimationFrame(){var i;return((i=Pe(this,_e,"f"))===null||i===void 0?void 0:i.animFrame)||0}setAnimationFrame(i){Pe(this,_e,"f")&&(Pe(this,_e,"f").animFrame=i)}kill(){this.dead=!0}show(){this.visible=!0}hide(){this.visible=!1}approach(i,t,n,o=1){return i<t?Math.min(i+n*o,t*o):Math.max(i-n*o,t*o)}update(){if(this.expectedPos=new z(this.pos.x+this.force.x,this.pos.y+this.force.y),this.collisions&&(this.force.x!==0||this.force.y!==0)){const i=this.game.getCurrentScene(),t=this.getCollisionArea(),n=i.camera.getBounds(),{tilewidth:o,tileheight:r}=i;(this.expectedPos.x+t.pos.x<=n.pos.x||this.expectedPos.x+t.pos.x+t.width>=n.pos.x+n.width)&&(this.force.x=0),(this.expectedPos.y+t.pos.y<=n.pos.y||this.expectedPos.y+t.pos.y+t.height>=n.pos.y+n.height)&&(this.force.y=0);const s=this.pos.x+t.pos.x,l=this.pos.y+t.pos.y,f=Math.ceil((this.expectedPos.x+t.pos.x)/o)-1,c=Math.ceil((this.expectedPos.y+t.pos.y)/r)-1,d=Math.ceil((this.expectedPos.x+t.pos.x+t.width)/o),a=Math.ceil((this.expectedPos.y+t.pos.y+t.height)/r),u=this.getBoundingBox(this.expectedPos.x,this.pos.y),h=this.getBoundingBox(this.pos.x,this.expectedPos.y);if(on(this.collisionLayers))for(const p of this.collisionLayers){const b=i.getLayer(p);switch(b.type){case Ke.LAYER:for(let E=c;E<a;E++)for(let _=f;_<d;_++){const A=i.getTile(_,E,b.id);if(A&&A.isSolid()){const g=A.getBounds(_,E);si(g,u)&&Math.abs(this.force.x)>0&&!A.isOneWay()&&(this.force.x=this.force.x<0?g.pos.x+A.width-s:g.pos.x-t.width-s),si(g,h)&&(!A.isOneWay()&&Math.abs(this.force.y)>0?this.force.y=this.force.y<0?g.pos.y+A.height-l:g.pos.y-t.height-l:this.force.y>=0&&A.isOneWay()&&this.pos.y+t.pos.y+t.height<=g.pos.y&&(this.force.y=g.pos.y-t.height-l))}}break;case Ke.OBJECT_GROUP:i.objects.forEach(E=>{const _=E.getBoundingBox(E.pos.x,E.pos.y);E.id!==this.id&&E.collisions&&E.layerId===p&&E.collisionLayers.includes(this.layerId)&&(E.solid&&(si(_,h)&&Math.abs(this.force.y)>0&&(this.force.y=this.force.y<0?_.pos.y+E.height-l:_.pos.y-t.height-l),si(_,u)&&Math.abs(this.force.x)>0&&(this.force.x=this.force.x<0?_.pos.x+E.width-s:_.pos.x-t.width-s)),si(_,this.getBoundingBox(this.expectedPos.x,this.expectedPos.y))&&(this.collide(E),E.collide(this)))});break}}}this.pos.x+=this.force.x,this.pos.y+=this.force.y}onScreen(){const i=this.game.getCurrentScene(),{camera:t,tilewidth:n,tileheight:o}=i,{pos:r,width:s,height:l}=this.getCollisionArea(),{x:f,y:c}=this.game.resolution,d=this.pos.x+r.x,a=this.pos.y+r.y;return d+s+n>-t.pos.x&&a+l+o>-t.pos.y&&d-n<-t.pos.x+f&&a-o<-t.pos.y+c}displayDebug(){const{draw:i}=this.game,{camera:t}=this.game.getCurrentScene(),{width:n,height:o,type:r,visible:s,force:l}=this,[f,c]=[Math.floor(this.pos.x+t.pos.x),Math.floor(this.pos.y+t.pos.y)],[d,a]=[f+n+4,c+o/2];i.outline(new Ue(new z(f,c),n,o),s?ce.WHITE_50:ce.PURPLE,.25),i.outline(this.getBoundingBox(f,c),s?ce.GREEN:ce.PURPLE,.5),i.fillText(`${r}`,f,c-10,ce.WHITE),i.fillText(`x:${Math.floor(this.pos.x)}`,f,c-6,ce.LIGHT_RED),i.fillText(`y:${Math.floor(this.pos.y)}`,f,c-2,ce.LIGHT_RED),l.x!==0&&i.fillText(`${l.x.toFixed(2)}`,d,a-2,ce.LIGHT_RED),l.y!==0&&i.fillText(`${l.y.toFixed(2)}`,d,a+2,ce.LIGHT_RED)}}_e=new WeakMap;class Vt{constructor(i,t){this.game=t,this.type=Ke.CUSTOM,this.properties={},this.data=[],this.objects=[],this.visible=!0,this.id=(i==null?void 0:i.id)||0,this.name=i==null?void 0:i.name,this.type=(i==null?void 0:i.type)||Ke.CUSTOM,this.width=i==null?void 0:i.width,this.height=i==null?void 0:i.height,this.visible=(i==null?void 0:i.visible)===void 0?!0:!!i.visible,this.properties=(i==null?void 0:i.properties)||{},this.data=(i==null?void 0:i.data)||[]}update(){}isInRange(i,t){return i>=0&&t>=0&&i<this.width&&t<this.height}get(i,t){return this.isInRange(i,t)&&this.data[i+this.width*t]||null}put(i,t,n){this.isInRange(i,t)&&(this.data[i+this.width*t]=n)}clear(i,t){this.isInRange(i,t)&&(this.data[i+this.width*t]=null)}toggleVisibility(i){this.visible=i}draw(){const i=this.game.getCurrentScene();if(this.visible)switch(this.type){case Ke.LAYER:i.forEachVisibleTile(this,(t,n,o)=>t==null?void 0:t.draw(n,o));break;case Ke.OBJECT_GROUP:i.forEachVisibleObject(t=>t.visible&&t.draw(),this.id);break}}}class Pu{constructor(i,t,n,o){this.id=i,this.width=t,this.height=n,this.game=o,this.animFrame=0,this.then=Ce(),this.frameStart=Ce()}animate(i=this.animation){if(i){this.animFrame=this.animFrame||0,this.frameStart=Ce(),this.animation!==i&&(this.animation=i,this.animFrame=0);const t=i.strip?i.strip.duration:i.frames&&i.frames[this.animFrame][2]||0,n=i.strip?i.strip.frames:i.frames&&i.frames.length||0;this.frameStart-this.then>t&&(this.animFrame<=n&&i.loop?this.animFrame=Js(this.animFrame+1,0,n):this.animFrame<n-1&&!i.loop&&(this.animFrame+=1),this.then=Ce())}}draw(i,t){const{id:n,animation:o,animFrame:r,width:s,height:l}=this,{ctx:f}=this.game,c=this.game.getImage(n),d=t!=null&&t.H?-1:1,a=t!=null&&t.V?-1:1,u=t!=null&&t.H?s*-1:0,h=t!=null&&t.V?l*-1:0,p=(t==null?void 0:t.H)||(t==null?void 0:t.V),[b,E]=[(i.x-u)*d,(i.y-h)*a];if(f.save(),p&&f.scale(d,a),o){const{frames:_,strip:A}=o,g=_&&_[r]||[0,0],w=A?A.x+r*o.width:g[0],I=A?A.y:g[1];f.drawImage(c,w,I,o.width,o.height,b,E,o.width,o.height)}else c&&f.drawImage(c,0,0,s,l,b,E,s,l);f.restore()}}class ku{constructor(i,t,n){this.id=i,this.tileset=t,this.game=n,this.animFrame=0,this.then=Ce(),this.frameStart=Ce(),this.isSolid=()=>this.type!==gi.NON_COLLIDING,this.isOneWay=()=>this.type===gi.ONE_WAY,this.isInvisible=()=>this.type===gi.INVISIBLE,this.properties=this.getTileProperties(i,this.tileset),this.type=this.properties&&this.properties.type||null,this.width=this.tileset.tilewidth,this.height=this.tileset.tileheight,this.terrain=this.getTerrain()}getTileProperties(i,t){const{firstgid:n,tiles:o}=t;return on(o)&&o.filter(r=>r.id===i-n)[0]||{}}getBounds(i,t){return new Ue(new z(i*this.width,t*this.height),this.width,this.height)}getTerrain(){const{terrain:i}=this.properties;return i&&i.split(",").map(t=>t?parseInt(t):null)}getNextGid(){if(this.properties&&this.properties.animation){this.frameStart=Ce();const{frames:i}=this.properties.animation;return this.frameStart-this.then>i[this.animFrame].duration&&(this.animFrame<=i.length&&(this.animFrame=Js(this.animFrame+1,0,i.length)),this.then=Ce()),i[this.animFrame].tileid+this.tileset.firstgid}else return this.id}draw(i,t){if(!this.isInvisible()){const{ctx:n,draw:o}=this.game,{image:r,columns:s,firstgid:l,tilewidth:f,tileheight:c}=this.tileset,d=this.getNextGid(),a=(d-l)%s*f,u=(Math.ceil((d-l+1)/s)-1)*c,h=t!=null&&t.H?-1:1,p=t!=null&&t.V?-1:1,b=t!=null&&t.H?f*-1:0,E=t!=null&&t.V?c*-1:0,_=(t==null?void 0:t.H)||(t==null?void 0:t.V),[A,g]=[(i.x-b)*h,(i.y-E)*p];n.save(),_&&n.scale(h,p),n.drawImage(this.game.getImage(r),a,u,f,c,A,g,f,c),n.restore(),this.game.getCurrentScene().debug&&(o.fillText(`${this.id}`,i.x+2,i.y+6,ce.WHITE_50),o.outline(new Ue(i,f,c),ce.WHITE_25,.1))}}}class Wr{constructor(i){this.entities={},this.layers=[],this.tiles={},this.objects=[],this.tilewidth=0,this.tileheight=0,this.width=0,this.height=0,this.debug=!1,this.game=i,this.camera=new qu(i),i.debug&&i.gui&&i.gui.add(this,"debug").listen()}init(){return hi(this,void 0,void 0,function*(){})}update(){for(const i of this.layers)i instanceof Vt&&i.update();for(const i of this.objects)i.active&&(i.update(),i.dead&&this.removeObject(i));this.camera.update()}draw(){const{ctx:i,colors:t,draw:n,width:o,height:r,scale:s}=this.game;i.imageSmoothingEnabled=!1,i.save(),i.scale(s,s),i.clearRect(0,0,o/s,r/s),t.backgroundColor&&(i.fillStyle=t.backgroundColor,i.fillRect(0,0,o/s,r/s));for(const l of this.layers)l instanceof Vt&&l.draw();this.debug&&(n.fillText("CAMERA",4,8,ce.WHITE),n.fillText(`x:${Math.floor(this.camera.pos.x)}`,4,12,ce.LIGHT_RED),n.fillText(`y:${Math.floor(this.camera.pos.y)}`,4,16,ce.LIGHT_RED)),i.restore()}setDimensions(i,t,n,o){this.tilewidth=n,this.tileheight=o,this.width=i,this.height=t,this.camera.setBounds(0,0,i*n,t*o)}createLayers(i){this.layers=[],i.forEach(t=>this.addLayer(t))}addLayer(i){typeof i=="function"?this.layers.push(new i(null,this.game)):(this.layers.push(new Vt(i,this.game)),i.objects&&i.objects.forEach(t=>this.addObject(t.type,Object.assign(Object.assign({},t),{layerId:i.id}))))}addObject(i,t,n){const o=this.game.objectClasses[i],r=o?new o(t,this.game):new xe(t,this.game);return r.image?r.addSprite(this.createSprite(r.image,r.width,r.height)):r.gid&&r.addSprite(this.tiles[r.gid]),n!==void 0?this.objects.splice(n,0,r):this.objects.push(r),r}removeObject(i){this.objects.splice(this.objects.indexOf(i),1)}addTileset(i,t){const n=Object.assign(Object.assign({},i),{image:t});for(let o=0;o<n.tilecount;o++)this.tiles[o+n.firstgid]=new ku(o+n.firstgid,n,this.game)}forEachVisibleObject(i=Xr,t){for(const n of this.objects)(t===void 0||n.layerId===t)&&n.visible&&i(n)}forEachVisibleTile(i,t=Xr){const{camera:n,tilewidth:o,tileheight:r}=this,{resolution:s}=this.game;let l=Math.floor(n.pos.y%r),f=Math.floor(-n.pos.y/r);for(;l<=s.y;){let c=Math.floor(n.pos.x%o),d=Math.floor(-n.pos.x/o);for(;c<=s.x;){const a=i==null?void 0:i.get(d,f);a&&t(this.getTileObject(a),new z(c,l),Nu(a)),c+=o,d++}l+=r,f++}}createSprite(i,t,n){return new Pu(i,t,n,this.game)}getLayer(i){return this.layers.find(t=>t.id===i)||{}}getObjects(){return this.objects}getObjectById(i){return this.objects.find(t=>t.id===i)}getObjectByType(i){return this.objects.find(t=>t.type===i)}getObjectsByType(i){return this.objects.filter(t=>t.type===i)}getObjectLayers(){return this.layers.filter(i=>on(i.objects))}getObjectGridPos(i){return new z(Math.round(i.pos.x/this.tilewidth),Math.round(i.pos.y/this.tileheight))}getTile(i,t,n){return this.getTileObject(this.getLayer(n).get(i,t)||0)}getTileObject(i){const t=i&=~(tt.HORIZONTALLY|tt.VERTICALLY|tt.DIAGONALLY);return this.tiles[t]}removeLayer(i){this.layers.splice(i,1)}showLayer(i){this.getLayer(i).toggleVisibility(!0)}hideLayer(i){this.getLayer(i).toggleVisibility(!1)}}class Fu{constructor(i){this.ctx=i}preloader(i,t,n,o){const{ctx:r}=this,s=.15,l=Math.round(t.x*n)*s,f=Math.round(t.x*n-l*2),c=Math.round(t.y/2*n);r.fillStyle=o.backgroundColor,r.fillRect(0,0,t.x*n,t.y*n),r.fillStyle=o.preloaderColor,r.fillRect(l,c-5*n,f,10*n),r.fillStyle=o.backgroundColor,r.fillRect(l+1*n,c-4*n,f-2*n,8*n),r.fillStyle=o.preloaderColor,r.fillRect(l+2*n,c-3*n,(f-4*n)*i,6*n)}outline(i,t,n=1){const{ctx:o}=this,{pos:r,width:s,height:l}=i;o.save(),o.strokeStyle=t,o.lineWidth=n,o.beginPath(),o.moveTo(r.x,r.y),o.lineTo(r.x+s,r.y),o.lineTo(r.x+s,r.y+l),o.lineTo(r.x,r.y+l),o.lineTo(r.x,r.y),o.stroke(),o.restore()}stroke(i,t,n,o){const{ctx:r}=this;r.save(),r.strokeStyle=o,r.beginPath(),r.moveTo(n[0].x+i,n[0].y+t),n.map(s=>r.lineTo(i+s.x,t+s.y)),r.lineTo(n[0].x+i,n[0].y+t),r.stroke(),r.restore()}fillText(i,t,n,o){const{ctx:r}=this;r.font="4px Courier",r.fillStyle=o,r.fillText(i,t,n)}createPixelFontRenderer(i,t,n){return(o,r,s)=>{o.split(`
`).reverse().map((l,f)=>{for(let c=0;c<l.length;c++){const d=l.charCodeAt(c);this.ctx.drawImage(i,d%n*t,Math.ceil((d+1)/n-1)*t,t,t,Math.floor(r+c*t),Math.floor(s-f*(t+1)),t,t)}})}}}class Bu{constructor(i){this.resolution=new z,this.then=Ce(),this.assets={},this.soundFiles={},this.sounds={},this.objectClasses={},this.sceneClasses=[],this.scenes=[],this.events={},this.keyStates={},this.timeouts={},this.debug=!1,this.paused=!1,this.loaded=!1,this.stoped=!0,this.currentScene=0,this.lastFrameTime=0,this.frameTime=0,this.lastLoop=0,this.delta=0,this.fps=60,this.ctx=i.canvas.getContext("2d"),this.sceneClasses=i.scenes,this.objectClasses=i.entities,this.width=(i==null?void 0:i.width)||i.canvas.width,this.height=(i==null?void 0:i.height)||i.canvas.height,this.scale=i.scale||1,this.debug=!!i.debug,this.colors={backgroundColor:(i==null?void 0:i.backgroundColor)||"#000",preloaderColor:(i==null?void 0:i.preloaderColor)||"#222"},this.draw=new Fu(this.ctx),this.debug&&this.datGui(),document.addEventListener("keydown",t=>this.onKey(!0,t),!1),document.addEventListener("keyup",t=>this.onKey(!1,t),!1),i.global&&(window.Platfuse=this)}onLoad(i){return hi(this,void 0,void 0,function*(){this.assets=i,this.scenes=yield Promise.all(this.sceneClasses.map(t=>hi(this,void 0,void 0,function*(){const n=new t(this);return yield n.init(),n}))),this.loaded=!0})}preload(i){return hi(this,void 0,void 0,function*(){this.loaded=!1;let t=0;const n=Object.keys(i).length,o=f=>this.draw.preloader(f,this.resolution,this.scale,this.colors),r=f=>{const c=i[f];return new Promise(d=>{if(/\.(gif|jpe?g|png|webp|bmp)$/i.test(c)){const a=new Image;a.src=c,a.onload=()=>(o(++t/n),d(a))}else if(/\.(webm|mp3|wav)$/i.test(c)){const a=new Audio;a.addEventListener("canplaythrough",()=>(o(++t/n),this.soundFiles[f]=c,d(a)),!1),a.src=c}else return Promise.resolve()})},s=Object.keys(i).map(f=>hi(this,void 0,void 0,function*(){return{[f]:yield r(f)}})),l=Object.assign({},...yield Promise.all(s));return yield this.onLoad(l),l})}frame(i){if(this.loaded&&!this.stoped){const t=Ce();this.delta=(i-this.lastFrameTime)/1e3,this.frameTime+=(t-this.lastLoop-this.frameTime)/100,this.fps=1e3/this.frameTime,this.lastLoop=t,!this.paused&&this.delta<.2&&this.loop(),this.lastFrameTime=i,this.animationFrame=requestAnimationFrame(n=>this.frame(n))}}loop(){const i=this.getCurrentScene();i instanceof Wr&&(this.fireEvents(),i.update(),i.draw())}start(){this.stoped=!1,this.animationFrame=requestAnimationFrame(i=>this.frame(i))}stop(){this.stoped=!0,this.animationFrame&&cancelAnimationFrame(this.animationFrame)}restart(){this.stop(),this.start()}fireEvents(){Object.keys(this.keyStates).map(i=>{typeof this.events[i]=="function"&&this.events[i]()})}onKey(i,t){i?this.keyStates[t.code]=i:delete this.keyStates[t.code],t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()}isKeyDown(i){return this.keyStates[i]||!1}onKeyDown(i,t){this.events=Array.isArray(i)?Object.assign({},this.events,...i.map(n=>({[n]:t}))):Object.assign(Object.assign({},this.events),{[i]:t})}getCurrentScene(){if(this.scenes[this.currentScene]instanceof Wr)return this.scenes[this.currentScene];throw new Error("No current scene!")}getImage(i){if(this.assets[i]instanceof HTMLImageElement)return this.assets[i];throw new Error("Invalid image!")}playScene(i){this.currentScene=i,this.restart()}setScale(i){this.scale=i,this.resolution.x=Math.round(this.width/this.scale),this.resolution.y=Math.round(this.height/this.scale)}setSize(i,t,n){this.width=i,this.height=t,this.setScale(n||this.scale)}wait(i,t,n){this.timeouts[i]||(this.timeouts[i]=setTimeout(()=>{this.cancelWait(i),typeof t=="function"&&t()},n))}cancelWait(i){this.timeouts[i]&&(clearTimeout(this.timeouts[i]),delete this.timeouts[i])}datGui(){this.gui&&this.gui.destroy(),this.gui=new Ou,this.gui.add(this,"fps").listen()}setAudioVolume(i){ci.Howler.volume(i)}playSound(i){if(this.sounds[i]instanceof ci.Howl)this.sounds[i].play();else if(this.soundFiles[i])this.sounds[i]=new ci.Howl({src:this.soundFiles[i]}),this.sounds[i].play();else throw new Error("Invalid sound!")}loopSound(i,t=1){if(this.soundFiles[i])this.sounds[i]=new ci.Howl({src:this.soundFiles[i],loop:!0,volume:t}),this.sounds[i].play();else throw new Error("Invalid sound!")}}var te=(e=>(e[e.CUSTOM_BACKGROUND=0]="CUSTOM_BACKGROUND",e[e.BACKGROUND=1]="BACKGROUND",e[e.MAIN=2]="MAIN",e[e.OBJECTS=3]="OBJECTS",e[e.FOREGROUND=4]="FOREGROUND",e[e.FLASH=5]="FLASH",e[e.DARKNESS=6]="DARKNESS",e[e.CUSTOM_OVERLAY=7]="CUSTOM_OVERLAY",e))(te||{}),me=(e=>(e.UP="up",e.RIGHT="right",e.DOWN="down",e.LEFT="left",e))(me||{}),ct=(e=>(e.ENEMIES="enemies",e.PARTICLES="particles",e.TRAPS="traps",e))(ct||{}),J=(e=>(e.AMMO="ammo",e.BAT="bat",e.BULLET="bullet",e.COIN="coin",e.DUST="dust",e.PARTICLE="particle",e.EMITTER="emitter",e.HEALTH="health",e.PLAYER="player",e.ITEM="item",e.SPIDER="spider",e.SPIKES="spikes",e.ZOMBIE="zombie",e))(J||{}),dn=(e=>(e.BLACK="#000",e.BLUE_SKY="#7CF",e.BONUS="rgba(255,32,32,0.2)",e.DARK_GREY="#222",e.DARK_RED="#D00",e.GREEN="#0F0",e.LIGHT_RED="#F00",e.PURPLE="#F0F",e.FLASH="rgba(255,255,255,0.6)",e.SPIDER_WEB="rgba(255,255,255,0.5)",e.TORCH="rgba(255,243,115,0.1)",e.TRANS_WHITE="rgba(255,255,255,0.15)",e.WATER="rgba(66,100,245,0.1)",e))(dn||{});const Bi={IDLE:{strip:{x:168,y:0,frames:1,duration:0},width:28,height:20,bounds:[5,0,18,14],loop:!1},RIGHT:{strip:{x:0,y:0,frames:6,duration:60},width:28,height:20,bounds:[5,0,18,14],loop:!0},LEFT:{strip:{x:0,y:20,frames:6,duration:60},width:28,height:20,bounds:[5,0,18,14],loop:!0},FALL:{strip:{x:168,y:20,frames:1,duration:0},width:28,height:20,bounds:[5,0,18,14],loop:!1}},Xt={AMMO:187,COIN:182,HEALTH:177};class ju extends xe{constructor(t,n){super({...t,width:16,height:16},n);F(this,"type",J.ITEM);F(this,"layerId",te.OBJECTS);F(this,"collisionLayers",[te.MAIN,te.OBJECTS]);F(this,"collisions",!0)}collide(t){if(t.type===J.PLAYER&&!this.dead){const n=t;switch(this.gid){case Xt.AMMO:n.ammo[1]++;break;case Xt.COIN:n.points+=100;break;case Xt.HEALTH:n.energy[0]=n.energy[1];break}this.game.playSound("powerup.mp3"),this.kill()}}update(){if(super.update(),this.onGround())Math.abs(this.force.y)>.1&&(this.force.y*=-.6);else{const{gravity:t}=this.game.getCurrentScene();this.force.y+=this.force.y>0?t:t/2}this.force.x=this.approach(this.force.x,0,.2)}}function Qs(e,i){const t=e.getCurrentScene(),n=[0,0,0,0,0,0,0,0,0,0,1,1,1,1,2],o=Math.floor(Math.random()*n.length),r=[Xt.COIN,Xt.AMMO,Xt.HEALTH][n[o]];t.addObject(J.ITEM,{x:i.x,y:i.y,gid:r})}const{LEFT:ji,RIGHT:Ui}=me;class Uu extends xe{constructor(){super(...arguments);F(this,"image","bat.png");F(this,"family",ct.ENEMIES);F(this,"layerId",te.OBJECTS);F(this,"collisionLayers",[te.MAIN,te.OBJECTS]);F(this,"direction",ji);F(this,"activated",!1);F(this,"collisions",!0);F(this,"turning",!1);F(this,"damage",0);F(this,"energy",[10,10]);F(this,"state",0)}update(){super.update();const t=this.game.getCurrentScene(),n=t.getObjectByType(J.PLAYER);switch(this.state){case 0:this.onScreen()&&(this.activated=!0,this.animate(Bi.IDLE),this.game.wait(`bat-${this.id}-awake`,()=>this.state=1,1e3));break;case 1:this.damage=10,this.force.y+=this.pos.y>n.pos.y+24?-.1:.02,this.force.x=this.approach(this.force.x,this.direction===ji?-1:1,.1),(this.expectedPos.x!==this.pos.x||this.pos.x<=Math.abs(t.camera.pos.x)&&this.direction===ji||this.pos.x>=Math.abs(t.camera.pos.x-this.game.resolution.x)&&this.direction===Ui)&&this.turnAround(),this.animate(this.direction===Ui?Bi.RIGHT:Bi.LEFT);break;case 2:this.damage=0,this.force.x=0,this.force.y+=.2,this.animate(Bi.FALL),this.onGround()&&(Qs(this.game,new z(this.pos.x+this.width/2,this.pos.y-16)),this.kill());break}}hit(t){this.energy[0]-=t,this.force.x*=-1,this.energy[0]<=0&&(this.state=2)}collide(t){if(t.collisions)switch(t.type){case J.BULLET:const n=t;this.hit(n.damage);break;case J.PLAYER:t.hit(this.damage);break}}turnAround(){this.turning||(this.turning=!0,this.force.x*=-.6,this.force.y-=.05,this.direction=this.direction===Ui?ji:Ui,this.game.wait(`bat-${this.id}-turn`,()=>this.turning=!1,500))}}function je(e,i){return e+Math.random()*(i-e)}function he(e,i){return Math.round(je(e,i))}class Hu extends xe{constructor(t,n){super(t,n);F(this,"family",ct.PARTICLES);F(this,"collisionLayers",[te.MAIN]);F(this,"collisions",!0);F(this,"mass");F(this,"life");const o=he(0,2)*Math.PI,r=he(.5,1);this.mass=t.mass||he(.3,1),this.life=t.life||he(60,120),this.force=t.force||{x:Math.cos(o)*r,y:Math.sin(o)*r}}update(){this.dead||(super.update(),(this.pos.y!==this.expectedPos.y||this.pos.x!==this.expectedPos.x)&&(this.force.y*=-.8,this.force.x*=.9),this.force.y+=this.mass,this.life--),this.life<0&&this.kill()}}function Ks(e,i,t){const n=e.getCurrentScene(),{count:o,radius:r}=t;for(let s=0;s<o;s++)n.addObject(J.PARTICLE,{x:i.x-r/2+he(0,r),y:i.y-r/2+he(0,r),force:t.forceVector(),life:t.ttl(),...t})}const zr={BLOOD:{type:J.PARTICLE,layerId:te.OBJECTS,width:1,height:1,mass:.5,count:10,radius:8,color:`rgb(${128+he(0,32)*4}, 0, 0)`,ttl:()=>he(60,120),forceVector:()=>({x:Math.cos(je(0,2)*Math.PI)*.5+je(0,1),y:Math.cos(je(0,2)*Math.PI)*.5+je(0,1)})},DIRT:{type:J.PARTICLE,layerId:te.OBJECTS,mass:.3,width:2,height:2,count:10,radius:8,color:"#000",ttl:()=>he(60,120),forceVector:()=>({x:Math.cos(he(0,2)*Math.PI)*.8+he(0,1),y:he(-1,-4)})},RUBBLE:{type:J.PARTICLE,layerId:te.OBJECTS,width:2,height:2,mass:.5,count:10,radius:8,color:"#000",ttl:()=>he(60,120),forceVector:()=>({x:Math.cos(je(0,2)*Math.PI)*.5+je(0,1),y:Math.cos(je(0,2)*Math.PI)*.5+je(0,1)})}},$s={DUST:{strip:{x:0,y:0,frames:9,duration:60},width:16,height:16,loop:!1}};class Gu extends xe{constructor(t,n){super(t,n);F(this,"image","bullet.png");F(this,"animations",$s);F(this,"direction",me.RIGHT);F(this,"type",J.BULLET);F(this,"layerId",te.OBJECTS);F(this,"particle",zr.RUBBLE);F(this,"collisionLayers",[te.MAIN,te.OBJECTS]);F(this,"collisions",!0);F(this,"width",8);F(this,"height",8);F(this,"damage",10);this.direction=t.direction,this.setCollisionArea(4,2,4,2)}collide(t){t.collisions&&t.family===ct.ENEMIES&&(this.particle=zr.BLOOD,this.explode())}explode(){Ks(this.game,this.pos,this.particle),this.kill()}update(){super.update(),this.force.x=this.approach(this.force.x,this.direction===me.LEFT?-10:10,5),this.flips={H:this.direction===me.LEFT},(!this.onScreen()||this.pos.x!==this.expectedPos.x)&&this.explode()}}class Zu extends xe{constructor(t,n){super(t,n);F(this,"image","dust.png");F(this,"layerId",te.OBJECTS);F(this,"type",J.DUST);F(this,"direction",me.RIGHT);F(this,"width",16);F(this,"height",16);this.direction=t.direction}update(){this.animate($s.DUST,{H:this.direction===me.LEFT},t=>{t===8&&this.kill()})}}class Vu extends xe{constructor(){super(...arguments);F(this,"family",ct.ENEMIES);F(this,"count",0);F(this,"emitted",0)}emit(){const t=this.game.getCurrentScene(),n=he(0,(this.width-50)/50)*50;t.addObject(J.ZOMBIE,{x:this.pos.x+n,y:this.pos.y-52,pid:this.id}),this.emitted++}update(){super.update();const n=this.game.getCurrentScene().getObjectsByType(J.ZOMBIE);this.count=n?n.filter(o=>o.pid===this.id).length:0,this.emitted>=this.properties.max&&this.kill(),this.onScreen()&&this.count<this.properties.volume&&this.game.wait(`emmiter--${this.id}`,()=>this.emit(),1e3)}}const ht={IDLE:{strip:{x:0,y:0,frames:4,duration:200},width:53,height:53,bounds:[18,16,18,37],loop:!0},WALK:{strip:{x:212,y:0,frames:8,duration:80},width:53,height:53,bounds:[18,16,18,37],loop:!0},JUMP:{strip:{x:636,y:0,frames:5,duration:100},width:53,height:53,bounds:[18,16,18,37],loop:!1},FALL:{strip:{x:848,y:0,frames:1,duration:0},width:53,height:53,bounds:[18,16,18,37],loop:!1},SHOOT:{strip:{x:901,y:0,frames:5,duration:80},width:53,height:53,bounds:[18,16,18,37],loop:!1},HURT:{strip:{x:1325,y:0,frames:3,duration:100},width:53,height:53,bounds:[18,16,18,37],loop:!0},RELOAD:{strip:{x:1484,y:0,frames:3,duration:300},width:53,height:53,bounds:[18,16,18,37],loop:!0}},{UP:Xu,LEFT:Tn,RIGHT:kt}=me;class Wu extends xe{constructor(){super(...arguments);F(this,"image","player.png");F(this,"collisionLayers",[te.MAIN,te.OBJECTS]);F(this,"facing",kt);F(this,"energy",[100,100]);F(this,"ammo",[5,5]);F(this,"points",0);F(this,"collisions",!0);F(this,"invincible",!1);F(this,"isJumping",!1);F(this,"isShooting",!1);F(this,"isReloading",!1);F(this,"isHurt",!1)}update(){const t=this.game,{gravity:n}=t.getCurrentScene();this.isJumping&&this.onGround()&&(this.isJumping=!1,this.dust(Tn),this.dust(kt)),this.onGround()||(this.force.y+=this.force.y>0?n:n/2),this.energy[0]>0&&!this.isShooting&&(this.force.x!==0&&(this.force.x=this.approach(this.force.x,0,.2)),this.force.x===0&&!this.isJumping&&this.ammo[0]<this.ammo[1]?t.wait("countToReload",()=>this.countToReload(),1e3):this.cancelReloading()),super.update();let o=ht.IDLE;this.isHurt?o=ht.HURT:this.isJumping?o=this.force.y<=0?ht.JUMP:ht.FALL:this.isShooting?o=ht.SHOOT:Math.abs(this.force.x)>0?o=ht.WALK:this.isReloading&&(o=ht.RELOAD),this.animate(o,{H:this.facing===Tn})}moveTo(t){if(!this.isShooting&&this.energy[0]>0)switch(t){case Xu:!this.isJumping&&this.onGround()&&(this.isJumping=!0,this.force.y=-6);break;case Tn:case kt:t!==this.facing&&this.onGround()&&this.dust(t),this.force.x=this.approach(this.force.x,t===kt?2:-2,.3),this.facing=t;break}}shoot(){if(!this.isShooting&&!this.isHurt&&this.ammo[0]>0&&this.onGround()){const t=this.game.getCurrentScene();this.ammo[0]>this.ammo[1]&&(this.ammo[0]=this.ammo[1]),this.ammo[0]-=1,this.force.x=0,this.isShooting=!0,this.bullet(t),this.cancelReloading(),this.game.wait("shoot",()=>this.isShooting=!1,500),this.game.wait("shootDelay",()=>{t.flash=!0,this.game.wait("shootFlash",()=>t.flash=!1,60)},30),this.setAnimationFrame(0),this.game.playSound("shoot.mp3")}}reloading(){this.isReloading=!0,this.ammo[0]+=1,this.game.playSound("reload.mp3")}countToReload(){this.isReloading=!0,this.game.wait("reloading",()=>this.reloading(),600)}cancelReloading(){this.game.cancelWait("countToReload"),this.game.cancelWait("reloading"),this.isReloading=!1}bullet(t){const n=this.facing===kt?this.pos.x+this.width-4:this.pos.x+8,o=this.pos.y+31;t.addObject(J.BULLET,{x:n,y:o,direction:this.facing})}dust(t){if(this.onGround()){const n=this.game.getCurrentScene(),o=t===kt?this.pos.x+8:this.pos.x+this.width-24,r=this.pos.y+this.height-16;n.addObject(J.DUST,{x:o,y:r,direction:t})}}respawn(){const t=this.game.getCurrentScene(),n=t.getLayer(te.CUSTOM_OVERLAY);this.isHurt=!1,this.visible=!0,this.energy[0]=this.energy[1],this.pos=this.initialPos.clone(),t.camera.moveTo(0,0),n.fadeIn()}hit(t){const o=this.game.getCurrentScene().getLayer(te.CUSTOM_OVERLAY);this.energy[0]>0&&!this.isHurt&&(this.invincible||(this.energy[0]-=t,this.isHurt=!0,this.force.x=0,this.game.cancelWait("countToReload"),this.energy[0]<=0?(this.visible=!1,o.fadeOut(),this.game.wait("playerRespawn",()=>this.respawn(),3e3)):this.game.wait("playerHurt",()=>this.isHurt=!1,500),Ks(this.game,new z(this.pos.x+this.width/2,this.pos.y+18),zr.BLOOD)))}}const zu={DEFAULT:{strip:{x:0,y:0,frames:2,duration:500},width:16,height:23,bounds:[4,0,8,18],loop:!0}};class Yu extends xe{constructor(t,n){super(t,n);F(this,"image","spider.png");F(this,"family",ct.ENEMIES);F(this,"collisionLayers",[te.MAIN,te.OBJECTS]);F(this,"collisions",!0);F(this,"fall",!1);F(this,"rise",!1);F(this,"startPos");F(this,"energy",[20,20]);F(this,"damage",10);this.startPos=new z(t.x+t.width/2,t.y)}draw(){const{camera:t}=this.game.getCurrentScene(),{ctx:n}=this.game;n.beginPath(),n.strokeStyle=dn.SPIDER_WEB,n.moveTo(this.startPos.x+t.pos.x,this.startPos.y+t.pos.y),n.lineTo(this.startPos.x+t.pos.x,this.pos.y+t.pos.y),n.stroke(),this.collisions&&super.draw()}update(){if(this.onScreen()){super.update();const{gravity:t}=this.game.getCurrentScene();this.rise?this.force.y=-1:this.fall?this.force.y+=t:this.force.y=0,this.energy[0]<=0?(this.damage=0,this.rise=!1,this.fall=!1,this.collisions=!1,this.game.cancelWait(`spider-${this.id}-fall`)):(this.onGround()&&this.fall&&(this.fall=!1,this.rise=!0),this.pos.y<=this.startPos.y&&(this.rise=!1,this.fall=!1,this.game.wait(`spider-${this.id}-fall`,()=>this.fall=!0,500))),this.animate(zu.DEFAULT)}}hit(t){this.energy[0]-=t}collide(t){switch(t.type){case J.BULLET:const n=t;this.hit(n.damage);break;case J.PLAYER:t.hit(this.damage);break}}}const Ju={DEFAULT:{strip:{x:0,y:0,frames:5,duration:40},width:8,height:8,loop:!1}};class Qu extends xe{constructor(){super(...arguments);F(this,"image","shine.png");F(this,"animation",Ju.DEFAULT);F(this,"family",ct.TRAPS);F(this,"collisionLayers",[te.MAIN,te.OBJECTS]);F(this,"collisions",!0);F(this,"canAnimate",!0);F(this,"damage",1e3);F(this,"shineX",0)}draw(){const{ctx:t}=this.game,{camera:n}=this.game.getCurrentScene(),{width:o,height:r,strip:{x:s,y:l}}=this.animation;t.drawImage(this.game.getImage(this.image),s+this.getAnimationFrame()*o,l,o,r,this.pos.x+this.shineX+n.pos.x,this.pos.y+n.pos.y-10,o,r)}update(){this.onScreen()&&(this.canAnimate&&this.getAnimationFrame()===this.animation.strip.frames-1&&(this.canAnimate=!1,this.game.wait(`spikes-${this.id}-shine`,()=>{this.canAnimate=!0,this.setAnimationFrame(0),this.shineX=he(0,(this.width-8)/8)*8},1e3)),this.animate(this.animation))}collide(t){switch(t.type){case J.PLAYER:t.hit(this.damage);break}}}const Ye={IDLE:{strip:{x:0,y:0,frames:9,duration:100},width:58,height:46,bounds:[24,12,10,30],loop:!0},WALK:{strip:{x:522,y:0,frames:12,duration:100},width:58,height:46,bounds:[24,12,10,30],loop:!0},RUN:{strip:{x:1218,y:0,frames:8,duration:100},width:58,height:46,bounds:[24,12,10,30],loop:!0},ATTACK:{strip:{x:1682,y:0,frames:11,duration:100},width:58,height:46,bounds:[24,12,10,30],loop:!0},HURT1:{strip:{x:2320,y:0,frames:13,duration:100},width:58,height:46,bounds:[24,32,10,10],loop:!1},HURT2:{strip:{x:3074,y:0,frames:15,duration:100},width:58,height:46,bounds:[24,32,10,10],loop:!1},RISE:{strip:{x:3944,y:0,frames:9,duration:100},width:58,height:46,bounds:[24,32,10,10],loop:!1}},{LEFT:dt,RIGHT:li}=me;var el=(e=>(e[e.RISE=0]="RISE",e[e.IDLE=1]="IDLE",e[e.WALK=2]="WALK",e[e.RUN=3]="RUN",e[e.ATTACK=4]="ATTACK",e[e.HURT=5]="HURT",e[e.DEFEAT=6]="DEFEAT",e))(el||{});class Ku extends xe{constructor(t,n){super({...t,width:58,height:46},n);F(this,"image","zombie.png");F(this,"state",0);F(this,"family",ct.ENEMIES);F(this,"type",J.ZOMBIE);F(this,"layerId",te.OBJECTS);F(this,"collisionLayers",[te.MAIN,te.OBJECTS]);F(this,"collisions",!0);F(this,"direction",dt);F(this,"pid");F(this,"damage",0);F(this,"energy",[20,20]);F(this,"speed",{a:.1,d:.1,m:.4});F(this,"activated",!1);F(this,"turning",!1);this.pid=t.pid}update(){super.update();const t=this.game.getCurrentScene(),{a:n,d:o,m:r}=this.speed,{RISE:s,IDLE:l,WALK:f,RUN:c,ATTACK:d,HURT:a,DEFEAT:u}=el,h=t.getObjectByType(J.PLAYER);let p=Ye.IDLE;switch(this.state){case s:p=Ye.RISE,this.direction=this.pos.x>h.pos.x?dt:li,this.onScreen()&&this.getAnimationFrame()===p.strip.frames-1&&(this.activated=!0,this.state=l);break;case l:p=Ye.IDLE,this.onScreen()&&this.game.wait(`zombie-${this.id}-awake`,()=>this.state=f,1500);break;case f:p=Ye.WALK,this.speed.m=.4,this.game.wait(`zombie-${this.id}-run`,()=>{this.onScreen()&&this.isFacingPlayer(h)&&(this.state=c)},2e3);break;case c:p=Ye.RUN,this.speed.m=1,this.isFacingPlayer(h)||(this.state=f);break;case d:p=Ye.ATTACK,this.direction=this.pos.x>h.pos.x?dt:li,this.game.wait(`zombie-${this.id}-run`,()=>this.state=f,1e3);break;case a:const b=this.energy[0]<=0;this.game.cancelWait(`zombie-${this.id}-awake`),this.game.cancelWait(`zombie-${this.id}-run`),p=!this.isFacingPlayer(h)||b?Ye.HURT1:Ye.HURT2,b&&this.getAnimationFrame()===5?(Qs(this.game,new z(this.pos.x+this.width/2,this.pos.y)),this.state=u):this.getAnimationFrame()===p.strip.frames-1&&(!this.isFacingPlayer(h)&&this.turnAround(),this.state=c);break;case u:this.game.wait(`zombie-${this.id}-defeat`,()=>this.kill(),500),this.activated=!1;break}this.onGround()?Math.abs(this.force.y)<=.2&&(this.force.y=0):this.force.y+=this.force.y>0?t.gravity:t.gravity/2,this.force.x=this.state===f||this.state===c?this.approach(this.force.x,this.direction===dt?-r:r,n):this.approach(this.force.x,0,o),(this.expectedPos.x!==this.pos.x||Math.abs(this.pos.x-this.initialPos.x)>100&&!this.isFacingPlayer(h))&&this.turnAround(),this.state!==u&&this.animate(p,{H:this.direction===dt})}hit(t){this.state!==5&&this.state!==6&&(this.setAnimationFrame(0),this.state=5),this.energy[0]-=t}collide(t){if(this.activated&&t.visible)switch(t.type){case J.BULLET:const n=t;this.hit(n.damage);break;case J.PLAYER:const o=t;this.state=4,this.damage=this.getAnimationFrame()===3?20:10,o.hit(this.damage);break}}isFacingPlayer(t){return this.direction===dt&&this.pos.x>t.pos.x||this.direction===li&&this.pos.x<t.pos.x}turnAround(){this.turning||(this.direction=this.direction===li?dt:li,this.force.x*=-.6,this.turning=!0),this.game.wait(`zombie-${this.id}-turn`,()=>this.turning=!1,500)}}const $u="/assets/loop-6baff9bf.mp3",ef="/assets/shoot-ec31e1fc.mp3",tf="/assets/powerup-8f187977.mp3",nf="data:audio/mpeg;base64,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",rf="data:image/png;base64,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",of="data:image/png;base64,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",af="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAEs2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgdGlmZjpJbWFnZUxlbmd0aD0iOCIKICAgdGlmZjpJbWFnZVdpZHRoPSI4IgogICB0aWZmOlJlc29sdXRpb25Vbml0PSIyIgogICB0aWZmOlhSZXNvbHV0aW9uPSI3Mi4wIgogICB0aWZmOllSZXNvbHV0aW9uPSI3Mi4wIgogICBleGlmOlBpeGVsWERpbWVuc2lvbj0iOCIKICAgZXhpZjpQaXhlbFlEaW1lbnNpb249IjgiCiAgIGV4aWY6Q29sb3JTcGFjZT0iMSIKICAgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIKICAgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIgogICB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNi0yM1QxNDoxNToxMSswMjowMCIKICAgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNi0yM1QxNDoxNToxMSswMjowMCI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InByb2R1Y2VkIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZmZpbml0eSBQaG90byAoTWFyIDMxIDIwMjApIgogICAgICBzdEV2dDp3aGVuPSIyMDIwLTA2LTIzVDE0OjE1OjExKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cjw/eHBhY2tldCBlbmQ9InIiPz4Km+eqAAABgmlDQ1BzUkdCIElFQzYxOTY2LTIuMQAAKJF1kctLQkEUhz+1Fz0oKKhFhIS10ugBUZsgJSyQEDPotdGbj0Dtcq8S0jZoKxREbXot6i+obdA6CIoiiFYtWhe1qbidycCInGHO+eY3c87MnAF7OKWlzYpeSGeyRsjvdc7MzjmrH6milRqgI6KZ+mgwGKBse7vBpvyVR+Uqv+/fVrcYMzWwqbNGNN3ICo8LB1ayuuJN4RYtGVkUPhZ2G3JB4WulR4v8pDhR5A/FRjjkA3uTsDPxi6O/WEsaaWF5Oa50Kqf93Ee9pD6WmZ4S3ymjHZMQfrw4mWAMH4P0MSx2EA/99MiMMvG93/GTLEusJlYnj8ESCZJkcYuak+wx8XHRY9JT5FX9/9bVjA/0F7PXe6HywbJeuqB6Az4LlvW+b1mfB+C4h7NMKX55D4ZeRS+UNNcuNK7ByXlJi27B6Tq03ekRI/ItOWTY43F4PoKGWWi+hNr5Ys1+1jm8hfCqfNUFbO9At+xvXPgCBt1nupdr0VQAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA/SURBVBiVY2CgGKz6/59t////LPX//zP9//+fEV0eLlBUVNTAzc1dz8XF1VhZWdkAE2fCYmh9e3t7AxZxWgEAHCAShF433pMAAAAASUVORK5CYII=",sf="/assets/bg1-20e1ce46.png",lf="/assets/bg2-6557f552.png",uf="/assets/clouds-b9584007.png",ff="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAAgCAYAAAD9jPHNAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gMNDQc6owduAgAAArxJREFUeNrtWsuRgzAMxZltgCYogE5ySgFpIVdOXNNCCsgpnVAATVACe9KORmtjP9kEQvRm9rC7SEbW0wdbVWUwGAwGg8FgMBgMn4rX8zFrZbv+Pnf9fX73O5/Mbfsgwev5mIdxqnJI0Hc3ZwQq4ECfE1McQ7JaJ9K6GvlhnP5IoJHfgjxVVVVuzxF8vlwdJ0BskyRxuDyyLnemJots6dCvzkCSAPx3lDyxTCD/h5AtpuNbyLMagagUIP1A6FltOaJMkJryKXsgGcSno21qVT/ka4JzmmptKd2cQKEsojXGR4SYc0mmbepkJ5wvV0fOJ/1IENBztDZid9ff57ap/9kVC4IYUd6RCX/WXkA2hylGpW6cJAB3Ns8EiI4QIRBZbocmk6EE2LJkOiSjpPQJoY1He5gleR8RfZmC60hdn2zkUY3KfhNOyJcJUoZkBiDZkA6++b6oX3IoJ+0wTtX5cnVIFuPytE7f3Rz9oLJoyedyqI4tDg/hDIREcsyomLxWFskYsTW18iSXWqqRIwqDwWAwGAwGg8FgMGyBEtcbJT/9bR7ow5w/jFOWntLHBYckkC/C0Mtdn84cHfROOfLkfM1Vz1okcnslADcSvU6JRT6qg5zPT9dzdBzpymOXGShEnlAEI3M/UoemH9AQgGw62n3Z6gRKnQ2KOXrp76njHdp0zksH2oPICQG0hMnn0SZ47buyVQgUqvdLm+dzZG6t5wNeGl2c+PR+SAmS+yBnhVLgm0pomzqZGKEAKUUstwZ5+KWivJVHUrg0Eu1B5DQBySMEQGVCOo466uFiG5+zcT7nh/TJxnmJPCnvxeV9w2Updvlu+EvM/hxpfugUOmvQnF2EZn5SpgOXyCNTObrxfEYIKSNyJojvTc7nuFaHnBvaw8y0i0Wu9nM15/yhhI7UjJJjm3bmR84PlTjq2Aq/pFfKwCSAztsAAAAASUVORK5CYII=",cf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAECAYAAAD8kH0gAAAFSGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpDb2xvclNwYWNlPSIxIgogICBleGlmOlBpeGVsWERpbWVuc2lvbj0iNDAiCiAgIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSI0IgogICBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIgogICBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiCiAgIHRpZmY6SW1hZ2VMZW5ndGg9IjQiCiAgIHRpZmY6SW1hZ2VXaWR0aD0iNDAiCiAgIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiCiAgIHRpZmY6WFJlc29sdXRpb249IjcyLjAiCiAgIHRpZmY6WVJlc29sdXRpb249IjcyLjAiCiAgIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDYtMjVUMTE6NDA6NDMrMDI6MDAiCiAgIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA2LTI1VDExOjQwOjQzKzAyOjAwIj4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHhtcE1NOmFjdGlvbj0icHJvZHVjZWQiCiAgICAgIHhtcE1NOnNvZnR3YXJlQWdlbnQ9IkFmZmluaXR5IFBob3RvIChNYXIgMzEgMjAyMCkiCiAgICAgIHhtcE1NOndoZW49IjIwMjAtMDYtMjVUMTE6Mjg6MTkrMDI6MDAiLz4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0icHJvZHVjZWQiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFmZmluaXR5IFBob3RvIChNYXIgMzEgMjAyMCkiCiAgICAgIHN0RXZ0OndoZW49IjIwMjAtMDYtMjVUMTE6NDA6NDMrMDI6MDAiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0iciI/Ps3M9SIAAAGCaUNDUHNSR0IgSUVDNjE5NjYtMi4xAAAokXWRy0tCQRSHP7UyyjCoRUELCWuVYQZRmyAjLJAQM+i10ZuPQO1yrxLRNmgrFERtei3qL6ht0DoIiiKIVi1aF7UpuZ2bghI5wznnm9/MOcycAWskrWT0Oi9ksjktHPC75uYXXPYXGugUa8AZVXR1LBQKUnN83mMx463HrFX73L+jeTmuK2BpFB5VVC0nPCkcXMupJu8Ityup6LLwmXCfJhcUvjP1WIlfTU6W+NtkLRIeB2ursCtZxbEqVlJaRlhejjuTzivl+5gvccSzszMSu8W60AkTwI+LKSYYZ4gBRsQP4cFHv6yoke/9zZ9mVXIV8SrraKyQJEWOPlHzUj0uMSF6XGaadbP/f/uqJwZ9peoOP9Q/G8Z7D9i3oVgwjK8jwygeg+0JLrOV/NVDGP4QvVDR3Afg3ITzq4oW24WLLeh4VKNa9FeyiVkTCXg7hZZ5aLuBpsVSz8r7nDxAZEO+6hr29qFXzjuXfgDzJWexOMA55gAAAAlwSFlzAAALEwAACxMBAJqcGAAAADJJREFUKJFjZIAC08k7/zMwMDCcznVnHEx8JmQOumMHA58RmXM6133Q8ZmQOci+GCx8AJeKdofbjlxCAAAAAElFTkSuQmCC",hf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAKCAYAAADlwU2FAAAFVGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjU4IgogICBleGlmOlBpeGVsWURpbWVuc2lvbj0iMTAiCiAgIGV4aWY6Q29sb3JTcGFjZT0iMSIKICAgdGlmZjpJbWFnZVdpZHRoPSI1OCIKICAgdGlmZjpJbWFnZUxlbmd0aD0iMTAiCiAgIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiCiAgIHRpZmY6WFJlc29sdXRpb249IjcyLjAiCiAgIHRpZmY6WVJlc29sdXRpb249IjcyLjAiCiAgIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiCiAgIHBob3Rvc2hvcDpJQ0NQcm9maWxl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",df="data:image/png;base64,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",pf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEEECM7Nt6T+wAAAsVJREFUaN7lmz1vwjAQhnNpQLCAOiDaSp2y8f9/C1umShTEUMECAkE6OTImts++80eEpaqiTUIev6/P54sDRYTWtu0YcxwAXELfC6QETNEBkBtkaHjIHZQbHIYCygUOQ4SlQMMQQSngMHRYV2iICFsjjmlCQ0Ng2JpwbhMCGgLA1sxubTihISbs/daudf8r32DFCa6D5gSuXQDVdtgfi/liZuuAhgpcMcCSQG1uUMBrLHjbtuM+aOCG/dseHmBl1Uzqms6hqK1CU4BrVRH1xjHQunOQ4A0J2BdWVTVn6JI61jCwJigTrGukx7SSqu75eup+fBTGjHHqvC+zlZSLy+pORlMvO/t0Ro/K6GSn4rKyUFgFt8HKlpaPtVn9fmvXiGSl39I+WVWfhU0qY9TVwXM0wQgOwJ1tfn+2awws900jUtLGFq0r6hf6qJqyVb7LPx2oq6q2LIvb1tgo/WBnTlWpgErEtkbr0kdZ07zrmkjEGutsmdbQWsU5finTSyyVX07h4MA+Yzo7YNtCIVVACgJ8vp5QyYZLp2QftDIGtRYDSuQjiu5Cn98fq6ws6rBiAoBLsKCVa47tHbRU68qfc15QlD7jQ9haQMq/ZVi1U3abXbKl4QMwZRuBCXIymnbzcOr5WDB6j2GhslhM2JKP+WJWLL+WbEmJT3mnq3g4VD2elmBq9UN0gFBddYCtPo1JVCi16VL9A3WuE4CY0m2suZe1EN83L+sqmCYbY8e6r5WfLM1tbcwUJeyLLfOwP1tyBO4tqejAdZ0xX8yK3Wb3FNAQqvI8PYwN3RfwZHhOWC0wB7QPuFD8sD8W7x/zlW+QMgXhaHs8MPCWhUnYPR4hoENNO1hYKzABmgM+/j4tJmgX+PQ78Zihgy8O2IBzhg6ymzZH8OD7pXOCjrojPiV4snceYoNn81ZLSPis31vi6IAYb6a9XPsHYmu6Wi6h80YAAAAASUVORK5CYII=",_f="/assets/player-a8bc3359.png",gf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAXCAYAAABqBU3hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEEDBMQUBgGXAAAAMpJREFUSMfNVtEOwyAIBD6u6ef3j+hLs2wTgbu6dCQm1nKI5ymK5OZXY63EawJE/Gm8ycOmQPZdFiD84wwYkHm1SgqvZIBoKyi8ESrXG/ooNeCNCbygFsLrF9AB+nwFPhJhh+JMhBDemsE7k1D4vxGhAkcpYmHAH9suUT9j0d+r17Htr++rP/gk1a/TpiufsZH5RuPRKRkYqDSgk7HOHusE85GINcWihOLbxcgBBTOPk1TEdiPQkoR+8R5gLzJ4Px385ys0I8SFlfqfiG9TiIZ3t5EAAAAASUVORK5CYII=",mf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAICAYAAACLUr1bAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QwcFAAbX7ml4QAAADdJREFUOMtjYBgFqOD/////SVHPRG0LSHUAIcBIruMYGRkZCTkMWQ0hebpFEb1DeMDT4CigFAAA+Uon6PQAbmgAAAAASUVORK5CYII=",yf="/assets/zombie-b87103f8.png",vf="/assets/tileset-d74d6f5e.png",Af={"ammo.png":rf,"bat.png":of,"bg1.png":sf,"bg2.png":lf,"dust.png":ff,"bullet.png":af,"clouds.png":uf,"energy.png":cf,"estrip.png":hf,"font.png":df,"moon.png":pf,"player.png":_f,"spider.png":gf,"shine.png":mf,"tileset.png":vf,"zombie.png":yf,"shoot.mp3":ef,"powerup.mp3":tf,"reload.mp3":nf,"loop.mp3":$u},Ji={},bf=Object.freeze(Object.defineProperty({__proto__:null,default:Ji},Symbol.toStringTag,{value:"Module"})),Ve=Ys(bf);var Yr={exports:{}};typeof Object.create=="function"?Yr.exports=function(i,t){t&&(i.super_=t,i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:Yr.exports=function(i,t){if(t){i.super_=t;var n=function(){};n.prototype=t.prototype,i.prototype=new n,i.prototype.constructor=i}};var Jt=Yr.exports,In,Qo;function tl(){return Qo||(Qo=1,In=Ve.EventEmitter),In}var Jr;typeof Object.create=="function"?Jr=function(i,t){i.super_=t,i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:Jr=function(i,t){i.super_=t;var n=function(){};n.prototype=t.prototype,i.prototype=new n,i.prototype.constructor=i};const Ne=Jr;var wf=/%[sdj%]/g;function pn(e){if(!Ni(e)){for(var i=[],t=0;t<arguments.length;t++)i.push(De(arguments[t]));return i.join(" ")}for(var t=1,n=arguments,o=n.length,r=String(e).replace(wf,function(l){if(l==="%%")return"%";if(t>=o)return l;switch(l){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch{return"[Circular]"}default:return l}}),s=n[t];t<o;s=n[++t])Ri(s)||!St(s)?r+=" "+s:r+=" "+De(s);return r}function lo(e,i){if(Le(global.process))return function(){return lo(e,i).apply(this,arguments)};if(Ji.noDeprecation===!0)return e;var t=!1;function n(){if(!t){if(Ji.throwDeprecation)throw new Error(i);Ji.traceDeprecation?console.trace(i):console.error(i),t=!0}return e.apply(this,arguments)}return n}var Hi={},Sn;function il(e){if(Le(Sn)&&(Sn={}.NODE_DEBUG||""),e=e.toUpperCase(),!Hi[e])if(new RegExp("\\b"+e+"\\b","i").test(Sn)){var i=0;Hi[e]=function(){var t=pn.apply(null,arguments);console.error("%s %d: %s",e,i,t)}}else Hi[e]=function(){};return Hi[e]}function De(e,i){var t={seen:[],stylize:xf};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),_n(i)?t.showHidden=i:i&&ho(t,i),Le(t.showHidden)&&(t.showHidden=!1),Le(t.depth)&&(t.depth=2),Le(t.colors)&&(t.colors=!1),Le(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=Ef),an(t,e,t.depth)}De.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};De.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Ef(e,i){var t=De.styles[i];return t?"\x1B["+De.colors[t][0]+"m"+e+"\x1B["+De.colors[t][1]+"m":e}function xf(e,i){return e}function Tf(e){var i={};return e.forEach(function(t,n){i[t]=!0}),i}function an(e,i,t){if(e.customInspect&&i&&vi(i.inspect)&&i.inspect!==De&&!(i.constructor&&i.constructor.prototype===i)){var n=i.inspect(t,e);return Ni(n)||(n=an(e,n,t)),n}var o=If(e,i);if(o)return o;var r=Object.keys(i),s=Tf(r);if(e.showHidden&&(r=Object.getOwnPropertyNames(i)),yi(i)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return On(i);if(r.length===0){if(vi(i)){var l=i.name?": "+i.name:"";return e.stylize("[Function"+l+"]","special")}if(mi(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(sn(i))return e.stylize(Date.prototype.toString.call(i),"date");if(yi(i))return On(i)}var f="",c=!1,d=["{","}"];if(uo(i)&&(c=!0,d=["[","]"]),vi(i)){var a=i.name?": "+i.name:"";f=" [Function"+a+"]"}if(mi(i)&&(f=" "+RegExp.prototype.toString.call(i)),sn(i)&&(f=" "+Date.prototype.toUTCString.call(i)),yi(i)&&(f=" "+On(i)),r.length===0&&(!c||i.length==0))return d[0]+f+d[1];if(t<0)return mi(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special");e.seen.push(i);var u;return c?u=Sf(e,i,t,s,r):u=r.map(function(h){return Qr(e,i,t,s,h,c)}),e.seen.pop(),Of(u,f,d)}function If(e,i){if(Le(i))return e.stylize("undefined","undefined");if(Ni(i)){var t="'"+JSON.stringify(i).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}if(fo(i))return e.stylize(""+i,"number");if(_n(i))return e.stylize(""+i,"boolean");if(Ri(i))return e.stylize("null","null")}function On(e){return"["+Error.prototype.toString.call(e)+"]"}function Sf(e,i,t,n,o){for(var r=[],s=0,l=i.length;s<l;++s)ll(i,String(s))?r.push(Qr(e,i,t,n,String(s),!0)):r.push("");return o.forEach(function(f){f.match(/^\d+$/)||r.push(Qr(e,i,t,n,f,!0))}),r}function Qr(e,i,t,n,o,r){var s,l,f;if(f=Object.getOwnPropertyDescriptor(i,o)||{value:i[o]},f.get?f.set?l=e.stylize("[Getter/Setter]","special"):l=e.stylize("[Getter]","special"):f.set&&(l=e.stylize("[Setter]","special")),ll(n,o)||(s="["+o+"]"),l||(e.seen.indexOf(f.value)<0?(Ri(t)?l=an(e,f.value,null):l=an(e,f.value,t-1),l.indexOf(`
`)>-1&&(r?l=l.split(`
`).map(function(c){return"  "+c}).join(`
`).substr(2):l=`
`+l.split(`
`).map(function(c){return"   "+c}).join(`
`))):l=e.stylize("[Circular]","special")),Le(s)){if(r&&o.match(/^\d+$/))return l;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+l}function Of(e,i,t){var n=e.reduce(function(o,r){return r.indexOf(`
`)>=0,o+r.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?t[0]+(i===""?"":i+`
 `)+" "+e.join(`,
  `)+" "+t[1]:t[0]+i+" "+e.join(", ")+" "+t[1]}function uo(e){return Array.isArray(e)}function _n(e){return typeof e=="boolean"}function Ri(e){return e===null}function nl(e){return e==null}function fo(e){return typeof e=="number"}function Ni(e){return typeof e=="string"}function rl(e){return typeof e=="symbol"}function Le(e){return e===void 0}function mi(e){return St(e)&&co(e)==="[object RegExp]"}function St(e){return typeof e=="object"&&e!==null}function sn(e){return St(e)&&co(e)==="[object Date]"}function yi(e){return St(e)&&(co(e)==="[object Error]"||e instanceof Error)}function vi(e){return typeof e=="function"}function ol(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}function al(e){return Buffer.isBuffer(e)}function co(e){return Object.prototype.toString.call(e)}function Cn(e){return e<10?"0"+e.toString(10):e.toString(10)}var Cf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Lf(){var e=new Date,i=[Cn(e.getHours()),Cn(e.getMinutes()),Cn(e.getSeconds())].join(":");return[e.getDate(),Cf[e.getMonth()],i].join(" ")}function sl(){console.log("%s - %s",Lf(),pn.apply(null,arguments))}function ho(e,i){if(!i||!St(i))return e;for(var t=Object.keys(i),n=t.length;n--;)e[t[n]]=i[t[n]];return e}function ll(e,i){return Object.prototype.hasOwnProperty.call(e,i)}const Df={inherits:Ne,_extend:ho,log:sl,isBuffer:al,isPrimitive:ol,isFunction:vi,isError:yi,isDate:sn,isObject:St,isRegExp:mi,isUndefined:Le,isSymbol:rl,isString:Ni,isNumber:fo,isNullOrUndefined:nl,isNull:Ri,isBoolean:_n,isArray:uo,inspect:De,deprecate:lo,format:pn,debuglog:il},Rf=Object.freeze(Object.defineProperty({__proto__:null,_extend:ho,debuglog:il,default:Df,deprecate:lo,format:pn,inherits:Ne,inspect:De,isArray:uo,isBoolean:_n,isBuffer:al,isDate:sn,isError:yi,isFunction:vi,isNull:Ri,isNullOrUndefined:nl,isNumber:fo,isObject:St,isPrimitive:ol,isRegExp:mi,isString:Ni,isSymbol:rl,isUndefined:Le,log:sl},Symbol.toStringTag,{value:"Module"})),ul=Ys(Rf);var Ln,Ko;function Nf(){if(Ko)return Ln;Ko=1;function e(p,b){var E=Object.keys(p);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(p);b&&(_=_.filter(function(A){return Object.getOwnPropertyDescriptor(p,A).enumerable})),E.push.apply(E,_)}return E}function i(p){for(var b=1;b<arguments.length;b++){var E=arguments[b]!=null?arguments[b]:{};b%2?e(Object(E),!0).forEach(function(_){t(p,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(E)):e(Object(E)).forEach(function(_){Object.defineProperty(p,_,Object.getOwnPropertyDescriptor(E,_))})}return p}function t(p,b,E){return b=s(b),b in p?Object.defineProperty(p,b,{value:E,enumerable:!0,configurable:!0,writable:!0}):p[b]=E,p}function n(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function o(p,b){for(var E=0;E<b.length;E++){var _=b[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,s(_.key),_)}}function r(p,b,E){return b&&o(p.prototype,b),E&&o(p,E),Object.defineProperty(p,"prototype",{writable:!1}),p}function s(p){var b=l(p,"string");return typeof b=="symbol"?b:String(b)}function l(p,b){if(typeof p!="object"||p===null)return p;var E=p[Symbol.toPrimitive];if(E!==void 0){var _=E.call(p,b||"default");if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(p)}var f=Ve,c=f.Buffer,d=ul,a=d.inspect,u=a&&a.custom||"inspect";function h(p,b,E){c.prototype.copy.call(p,b,E)}return Ln=function(){function p(){n(this,p),this.head=null,this.tail=null,this.length=0}return r(p,[{key:"push",value:function(E){var _={data:E,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(E){var _={data:E,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(E){if(this.length===0)return"";for(var _=this.head,A=""+_.data;_=_.next;)A+=E+_.data;return A}},{key:"concat",value:function(E){if(this.length===0)return c.alloc(0);for(var _=c.allocUnsafe(E>>>0),A=this.head,g=0;A;)h(A.data,_,g),g+=A.data.length,A=A.next;return _}},{key:"consume",value:function(E,_){var A;return E<this.head.data.length?(A=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):E===this.head.data.length?A=this.shift():A=_?this._getString(E):this._getBuffer(E),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var _=this.head,A=1,g=_.data;for(E-=g.length;_=_.next;){var w=_.data,I=E>w.length?w.length:E;if(I===w.length?g+=w:g+=w.slice(0,E),E-=I,E===0){I===w.length?(++A,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=w.slice(I));break}++A}return this.length-=A,g}},{key:"_getBuffer",value:function(E){var _=c.allocUnsafe(E),A=this.head,g=1;for(A.data.copy(_),E-=A.data.length;A=A.next;){var w=A.data,I=E>w.length?w.length:E;if(w.copy(_,_.length-E,0,I),E-=I,E===0){I===w.length?(++g,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=w.slice(I));break}++g}return this.length-=g,_}},{key:u,value:function(E,_){return a(this,i(i({},_),{},{depth:0,customInspect:!1}))}}]),p}(),Ln}var Dn,$o;function fl(){if($o)return Dn;$o=1;function e(s,l){var f=this,c=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return c||d?(l?l(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(o,this,s)):process.nextTick(o,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(a){!l&&a?f._writableState?f._writableState.errorEmitted?process.nextTick(t,f):(f._writableState.errorEmitted=!0,process.nextTick(i,f,a)):process.nextTick(i,f,a):l?(process.nextTick(t,f),l(a)):process.nextTick(t,f)}),this)}function i(s,l){o(s,l),t(s)}function t(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(s,l){s.emit("error",l)}function r(s,l){var f=s._readableState,c=s._writableState;f&&f.autoDestroy||c&&c.autoDestroy?s.destroy(l):s.emit("error",l)}return Dn={destroy:e,undestroy:n,errorOrDestroy:r},Dn}var Rn={},ea;function Qt(){if(ea)return Rn;ea=1;function e(l,f){l.prototype=Object.create(f.prototype),l.prototype.constructor=l,l.__proto__=f}var i={};function t(l,f,c){c||(c=Error);function d(u,h,p){return typeof f=="string"?f:f(u,h,p)}var a=function(u){e(h,u);function h(p,b,E){return u.call(this,d(p,b,E))||this}return h}(c);a.prototype.name=c.name,a.prototype.code=l,i[l]=a}function n(l,f){if(Array.isArray(l)){var c=l.length;return l=l.map(function(d){return String(d)}),c>2?"one of ".concat(f," ").concat(l.slice(0,c-1).join(", "),", or ")+l[c-1]:c===2?"one of ".concat(f," ").concat(l[0]," or ").concat(l[1]):"of ".concat(f," ").concat(l[0])}else return"of ".concat(f," ").concat(String(l))}function o(l,f,c){return l.substr(!c||c<0?0:+c,f.length)===f}function r(l,f,c){return(c===void 0||c>l.length)&&(c=l.length),l.substring(c-f.length,c)===f}function s(l,f,c){return typeof c!="number"&&(c=0),c+f.length>l.length?!1:l.indexOf(f,c)!==-1}return t("ERR_INVALID_OPT_VALUE",function(l,f){return'The value "'+f+'" is invalid for option "'+l+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(l,f,c){var d;typeof f=="string"&&o(f,"not ")?(d="must not be",f=f.replace(/^not /,"")):d="must be";var a;if(r(l," argument"))a="The ".concat(l," ").concat(d," ").concat(n(f,"type"));else{var u=s(l,".")?"property":"argument";a='The "'.concat(l,'" ').concat(u," ").concat(d," ").concat(n(f,"type"))}return a+=". Received type ".concat(typeof c),a},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Rn.codes=i,Rn}var Nn,ta;function cl(){if(ta)return Nn;ta=1;var e=Qt().codes.ERR_INVALID_OPT_VALUE;function i(n,o,r){return n.highWaterMark!=null?n.highWaterMark:o?n[r]:null}function t(n,o,r,s){var l=i(o,s,r);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var f=s?r:"highWaterMark";throw new e(f,l)}return Math.floor(l)}return n.objectMode?16:16*1024}return Nn={getHighWaterMark:t},Nn}var Mn,ia;function Mf(){if(ia)return Mn;ia=1,Mn=e;function e(t,n){if(i("noDeprecation"))return t;var o=!1;function r(){if(!o){if(i("throwDeprecation"))throw new Error(n);i("traceDeprecation")?console.trace(n):console.warn(n),o=!0}return t.apply(this,arguments)}return r}function i(t){try{if(!G.localStorage)return!1}catch{return!1}var n=G.localStorage[t];return n==null?!1:String(n).toLowerCase()==="true"}return Mn}var qn,na;function hl(){if(na)return qn;na=1,qn=S;function e(M){var y=this;this.next=null,this.entry=null,this.finish=function(){Nt(y,M)}}var i;S.WritableState=C;var t={deprecate:Mf()},n=tl(),o=Ve.Buffer,r=(typeof G<"u"?G:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(M){return o.from(M)}function l(M){return o.isBuffer(M)||M instanceof r}var f=fl(),c=cl(),d=c.getHighWaterMark,a=Qt().codes,u=a.ERR_INVALID_ARG_TYPE,h=a.ERR_METHOD_NOT_IMPLEMENTED,p=a.ERR_MULTIPLE_CALLBACK,b=a.ERR_STREAM_CANNOT_PIPE,E=a.ERR_STREAM_DESTROYED,_=a.ERR_STREAM_NULL_VALUES,A=a.ERR_STREAM_WRITE_AFTER_END,g=a.ERR_UNKNOWN_ENCODING,w=f.errorOrDestroy;Jt(S,n);function I(){}function C(M,y,v){i=i||zt(),M=M||{},typeof v!="boolean"&&(v=y instanceof i),this.objectMode=!!M.objectMode,v&&(this.objectMode=this.objectMode||!!M.writableObjectMode),this.highWaterMark=d(this,M,"writableHighWaterMark",v),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var D=M.decodeStrings===!1;this.decodeStrings=!D,this.defaultEncoding=M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(O){Y(y,O)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}C.prototype.getBuffer=function(){for(var y=this.bufferedRequest,v=[];y;)v.push(y),y=y.next;return v},function(){try{Object.defineProperty(C.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var R;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(R=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(y){return R.call(this,y)?!0:this!==S?!1:y&&y._writableState instanceof C}})):R=function(y){return y instanceof this};function S(M){i=i||zt();var y=this instanceof i;if(!y&&!R.call(S,this))return new S(M);this._writableState=new C(M,this,y),this.writable=!0,M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final)),n.call(this)}S.prototype.pipe=function(){w(this,new b)};function m(M,y){var v=new A;w(M,v),process.nextTick(y,v)}function L(M,y,v,D){var O;return v===null?O=new _:typeof v!="string"&&!y.objectMode&&(O=new u("chunk",["string","Buffer"],v)),O?(w(M,O),process.nextTick(D,O),!1):!0}S.prototype.write=function(M,y,v){var D=this._writableState,O=!1,x=!D.objectMode&&l(M);return x&&!o.isBuffer(M)&&(M=s(M)),typeof y=="function"&&(v=y,y=null),x?y="buffer":y||(y=D.defaultEncoding),typeof v!="function"&&(v=I),D.ending?m(this,v):(x||L(this,D,M,v))&&(D.pendingcb++,O=j(this,D,x,M,y,v)),O},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var M=this._writableState;M.corked&&(M.corked--,!M.writing&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&Te(this,M))},S.prototype.setDefaultEncoding=function(y){if(typeof y=="string"&&(y=y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((y+"").toLowerCase())>-1))throw new g(y);return this._writableState.defaultEncoding=y,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function q(M,y,v){return!M.objectMode&&M.decodeStrings!==!1&&typeof y=="string"&&(y=o.from(y,v)),y}Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function j(M,y,v,D,O,x){if(!v){var T=q(y,D,O);D!==T&&(v=!0,O="buffer",D=T)}var P=y.objectMode?1:D.length;y.length+=P;var B=y.length<y.highWaterMark;if(B||(y.needDrain=!0),y.writing||y.corked){var Q=y.lastBufferedRequest;y.lastBufferedRequest={chunk:D,encoding:O,isBuf:v,callback:x,next:null},Q?Q.next=y.lastBufferedRequest:y.bufferedRequest=y.lastBufferedRequest,y.bufferedRequestCount+=1}else H(M,y,!1,P,D,O,x);return B}function H(M,y,v,D,O,x,T){y.writelen=D,y.writecb=T,y.writing=!0,y.sync=!0,y.destroyed?y.onwrite(new E("write")):v?M._writev(O,y.onwrite):M._write(O,x,y.onwrite),y.sync=!1}function X(M,y,v,D,O){--y.pendingcb,v?(process.nextTick(O,D),process.nextTick(qe,M,y),M._writableState.errorEmitted=!0,w(M,D)):(O(D),M._writableState.errorEmitted=!0,w(M,D),qe(M,y))}function $(M){M.writing=!1,M.writecb=null,M.length-=M.writelen,M.writelen=0}function Y(M,y){var v=M._writableState,D=v.sync,O=v.writecb;if(typeof O!="function")throw new p;if($(v),y)X(M,v,D,y,O);else{var x=We(v)||M.destroyed;!x&&!v.corked&&!v.bufferProcessing&&v.bufferedRequest&&Te(M,v),D?process.nextTick(Z,M,v,x,O):Z(M,v,x,O)}}function Z(M,y,v,D){v||Dt(M,y),y.pendingcb--,D(),qe(M,y)}function Dt(M,y){y.length===0&&y.needDrain&&(y.needDrain=!1,M.emit("drain"))}function Te(M,y){y.bufferProcessing=!0;var v=y.bufferedRequest;if(M._writev&&v&&v.next){var D=y.bufferedRequestCount,O=new Array(D),x=y.corkedRequestsFree;x.entry=v;for(var T=0,P=!0;v;)O[T]=v,v.isBuf||(P=!1),v=v.next,T+=1;O.allBuffers=P,H(M,y,!0,y.length,O,"",x.finish),y.pendingcb++,y.lastBufferedRequest=null,x.next?(y.corkedRequestsFree=x.next,x.next=null):y.corkedRequestsFree=new e(y),y.bufferedRequestCount=0}else{for(;v;){var B=v.chunk,Q=v.encoding,W=v.callback,V=y.objectMode?1:B.length;if(H(M,y,!1,V,B,Q,W),v=v.next,y.bufferedRequestCount--,y.writing)break}v===null&&(y.lastBufferedRequest=null)}y.bufferedRequest=v,y.bufferProcessing=!1}S.prototype._write=function(M,y,v){v(new h("_write()"))},S.prototype._writev=null,S.prototype.end=function(M,y,v){var D=this._writableState;return typeof M=="function"?(v=M,M=null,y=null):typeof y=="function"&&(v=y,y=null),M!=null&&this.write(M,y),D.corked&&(D.corked=1,this.uncork()),D.ending||Rt(this,D,v),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function We(M){return M.ending&&M.length===0&&M.bufferedRequest===null&&!M.finished&&!M.writing}function Ae(M,y){M._final(function(v){y.pendingcb--,v&&w(M,v),y.prefinished=!0,M.emit("prefinish"),qe(M,y)})}function ze(M,y){!y.prefinished&&!y.finalCalled&&(typeof M._final=="function"&&!y.destroyed?(y.pendingcb++,y.finalCalled=!0,process.nextTick(Ae,M,y)):(y.prefinished=!0,M.emit("prefinish")))}function qe(M,y){var v=We(y);if(v&&(ze(M,y),y.pendingcb===0&&(y.finished=!0,M.emit("finish"),y.autoDestroy))){var D=M._readableState;(!D||D.autoDestroy&&D.endEmitted)&&M.destroy()}return v}function Rt(M,y,v){y.ending=!0,qe(M,y),v&&(y.finished?process.nextTick(v):M.once("finish",v)),y.ended=!0,M.writable=!1}function Nt(M,y,v){var D=M.entry;for(M.entry=null;D;){var O=D.callback;y.pendingcb--,O(v),D=D.next}y.corkedRequestsFree.next=M}return Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(y){this._writableState&&(this._writableState.destroyed=y)}}),S.prototype.destroy=f.destroy,S.prototype._undestroy=f.undestroy,S.prototype._destroy=function(M,y){y(M)},qn}var Pn,ra;function zt(){if(ra)return Pn;ra=1;var e=Object.keys||function(c){var d=[];for(var a in c)d.push(a);return d};Pn=s;var i=dl(),t=hl();Jt(s,i);for(var n=e(t.prototype),o=0;o<n.length;o++){var r=n[o];s.prototype[r]||(s.prototype[r]=t.prototype[r])}function s(c){if(!(this instanceof s))return new s(c);i.call(this,c),t.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||process.nextTick(f,this)}function f(c){c.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),Pn}var kn={},Gi={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var oa;function qf(){return oa||(oa=1,function(e,i){var t=Ve,n=t.Buffer;function o(s,l){for(var f in s)l[f]=s[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=t:(o(t,i),i.Buffer=r);function r(s,l,f){return n(s,l,f)}r.prototype=Object.create(n.prototype),o(n,r),r.from=function(s,l,f){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,l,f)},r.alloc=function(s,l,f){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=n(s);return l!==void 0?typeof f=="string"?c.fill(l,f):c.fill(l):c.fill(0),c},r.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},r.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(s)}}(Gi,Gi.exports)),Gi.exports}var aa;function Kr(){if(aa)return kn;aa=1;var e=qf().Buffer,i=e.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(_){if(!_)return"utf8";for(var A;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(A)return;_=(""+_).toLowerCase(),A=!0}}function n(_){var A=t(_);if(typeof A!="string"&&(e.isEncoding===i||!i(_)))throw new Error("Unknown encoding: "+_);return A||_}kn.StringDecoder=o;function o(_){this.encoding=n(_);var A;switch(this.encoding){case"utf16le":this.text=a,this.end=u,A=4;break;case"utf8":this.fillLast=f,A=4;break;case"base64":this.text=h,this.end=p,A=3;break;default:this.write=b,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(A)}o.prototype.write=function(_){if(_.length===0)return"";var A,g;if(this.lastNeed){if(A=this.fillLast(_),A===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<_.length?A?A+this.text(_,g):this.text(_,g):A||""},o.prototype.end=d,o.prototype.text=c,o.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function r(_){return _<=127?0:_>>5===6?2:_>>4===14?3:_>>3===30?4:_>>6===2?-1:-2}function s(_,A,g){var w=A.length-1;if(w<g)return 0;var I=r(A[w]);return I>=0?(I>0&&(_.lastNeed=I-1),I):--w<g||I===-2?0:(I=r(A[w]),I>=0?(I>0&&(_.lastNeed=I-2),I):--w<g||I===-2?0:(I=r(A[w]),I>=0?(I>0&&(I===2?I=0:_.lastNeed=I-3),I):0))}function l(_,A,g){if((A[0]&192)!==128)return _.lastNeed=0,"�";if(_.lastNeed>1&&A.length>1){if((A[1]&192)!==128)return _.lastNeed=1,"�";if(_.lastNeed>2&&A.length>2&&(A[2]&192)!==128)return _.lastNeed=2,"�"}}function f(_){var A=this.lastTotal-this.lastNeed,g=l(this,_);if(g!==void 0)return g;if(this.lastNeed<=_.length)return _.copy(this.lastChar,A,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,A,0,_.length),this.lastNeed-=_.length}function c(_,A){var g=s(this,_,A);if(!this.lastNeed)return _.toString("utf8",A);this.lastTotal=g;var w=_.length-(g-this.lastNeed);return _.copy(this.lastChar,0,w),_.toString("utf8",A,w)}function d(_){var A=_&&_.length?this.write(_):"";return this.lastNeed?A+"�":A}function a(_,A){if((_.length-A)%2===0){var g=_.toString("utf16le",A);if(g){var w=g.charCodeAt(g.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",A,_.length-1)}function u(_){var A=_&&_.length?this.write(_):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return A+this.lastChar.toString("utf16le",0,g)}return A}function h(_,A){var g=(_.length-A)%3;return g===0?_.toString("base64",A):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",A,_.length-g))}function p(_){var A=_&&_.length?this.write(_):"";return this.lastNeed?A+this.lastChar.toString("base64",0,3-this.lastNeed):A}function b(_){return _.toString(this.encoding)}function E(_){return _&&_.length?this.write(_):""}return kn}var Fn,sa;function po(){if(sa)return Fn;sa=1;var e=Qt().codes.ERR_STREAM_PREMATURE_CLOSE;function i(r){var s=!1;return function(){if(!s){s=!0;for(var l=arguments.length,f=new Array(l),c=0;c<l;c++)f[c]=arguments[c];r.apply(this,f)}}}function t(){}function n(r){return r.setHeader&&typeof r.abort=="function"}function o(r,s,l){if(typeof s=="function")return o(r,null,s);s||(s={}),l=i(l||t);var f=s.readable||s.readable!==!1&&r.readable,c=s.writable||s.writable!==!1&&r.writable,d=function(){r.writable||u()},a=r._writableState&&r._writableState.finished,u=function(){c=!1,a=!0,f||l.call(r)},h=r._readableState&&r._readableState.endEmitted,p=function(){f=!1,h=!0,c||l.call(r)},b=function(g){l.call(r,g)},E=function(){var g;if(f&&!h)return(!r._readableState||!r._readableState.ended)&&(g=new e),l.call(r,g);if(c&&!a)return(!r._writableState||!r._writableState.ended)&&(g=new e),l.call(r,g)},_=function(){r.req.on("finish",u)};return n(r)?(r.on("complete",u),r.on("abort",E),r.req?_():r.on("request",_)):c&&!r._writableState&&(r.on("end",d),r.on("close",d)),r.on("end",p),r.on("finish",u),s.error!==!1&&r.on("error",b),r.on("close",E),function(){r.removeListener("complete",u),r.removeListener("abort",E),r.removeListener("request",_),r.req&&r.req.removeListener("finish",u),r.removeListener("end",d),r.removeListener("close",d),r.removeListener("finish",u),r.removeListener("end",p),r.removeListener("error",b),r.removeListener("close",E)}}return Fn=o,Fn}var Bn,la;function Pf(){if(la)return Bn;la=1;var e;function i(g,w,I){return w=t(w),w in g?Object.defineProperty(g,w,{value:I,enumerable:!0,configurable:!0,writable:!0}):g[w]=I,g}function t(g){var w=n(g,"string");return typeof w=="symbol"?w:String(w)}function n(g,w){if(typeof g!="object"||g===null)return g;var I=g[Symbol.toPrimitive];if(I!==void 0){var C=I.call(g,w||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(g)}var o=po(),r=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),f=Symbol("ended"),c=Symbol("lastPromise"),d=Symbol("handlePromise"),a=Symbol("stream");function u(g,w){return{value:g,done:w}}function h(g){var w=g[r];if(w!==null){var I=g[a].read();I!==null&&(g[c]=null,g[r]=null,g[s]=null,w(u(I,!1)))}}function p(g){process.nextTick(h,g)}function b(g,w){return function(I,C){g.then(function(){if(w[f]){I(u(void 0,!0));return}w[d](I,C)},C)}}var E=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((e={get stream(){return this[a]},next:function(){var w=this,I=this[l];if(I!==null)return Promise.reject(I);if(this[f])return Promise.resolve(u(void 0,!0));if(this[a].destroyed)return new Promise(function(m,L){process.nextTick(function(){w[l]?L(w[l]):m(u(void 0,!0))})});var C=this[c],R;if(C)R=new Promise(b(C,this));else{var S=this[a].read();if(S!==null)return Promise.resolve(u(S,!1));R=new Promise(this[d])}return this[c]=R,R}},i(e,Symbol.asyncIterator,function(){return this}),i(e,"return",function(){var w=this;return new Promise(function(I,C){w[a].destroy(null,function(R){if(R){C(R);return}I(u(void 0,!0))})})}),e),E),A=function(w){var I,C=Object.create(_,(I={},i(I,a,{value:w,writable:!0}),i(I,r,{value:null,writable:!0}),i(I,s,{value:null,writable:!0}),i(I,l,{value:null,writable:!0}),i(I,f,{value:w._readableState.endEmitted,writable:!0}),i(I,d,{value:function(S,m){var L=C[a].read();L?(C[c]=null,C[r]=null,C[s]=null,S(u(L,!1))):(C[r]=S,C[s]=m)},writable:!0}),I));return C[c]=null,o(w,function(R){if(R&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"){var S=C[s];S!==null&&(C[c]=null,C[r]=null,C[s]=null,S(R)),C[l]=R;return}var m=C[r];m!==null&&(C[c]=null,C[r]=null,C[s]=null,m(u(void 0,!0))),C[f]=!0}),w.on("readable",p.bind(null,C)),C};return Bn=A,Bn}var jn,ua;function kf(){return ua||(ua=1,jn=function(){throw new Error("Readable.from is not available in the browser")}),jn}var Un,fa;function dl(){if(fa)return Un;fa=1,Un=m;var e;m.ReadableState=S,Ve.EventEmitter;var i=function(T,P){return T.listeners(P).length},t=tl(),n=Ve.Buffer,o=(typeof G<"u"?G:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function r(x){return n.from(x)}function s(x){return n.isBuffer(x)||x instanceof o}var l=ul,f;l&&l.debuglog?f=l.debuglog("stream"):f=function(){};var c=Nf(),d=fl(),a=cl(),u=a.getHighWaterMark,h=Qt().codes,p=h.ERR_INVALID_ARG_TYPE,b=h.ERR_STREAM_PUSH_AFTER_EOF,E=h.ERR_METHOD_NOT_IMPLEMENTED,_=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,A,g,w;Jt(m,t);var I=d.errorOrDestroy,C=["error","close","destroy","pause","resume"];function R(x,T,P){if(typeof x.prependListener=="function")return x.prependListener(T,P);!x._events||!x._events[T]?x.on(T,P):Array.isArray(x._events[T])?x._events[T].unshift(P):x._events[T]=[P,x._events[T]]}function S(x,T,P){e=e||zt(),x=x||{},typeof P!="boolean"&&(P=T instanceof e),this.objectMode=!!x.objectMode,P&&(this.objectMode=this.objectMode||!!x.readableObjectMode),this.highWaterMark=u(this,x,"readableHighWaterMark",P),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=x.emitClose!==!1,this.autoDestroy=!!x.autoDestroy,this.destroyed=!1,this.defaultEncoding=x.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,x.encoding&&(A||(A=Kr().StringDecoder),this.decoder=new A(x.encoding),this.encoding=x.encoding)}function m(x){if(e=e||zt(),!(this instanceof m))return new m(x);var T=this instanceof e;this._readableState=new S(x,this,T),this.readable=!0,x&&(typeof x.read=="function"&&(this._read=x.read),typeof x.destroy=="function"&&(this._destroy=x.destroy)),t.call(this)}Object.defineProperty(m.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(T){this._readableState&&(this._readableState.destroyed=T)}}),m.prototype.destroy=d.destroy,m.prototype._undestroy=d.undestroy,m.prototype._destroy=function(x,T){T(x)},m.prototype.push=function(x,T){var P=this._readableState,B;return P.objectMode?B=!0:typeof x=="string"&&(T=T||P.defaultEncoding,T!==P.encoding&&(x=n.from(x,T),T=""),B=!0),L(this,x,T,!1,B)},m.prototype.unshift=function(x){return L(this,x,null,!0,!1)};function L(x,T,P,B,Q){f("readableAddChunk",T);var W=x._readableState;if(T===null)W.reading=!1,Y(x,W);else{var V;if(Q||(V=j(W,T)),V)I(x,V);else if(W.objectMode||T&&T.length>0)if(typeof T!="string"&&!W.objectMode&&Object.getPrototypeOf(T)!==n.prototype&&(T=r(T)),B)W.endEmitted?I(x,new _):q(x,W,T,!0);else if(W.ended)I(x,new b);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!P?(T=W.decoder.write(T),W.objectMode||T.length!==0?q(x,W,T,!1):Te(x,W)):q(x,W,T,!1)}else B||(W.reading=!1,Te(x,W))}return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function q(x,T,P,B){T.flowing&&T.length===0&&!T.sync?(T.awaitDrain=0,x.emit("data",P)):(T.length+=T.objectMode?1:P.length,B?T.buffer.unshift(P):T.buffer.push(P),T.needReadable&&Z(x)),Te(x,T)}function j(x,T){var P;return!s(T)&&typeof T!="string"&&T!==void 0&&!x.objectMode&&(P=new p("chunk",["string","Buffer","Uint8Array"],T)),P}m.prototype.isPaused=function(){return this._readableState.flowing===!1},m.prototype.setEncoding=function(x){A||(A=Kr().StringDecoder);var T=new A(x);this._readableState.decoder=T,this._readableState.encoding=this._readableState.decoder.encoding;for(var P=this._readableState.buffer.head,B="";P!==null;)B+=T.write(P.data),P=P.next;return this._readableState.buffer.clear(),B!==""&&this._readableState.buffer.push(B),this._readableState.length=B.length,this};var H=1073741824;function X(x){return x>=H?x=H:(x--,x|=x>>>1,x|=x>>>2,x|=x>>>4,x|=x>>>8,x|=x>>>16,x++),x}function $(x,T){return x<=0||T.length===0&&T.ended?0:T.objectMode?1:x!==x?T.flowing&&T.length?T.buffer.head.data.length:T.length:(x>T.highWaterMark&&(T.highWaterMark=X(x)),x<=T.length?x:T.ended?T.length:(T.needReadable=!0,0))}m.prototype.read=function(x){f("read",x),x=parseInt(x,10);var T=this._readableState,P=x;if(x!==0&&(T.emittedReadable=!1),x===0&&T.needReadable&&((T.highWaterMark!==0?T.length>=T.highWaterMark:T.length>0)||T.ended))return f("read: emitReadable",T.length,T.ended),T.length===0&&T.ended?v(this):Z(this),null;if(x=$(x,T),x===0&&T.ended)return T.length===0&&v(this),null;var B=T.needReadable;f("need readable",B),(T.length===0||T.length-x<T.highWaterMark)&&(B=!0,f("length less than watermark",B)),T.ended||T.reading?(B=!1,f("reading or ended",B)):B&&(f("do read"),T.reading=!0,T.sync=!0,T.length===0&&(T.needReadable=!0),this._read(T.highWaterMark),T.sync=!1,T.reading||(x=$(P,T)));var Q;return x>0?Q=y(x,T):Q=null,Q===null?(T.needReadable=T.length<=T.highWaterMark,x=0):(T.length-=x,T.awaitDrain=0),T.length===0&&(T.ended||(T.needReadable=!0),P!==x&&T.ended&&v(this)),Q!==null&&this.emit("data",Q),Q};function Y(x,T){if(f("onEofChunk"),!T.ended){if(T.decoder){var P=T.decoder.end();P&&P.length&&(T.buffer.push(P),T.length+=T.objectMode?1:P.length)}T.ended=!0,T.sync?Z(x):(T.needReadable=!1,T.emittedReadable||(T.emittedReadable=!0,Dt(x)))}}function Z(x){var T=x._readableState;f("emitReadable",T.needReadable,T.emittedReadable),T.needReadable=!1,T.emittedReadable||(f("emitReadable",T.flowing),T.emittedReadable=!0,process.nextTick(Dt,x))}function Dt(x){var T=x._readableState;f("emitReadable_",T.destroyed,T.length,T.ended),!T.destroyed&&(T.length||T.ended)&&(x.emit("readable"),T.emittedReadable=!1),T.needReadable=!T.flowing&&!T.ended&&T.length<=T.highWaterMark,M(x)}function Te(x,T){T.readingMore||(T.readingMore=!0,process.nextTick(We,x,T))}function We(x,T){for(;!T.reading&&!T.ended&&(T.length<T.highWaterMark||T.flowing&&T.length===0);){var P=T.length;if(f("maybeReadMore read 0"),x.read(0),P===T.length)break}T.readingMore=!1}m.prototype._read=function(x){I(this,new E("_read()"))},m.prototype.pipe=function(x,T){var P=this,B=this._readableState;switch(B.pipesCount){case 0:B.pipes=x;break;case 1:B.pipes=[B.pipes,x];break;default:B.pipes.push(x);break}B.pipesCount+=1,f("pipe count=%d opts=%j",B.pipesCount,T);var Q=(!T||T.end!==!1)&&x!==process.stdout&&x!==process.stderr,W=Q?fe:ri;B.endEmitted?process.nextTick(W):P.once("end",W),x.on("unpipe",V);function V(qt,Pt){f("onunpipe"),qt===P&&Pt&&Pt.hasUnpiped===!1&&(Pt.hasUnpiped=!0,ii())}function fe(){f("onend"),x.end()}var Mt=Ae(P);x.on("drain",Mt);var ti=!1;function ii(){f("cleanup"),x.removeListener("close",wn),x.removeListener("finish",En),x.removeListener("drain",Mt),x.removeListener("error",bn),x.removeListener("unpipe",V),P.removeListener("end",fe),P.removeListener("end",ri),P.removeListener("data",ni),ti=!0,B.awaitDrain&&(!x._writableState||x._writableState.needDrain)&&Mt()}P.on("data",ni);function ni(qt){f("ondata");var Pt=x.write(qt);f("dest.write",Pt),Pt===!1&&((B.pipesCount===1&&B.pipes===x||B.pipesCount>1&&O(B.pipes,x)!==-1)&&!ti&&(f("false write response, pause",B.awaitDrain),B.awaitDrain++),P.pause())}function bn(qt){f("onerror",qt),ri(),x.removeListener("error",bn),i(x,"error")===0&&I(x,qt)}R(x,"error",bn);function wn(){x.removeListener("finish",En),ri()}x.once("close",wn);function En(){f("onfinish"),x.removeListener("close",wn),ri()}x.once("finish",En);function ri(){f("unpipe"),P.unpipe(x)}return x.emit("pipe",P),B.flowing||(f("pipe resume"),P.resume()),x};function Ae(x){return function(){var P=x._readableState;f("pipeOnDrain",P.awaitDrain),P.awaitDrain&&P.awaitDrain--,P.awaitDrain===0&&i(x,"data")&&(P.flowing=!0,M(x))}}m.prototype.unpipe=function(x){var T=this._readableState,P={hasUnpiped:!1};if(T.pipesCount===0)return this;if(T.pipesCount===1)return x&&x!==T.pipes?this:(x||(x=T.pipes),T.pipes=null,T.pipesCount=0,T.flowing=!1,x&&x.emit("unpipe",this,P),this);if(!x){var B=T.pipes,Q=T.pipesCount;T.pipes=null,T.pipesCount=0,T.flowing=!1;for(var W=0;W<Q;W++)B[W].emit("unpipe",this,{hasUnpiped:!1});return this}var V=O(T.pipes,x);return V===-1?this:(T.pipes.splice(V,1),T.pipesCount-=1,T.pipesCount===1&&(T.pipes=T.pipes[0]),x.emit("unpipe",this,P),this)},m.prototype.on=function(x,T){var P=t.prototype.on.call(this,x,T),B=this._readableState;return x==="data"?(B.readableListening=this.listenerCount("readable")>0,B.flowing!==!1&&this.resume()):x==="readable"&&!B.endEmitted&&!B.readableListening&&(B.readableListening=B.needReadable=!0,B.flowing=!1,B.emittedReadable=!1,f("on readable",B.length,B.reading),B.length?Z(this):B.reading||process.nextTick(qe,this)),P},m.prototype.addListener=m.prototype.on,m.prototype.removeListener=function(x,T){var P=t.prototype.removeListener.call(this,x,T);return x==="readable"&&process.nextTick(ze,this),P},m.prototype.removeAllListeners=function(x){var T=t.prototype.removeAllListeners.apply(this,arguments);return(x==="readable"||x===void 0)&&process.nextTick(ze,this),T};function ze(x){var T=x._readableState;T.readableListening=x.listenerCount("readable")>0,T.resumeScheduled&&!T.paused?T.flowing=!0:x.listenerCount("data")>0&&x.resume()}function qe(x){f("readable nexttick read 0"),x.read(0)}m.prototype.resume=function(){var x=this._readableState;return x.flowing||(f("resume"),x.flowing=!x.readableListening,Rt(this,x)),x.paused=!1,this};function Rt(x,T){T.resumeScheduled||(T.resumeScheduled=!0,process.nextTick(Nt,x,T))}function Nt(x,T){f("resume",T.reading),T.reading||x.read(0),T.resumeScheduled=!1,x.emit("resume"),M(x),T.flowing&&!T.reading&&x.read(0)}m.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function M(x){var T=x._readableState;for(f("flow",T.flowing);T.flowing&&x.read()!==null;);}m.prototype.wrap=function(x){var T=this,P=this._readableState,B=!1;x.on("end",function(){if(f("wrapped end"),P.decoder&&!P.ended){var V=P.decoder.end();V&&V.length&&T.push(V)}T.push(null)}),x.on("data",function(V){if(f("wrapped data"),P.decoder&&(V=P.decoder.write(V)),!(P.objectMode&&V==null)&&!(!P.objectMode&&(!V||!V.length))){var fe=T.push(V);fe||(B=!0,x.pause())}});for(var Q in x)this[Q]===void 0&&typeof x[Q]=="function"&&(this[Q]=function(fe){return function(){return x[fe].apply(x,arguments)}}(Q));for(var W=0;W<C.length;W++)x.on(C[W],this.emit.bind(this,C[W]));return this._read=function(V){f("wrapped _read",V),B&&(B=!1,x.resume())},this},typeof Symbol=="function"&&(m.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=Pf()),g(this)}),Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(m.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(m.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(T){this._readableState&&(this._readableState.flowing=T)}}),m._fromList=y,Object.defineProperty(m.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function y(x,T){if(T.length===0)return null;var P;return T.objectMode?P=T.buffer.shift():!x||x>=T.length?(T.decoder?P=T.buffer.join(""):T.buffer.length===1?P=T.buffer.first():P=T.buffer.concat(T.length),T.buffer.clear()):P=T.buffer.consume(x,T.decoder),P}function v(x){var T=x._readableState;f("endReadable",T.endEmitted),T.endEmitted||(T.ended=!0,process.nextTick(D,T,x))}function D(x,T){if(f("endReadableNT",x.endEmitted,x.length),!x.endEmitted&&x.length===0&&(x.endEmitted=!0,T.readable=!1,T.emit("end"),x.autoDestroy)){var P=T._writableState;(!P||P.autoDestroy&&P.finished)&&T.destroy()}}typeof Symbol=="function"&&(m.from=function(x,T){return w===void 0&&(w=kf()),w(m,x,T)});function O(x,T){for(var P=0,B=x.length;P<B;P++)if(x[P]===T)return P;return-1}return Un}var Hn,ca;function pl(){if(ca)return Hn;ca=1,Hn=l;var e=Qt().codes,i=e.ERR_METHOD_NOT_IMPLEMENTED,t=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=e.ERR_TRANSFORM_WITH_LENGTH_0,r=zt();Jt(l,r);function s(d,a){var u=this._transformState;u.transforming=!1;var h=u.writecb;if(h===null)return this.emit("error",new t);u.writechunk=null,u.writecb=null,a!=null&&this.push(a),h(d);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function l(d){if(!(this instanceof l))return new l(d);r.call(this,d),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",f)}function f(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(a,u){c(d,a,u)}):c(this,null,null)}l.prototype.push=function(d,a){return this._transformState.needTransform=!1,r.prototype.push.call(this,d,a)},l.prototype._transform=function(d,a,u){u(new i("_transform()"))},l.prototype._write=function(d,a,u){var h=this._transformState;if(h.writecb=u,h.writechunk=d,h.writeencoding=a,!h.transforming){var p=this._readableState;(h.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},l.prototype._read=function(d){var a=this._transformState;a.writechunk!==null&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0},l.prototype._destroy=function(d,a){r.prototype._destroy.call(this,d,function(u){a(u)})};function c(d,a,u){if(a)return d.emit("error",a);if(u!=null&&d.push(u),d._writableState.length)throw new o;if(d._transformState.transforming)throw new n;return d.push(null)}return Hn}var Gn,ha;function Ff(){if(ha)return Gn;ha=1,Gn=i;var e=pl();Jt(i,e);function i(t){if(!(this instanceof i))return new i(t);e.call(this,t)}return i.prototype._transform=function(t,n,o){o(null,t)},Gn}var Zn,da;function Bf(){if(da)return Zn;da=1;var e;function i(u){var h=!1;return function(){h||(h=!0,u.apply(void 0,arguments))}}var t=Qt().codes,n=t.ERR_MISSING_ARGS,o=t.ERR_STREAM_DESTROYED;function r(u){if(u)throw u}function s(u){return u.setHeader&&typeof u.abort=="function"}function l(u,h,p,b){b=i(b);var E=!1;u.on("close",function(){E=!0}),e===void 0&&(e=po()),e(u,{readable:h,writable:p},function(A){if(A)return b(A);E=!0,b()});var _=!1;return function(A){if(!E&&!_){if(_=!0,s(u))return u.abort();if(typeof u.destroy=="function")return u.destroy();b(A||new o("pipe"))}}}function f(u){u()}function c(u,h){return u.pipe(h)}function d(u){return!u.length||typeof u[u.length-1]!="function"?r:u.pop()}function a(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var b=d(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new n("streams");var E,_=h.map(function(A,g){var w=g<h.length-1,I=g>0;return l(A,w,I,function(C){E||(E=C),C&&_.forEach(f),!w&&(_.forEach(f),b(E))})});return h.reduce(c)}return Zn=a,Zn}var _o=ye,go=Ve.EventEmitter,jf=Jt;jf(ye,go);ye.Readable=dl();ye.Writable=hl();ye.Duplex=zt();ye.Transform=pl();ye.PassThrough=Ff();ye.finished=po();ye.pipeline=Bf();ye.Stream=ye;function ye(){go.call(this)}ye.prototype.pipe=function(e,i){var t=this;function n(d){e.writable&&e.write(d)===!1&&t.pause&&t.pause()}t.on("data",n);function o(){t.readable&&t.resume&&t.resume()}e.on("drain",o),!e._isStdio&&(!i||i.end!==!1)&&(t.on("end",s),t.on("close",l));var r=!1;function s(){r||(r=!0,e.end())}function l(){r||(r=!0,typeof e.destroy=="function"&&e.destroy())}function f(d){if(c(),go.listenerCount(this,"error")===0)throw d}t.on("error",f),e.on("error",f);function c(){t.removeListener("data",n),e.removeListener("drain",o),t.removeListener("end",s),t.removeListener("close",l),t.removeListener("error",f),e.removeListener("error",f),t.removeListener("end",c),t.removeListener("close",c),e.removeListener("close",c)}return t.on("end",c),t.on("close",c),e.on("close",c),e.emit("pipe",t),e};const _l={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function Uf(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function Ge(e,i,t,n,o){if(i.subarray&&e.subarray){e.set(i.subarray(t,t+n),o);return}for(var r=0;r<n;r++)e[o+r]=i[t+r]}var ln=Uint8Array,ge=Uint16Array,un=Int32Array,Hf=4,pa=0,_a=1,Gf=2;function Kt(e){for(var i=e.length;--i>=0;)e[i]=0}var Zf=0,gl=1,Vf=2,Xf=3,Wf=258,mo=29,Mi=256,xi=Mi+1+mo,Wt=30,yo=19,ml=2*xi+1,gt=15,Vn=16,zf=7,vo=256,yl=16,vl=17,Al=18,$r=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Qi=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Yf=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Jf=512,He=new Array((xi+2)*2);Kt(He);var Ai=new Array(Wt*2);Kt(Ai);var Ti=new Array(Jf);Kt(Ti);var Ii=new Array(Wf-Xf+1);Kt(Ii);var Ao=new Array(mo);Kt(Ao);var fn=new Array(Wt);Kt(fn);function Xn(e,i,t,n,o){this.static_tree=e,this.extra_bits=i,this.extra_base=t,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}var wl,El,xl;function Wn(e,i){this.dyn_tree=e,this.max_code=0,this.stat_desc=i}function Tl(e){return e<256?Ti[e]:Ti[256+(e>>>7)]}function Si(e,i){e.pending_buf[e.pending++]=i&255,e.pending_buf[e.pending++]=i>>>8&255}function de(e,i,t){e.bi_valid>Vn-t?(e.bi_buf|=i<<e.bi_valid&65535,Si(e,e.bi_buf),e.bi_buf=i>>Vn-e.bi_valid,e.bi_valid+=t-Vn):(e.bi_buf|=i<<e.bi_valid&65535,e.bi_valid+=t)}function Oe(e,i,t){de(e,t[i*2],t[i*2+1])}function Il(e,i){var t=0;do t|=e&1,e>>>=1,t<<=1;while(--i>0);return t>>>1}function Qf(e){e.bi_valid===16?(Si(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function Kf(e,i){var t=i.dyn_tree,n=i.max_code,o=i.stat_desc.static_tree,r=i.stat_desc.has_stree,s=i.stat_desc.extra_bits,l=i.stat_desc.extra_base,f=i.stat_desc.max_length,c,d,a,u,h,p,b=0;for(u=0;u<=gt;u++)e.bl_count[u]=0;for(t[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<ml;c++)d=e.heap[c],u=t[t[d*2+1]*2+1]+1,u>f&&(u=f,b++),t[d*2+1]=u,!(d>n)&&(e.bl_count[u]++,h=0,d>=l&&(h=s[d-l]),p=t[d*2],e.opt_len+=p*(u+h),r&&(e.static_len+=p*(o[d*2+1]+h)));if(b!==0){do{for(u=f-1;e.bl_count[u]===0;)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[f]--,b-=2}while(b>0);for(u=f;u!==0;u--)for(d=e.bl_count[u];d!==0;)a=e.heap[--c],!(a>n)&&(t[a*2+1]!==u&&(e.opt_len+=(u-t[a*2+1])*t[a*2],t[a*2+1]=u),d--)}}function Sl(e,i,t){var n=new Array(gt+1),o=0,r,s;for(r=1;r<=gt;r++)n[r]=o=o+t[r-1]<<1;for(s=0;s<=i;s++){var l=e[s*2+1];l!==0&&(e[s*2]=Il(n[l]++,l))}}function $f(){var e,i,t,n,o,r=new Array(gt+1);for(t=0,n=0;n<mo-1;n++)for(Ao[n]=t,e=0;e<1<<$r[n];e++)Ii[t++]=n;for(Ii[t-1]=n,o=0,n=0;n<16;n++)for(fn[n]=o,e=0;e<1<<Qi[n];e++)Ti[o++]=n;for(o>>=7;n<Wt;n++)for(fn[n]=o<<7,e=0;e<1<<Qi[n]-7;e++)Ti[256+o++]=n;for(i=0;i<=gt;i++)r[i]=0;for(e=0;e<=143;)He[e*2+1]=8,e++,r[8]++;for(;e<=255;)He[e*2+1]=9,e++,r[9]++;for(;e<=279;)He[e*2+1]=7,e++,r[7]++;for(;e<=287;)He[e*2+1]=8,e++,r[8]++;for(Sl(He,xi+1,r),e=0;e<Wt;e++)Ai[e*2+1]=5,Ai[e*2]=Il(e,5);wl=new Xn(He,$r,Mi+1,xi,gt),El=new Xn(Ai,Qi,0,Wt,gt),xl=new Xn(new Array(0),Yf,0,yo,zf)}function Ol(e){var i;for(i=0;i<xi;i++)e.dyn_ltree[i*2]=0;for(i=0;i<Wt;i++)e.dyn_dtree[i*2]=0;for(i=0;i<yo;i++)e.bl_tree[i*2]=0;e.dyn_ltree[vo*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Cl(e){e.bi_valid>8?Si(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ec(e,i,t,n){Cl(e),n&&(Si(e,t),Si(e,~t)),Ge(e.pending_buf,e.window,i,t,e.pending),e.pending+=t}function ga(e,i,t,n){var o=i*2,r=t*2;return e[o]<e[r]||e[o]===e[r]&&n[i]<=n[t]}function zn(e,i,t){for(var n=e.heap[t],o=t<<1;o<=e.heap_len&&(o<e.heap_len&&ga(i,e.heap[o+1],e.heap[o],e.depth)&&o++,!ga(i,n,e.heap[o],e.depth));)e.heap[t]=e.heap[o],t=o,o<<=1;e.heap[t]=n}function ma(e,i,t){var n,o,r=0,s,l;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+r*2]<<8|e.pending_buf[e.d_buf+r*2+1],o=e.pending_buf[e.l_buf+r],r++,n===0?Oe(e,o,i):(s=Ii[o],Oe(e,s+Mi+1,i),l=$r[s],l!==0&&(o-=Ao[s],de(e,o,l)),n--,s=Tl(n),Oe(e,s,t),l=Qi[s],l!==0&&(n-=fn[s],de(e,n,l)));while(r<e.last_lit);Oe(e,vo,i)}function eo(e,i){var t=i.dyn_tree,n=i.stat_desc.static_tree,o=i.stat_desc.has_stree,r=i.stat_desc.elems,s,l,f=-1,c;for(e.heap_len=0,e.heap_max=ml,s=0;s<r;s++)t[s*2]!==0?(e.heap[++e.heap_len]=f=s,e.depth[s]=0):t[s*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=f<2?++f:0,t[c*2]=1,e.depth[c]=0,e.opt_len--,o&&(e.static_len-=n[c*2+1]);for(i.max_code=f,s=e.heap_len>>1;s>=1;s--)zn(e,t,s);c=r;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],zn(e,t,1),l=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=l,t[c*2]=t[s*2]+t[l*2],e.depth[c]=(e.depth[s]>=e.depth[l]?e.depth[s]:e.depth[l])+1,t[s*2+1]=t[l*2+1]=c,e.heap[1]=c++,zn(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Kf(e,i),Sl(t,f,e.bl_count)}function ya(e,i,t){var n,o=-1,r,s=i[0*2+1],l=0,f=7,c=4;for(s===0&&(f=138,c=3),i[(t+1)*2+1]=65535,n=0;n<=t;n++)r=s,s=i[(n+1)*2+1],!(++l<f&&r===s)&&(l<c?e.bl_tree[r*2]+=l:r!==0?(r!==o&&e.bl_tree[r*2]++,e.bl_tree[yl*2]++):l<=10?e.bl_tree[vl*2]++:e.bl_tree[Al*2]++,l=0,o=r,s===0?(f=138,c=3):r===s?(f=6,c=3):(f=7,c=4))}function va(e,i,t){var n,o=-1,r,s=i[0*2+1],l=0,f=7,c=4;for(s===0&&(f=138,c=3),n=0;n<=t;n++)if(r=s,s=i[(n+1)*2+1],!(++l<f&&r===s)){if(l<c)do Oe(e,r,e.bl_tree);while(--l!==0);else r!==0?(r!==o&&(Oe(e,r,e.bl_tree),l--),Oe(e,yl,e.bl_tree),de(e,l-3,2)):l<=10?(Oe(e,vl,e.bl_tree),de(e,l-3,3)):(Oe(e,Al,e.bl_tree),de(e,l-11,7));l=0,o=r,s===0?(f=138,c=3):r===s?(f=6,c=3):(f=7,c=4)}}function tc(e){var i;for(ya(e,e.dyn_ltree,e.l_desc.max_code),ya(e,e.dyn_dtree,e.d_desc.max_code),eo(e,e.bl_desc),i=yo-1;i>=3&&e.bl_tree[bl[i]*2+1]===0;i--);return e.opt_len+=3*(i+1)+5+5+4,i}function ic(e,i,t,n){var o;for(de(e,i-257,5),de(e,t-1,5),de(e,n-4,4),o=0;o<n;o++)de(e,e.bl_tree[bl[o]*2+1],3);va(e,e.dyn_ltree,i-1),va(e,e.dyn_dtree,t-1)}function nc(e){var i=4093624447,t;for(t=0;t<=31;t++,i>>>=1)if(i&1&&e.dyn_ltree[t*2]!==0)return pa;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return _a;for(t=32;t<Mi;t++)if(e.dyn_ltree[t*2]!==0)return _a;return pa}var Aa=!1;function rc(e){Aa||($f(),Aa=!0),e.l_desc=new Wn(e.dyn_ltree,wl),e.d_desc=new Wn(e.dyn_dtree,El),e.bl_desc=new Wn(e.bl_tree,xl),e.bi_buf=0,e.bi_valid=0,Ol(e)}function Ll(e,i,t,n){de(e,(Zf<<1)+(n?1:0),3),ec(e,i,t,!0)}function oc(e){de(e,gl<<1,3),Oe(e,vo,He),Qf(e)}function ac(e,i,t,n){var o,r,s=0;e.level>0?(e.strm.data_type===Gf&&(e.strm.data_type=nc(e)),eo(e,e.l_desc),eo(e,e.d_desc),s=tc(e),o=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,r<=o&&(o=r)):o=r=t+5,t+4<=o&&i!==-1?Ll(e,i,t,n):e.strategy===Hf||r===o?(de(e,(gl<<1)+(n?1:0),3),ma(e,He,Ai)):(de(e,(Vf<<1)+(n?1:0),3),ic(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),ma(e,e.dyn_ltree,e.dyn_dtree)),Ol(e),n&&Cl(e)}function it(e,i,t){return e.pending_buf[e.d_buf+e.last_lit*2]=i>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=i&255,e.pending_buf[e.l_buf+e.last_lit]=t&255,e.last_lit++,i===0?e.dyn_ltree[t*2]++:(e.matches++,i--,e.dyn_ltree[(Ii[t]+Mi+1)*2]++,e.dyn_dtree[Tl(i)*2]++),e.last_lit===e.lit_bufsize-1}function to(e,i,t,n){for(var o=e&65535|0,r=e>>>16&65535|0,s=0;t!==0;){s=t>2e3?2e3:t,t-=s;do o=o+i[n++]|0,r=r+o|0;while(--s);o%=65521,r%=65521}return o|r<<16|0}function sc(){for(var e,i=[],t=0;t<256;t++){e=t;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;i[t]=e}return i}var lc=sc();function se(e,i,t,n){var o=lc,r=n+t;e^=-1;for(var s=n;s<r;s++)e=e>>>8^o[(e^i[s])&255];return e^-1}var Ot=0,uc=1,fc=3,nt=4,ba=5,Qe=0,wa=1,rt=-2,cc=-3,Yn=-5,hc=-1,dc=1,Zi=2,pc=3,_c=4,gc=2,bo=8,mc=9,yc=29,vc=256,io=vc+1+yc,Ac=30,bc=19,wc=2*io+1,Ec=15,ee=3,$e=258,be=$e+ee+1,xc=32,wo=42,no=69,Ki=73,$i=91,en=103,mt=113,di=666,ae=1,qi=2,yt=3,$t=4,Tc=3;function et(e,i){return e.msg=_l[i],i}function Ea(e){return(e<<1)-(e>4?9:0)}function _t(e){for(var i=e.length;--i>=0;)e[i]=0}function Je(e){var i=e.state,t=i.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(Ge(e.output,i.pending_buf,i.pending_out,t,e.next_out),e.next_out+=t,i.pending_out+=t,e.total_out+=t,e.avail_out-=t,i.pending-=t,i.pending===0&&(i.pending_out=0))}function ue(e,i){ac(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,i),e.block_start=e.strstart,Je(e.strm)}function K(e,i){e.pending_buf[e.pending++]=i}function ui(e,i){e.pending_buf[e.pending++]=i>>>8&255,e.pending_buf[e.pending++]=i&255}function Ic(e,i,t,n){var o=e.avail_in;return o>n&&(o=n),o===0?0:(e.avail_in-=o,Ge(i,e.input,e.next_in,o,t),e.state.wrap===1?e.adler=to(e.adler,i,o,t):e.state.wrap===2&&(e.adler=se(e.adler,i,o,t)),e.next_in+=o,e.total_in+=o,o)}function Dl(e,i){var t=e.max_chain_length,n=e.strstart,o,r,s=e.prev_length,l=e.nice_match,f=e.strstart>e.w_size-be?e.strstart-(e.w_size-be):0,c=e.window,d=e.w_mask,a=e.prev,u=e.strstart+$e,h=c[n+s-1],p=c[n+s];e.prev_length>=e.good_match&&(t>>=2),l>e.lookahead&&(l=e.lookahead);do if(o=i,!(c[o+s]!==p||c[o+s-1]!==h||c[o]!==c[n]||c[++o]!==c[n+1])){n+=2,o++;do;while(c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&n<u);if(r=$e-(u-n),n=u-$e,r>s){if(e.match_start=i,s=r,r>=l)break;h=c[n+s-1],p=c[n+s]}}while((i=a[i&d])>f&&--t!==0);return s<=e.lookahead?s:e.lookahead}function Pi(e){var i=e.w_size,t,n,o,r,s;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-be)){Ge(e.window,e.window,i,i,0),e.match_start-=i,e.strstart-=i,e.block_start-=i,n=e.hash_size,t=n;do o=e.head[--t],e.head[t]=o>=i?o-i:0;while(--n);n=i,t=n;do o=e.prev[--t],e.prev[t]=o>=i?o-i:0;while(--n);r+=i}if(e.strm.avail_in===0)break;if(n=Ic(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=ee)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+ee-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<ee)););}while(e.lookahead<be&&e.strm.avail_in!==0)}function Sc(e,i){var t=65535;for(t>e.pending_buf_size-5&&(t=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Pi(e),e.lookahead===0&&i===Ot)return ae;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+t;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,ue(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-be&&(ue(e,!1),e.strm.avail_out===0))return ae}return e.insert=0,i===nt?(ue(e,!0),e.strm.avail_out===0?yt:$t):(e.strstart>e.block_start&&(ue(e,!1),e.strm.avail_out===0),ae)}function Jn(e,i){for(var t,n;;){if(e.lookahead<be){if(Pi(e),e.lookahead<be&&i===Ot)return ae;if(e.lookahead===0)break}if(t=0,e.lookahead>=ee&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ee-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-be&&(e.match_length=Dl(e,t)),e.match_length>=ee)if(n=it(e,e.strstart-e.match_start,e.match_length-ee),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ee){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ee-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=it(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(ue(e,!1),e.strm.avail_out===0))return ae}return e.insert=e.strstart<ee-1?e.strstart:ee-1,i===nt?(ue(e,!0),e.strm.avail_out===0?yt:$t):e.last_lit&&(ue(e,!1),e.strm.avail_out===0)?ae:qi}function Ft(e,i){for(var t,n,o;;){if(e.lookahead<be){if(Pi(e),e.lookahead<be&&i===Ot)return ae;if(e.lookahead===0)break}if(t=0,e.lookahead>=ee&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ee-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ee-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-be&&(e.match_length=Dl(e,t),e.match_length<=5&&(e.strategy===dc||e.match_length===ee&&e.strstart-e.match_start>4096)&&(e.match_length=ee-1)),e.prev_length>=ee&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-ee,n=it(e,e.strstart-1-e.prev_match,e.prev_length-ee),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ee-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=ee-1,e.strstart++,n&&(ue(e,!1),e.strm.avail_out===0))return ae}else if(e.match_available){if(n=it(e,0,e.window[e.strstart-1]),n&&ue(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ae}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=it(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ee-1?e.strstart:ee-1,i===nt?(ue(e,!0),e.strm.avail_out===0?yt:$t):e.last_lit&&(ue(e,!1),e.strm.avail_out===0)?ae:qi}function Oc(e,i){for(var t,n,o,r,s=e.window;;){if(e.lookahead<=$e){if(Pi(e),e.lookahead<=$e&&i===Ot)return ae;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=ee&&e.strstart>0&&(o=e.strstart-1,n=s[o],n===s[++o]&&n===s[++o]&&n===s[++o])){r=e.strstart+$e;do;while(n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&o<r);e.match_length=$e-(r-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ee?(t=it(e,1,e.match_length-ee),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=it(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(ue(e,!1),e.strm.avail_out===0))return ae}return e.insert=0,i===nt?(ue(e,!0),e.strm.avail_out===0?yt:$t):e.last_lit&&(ue(e,!1),e.strm.avail_out===0)?ae:qi}function Cc(e,i){for(var t;;){if(e.lookahead===0&&(Pi(e),e.lookahead===0)){if(i===Ot)return ae;break}if(e.match_length=0,t=it(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(ue(e,!1),e.strm.avail_out===0))return ae}return e.insert=0,i===nt?(ue(e,!0),e.strm.avail_out===0?yt:$t):e.last_lit&&(ue(e,!1),e.strm.avail_out===0)?ae:qi}function Se(e,i,t,n,o){this.good_length=e,this.max_lazy=i,this.nice_length=t,this.max_chain=n,this.func=o}var Gt;Gt=[new Se(0,0,0,0,Sc),new Se(4,4,8,4,Jn),new Se(4,5,16,8,Jn),new Se(4,6,32,32,Jn),new Se(4,4,16,16,Ft),new Se(8,16,32,32,Ft),new Se(8,16,128,128,Ft),new Se(8,32,128,256,Ft),new Se(32,128,258,1024,Ft),new Se(32,258,258,4096,Ft)];function Lc(e){e.window_size=2*e.w_size,_t(e.head),e.max_lazy_match=Gt[e.level].max_lazy,e.good_match=Gt[e.level].good_length,e.nice_match=Gt[e.level].nice_length,e.max_chain_length=Gt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ee-1,e.match_available=0,e.ins_h=0}function Dc(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=bo,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ge(wc*2),this.dyn_dtree=new ge((2*Ac+1)*2),this.bl_tree=new ge((2*bc+1)*2),_t(this.dyn_ltree),_t(this.dyn_dtree),_t(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ge(Ec+1),this.heap=new ge(2*io+1),_t(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ge(2*io+1),_t(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Rc(e){var i;return!e||!e.state?et(e,rt):(e.total_in=e.total_out=0,e.data_type=gc,i=e.state,i.pending=0,i.pending_out=0,i.wrap<0&&(i.wrap=-i.wrap),i.status=i.wrap?wo:mt,e.adler=i.wrap===2?0:1,i.last_flush=Ot,rc(i),Qe)}function Rl(e){var i=Rc(e);return i===Qe&&Lc(e.state),i}function Nc(e,i,t,n,o,r){if(!e)return rt;var s=1;if(i===hc&&(i=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>mc||t!==bo||n<8||n>15||i<0||i>9||r<0||r>_c)return et(e,rt);n===8&&(n=9);var l=new Dc;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ee-1)/ee),l.window=new ln(l.w_size*2),l.head=new ge(l.hash_size),l.prev=new ge(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new ln(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=(1+2)*l.lit_bufsize,l.level=i,l.strategy=r,l.method=t,Rl(e)}function Mc(e,i){var t,n,o,r;if(!e||!e.state||i>ba||i<0)return e?et(e,rt):rt;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===di&&i!==nt)return et(e,e.avail_out===0?Yn:rt);if(n.strm=e,t=n.last_flush,n.last_flush=i,n.status===wo)if(n.wrap===2)e.adler=0,K(n,31),K(n,139),K(n,8),n.gzhead?(K(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),K(n,n.gzhead.time&255),K(n,n.gzhead.time>>8&255),K(n,n.gzhead.time>>16&255),K(n,n.gzhead.time>>24&255),K(n,n.level===9?2:n.strategy>=Zi||n.level<2?4:0),K(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(K(n,n.gzhead.extra.length&255),K(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=se(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=no):(K(n,0),K(n,0),K(n,0),K(n,0),K(n,0),K(n,n.level===9?2:n.strategy>=Zi||n.level<2?4:0),K(n,Tc),n.status=mt);else{var s=bo+(n.w_bits-8<<4)<<8,l=-1;n.strategy>=Zi||n.level<2?l=0:n.level<6?l=1:n.level===6?l=2:l=3,s|=l<<6,n.strstart!==0&&(s|=xc),s+=31-s%31,n.status=mt,ui(n,s),n.strstart!==0&&(ui(n,e.adler>>>16),ui(n,e.adler&65535)),e.adler=1}if(n.status===no)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=se(e.adler,n.pending_buf,n.pending-o,o)),Je(e),o=n.pending,n.pending===n.pending_buf_size));)K(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(e.adler=se(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=Ki)}else n.status=Ki;if(n.status===Ki)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=se(e.adler,n.pending_buf,n.pending-o,o)),Je(e),o=n.pending,n.pending===n.pending_buf_size)){r=1;break}n.gzindex<n.gzhead.name.length?r=n.gzhead.name.charCodeAt(n.gzindex++)&255:r=0,K(n,r)}while(r!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=se(e.adler,n.pending_buf,n.pending-o,o)),r===0&&(n.gzindex=0,n.status=$i)}else n.status=$i;if(n.status===$i)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=se(e.adler,n.pending_buf,n.pending-o,o)),Je(e),o=n.pending,n.pending===n.pending_buf_size)){r=1;break}n.gzindex<n.gzhead.comment.length?r=n.gzhead.comment.charCodeAt(n.gzindex++)&255:r=0,K(n,r)}while(r!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=se(e.adler,n.pending_buf,n.pending-o,o)),r===0&&(n.status=en)}else n.status=en;if(n.status===en&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Je(e),n.pending+2<=n.pending_buf_size&&(K(n,e.adler&255),K(n,e.adler>>8&255),e.adler=0,n.status=mt)):n.status=mt),n.pending!==0){if(Je(e),e.avail_out===0)return n.last_flush=-1,Qe}else if(e.avail_in===0&&Ea(i)<=Ea(t)&&i!==nt)return et(e,Yn);if(n.status===di&&e.avail_in!==0)return et(e,Yn);if(e.avail_in!==0||n.lookahead!==0||i!==Ot&&n.status!==di){var f=n.strategy===Zi?Cc(n,i):n.strategy===pc?Oc(n,i):Gt[n.level].func(n,i);if((f===yt||f===$t)&&(n.status=di),f===ae||f===yt)return e.avail_out===0&&(n.last_flush=-1),Qe;if(f===qi&&(i===uc?oc(n):i!==ba&&(Ll(n,0,0,!1),i===fc&&(_t(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Je(e),e.avail_out===0))return n.last_flush=-1,Qe}return i!==nt?Qe:n.wrap<=0?wa:(n.wrap===2?(K(n,e.adler&255),K(n,e.adler>>8&255),K(n,e.adler>>16&255),K(n,e.adler>>24&255),K(n,e.total_in&255),K(n,e.total_in>>8&255),K(n,e.total_in>>16&255),K(n,e.total_in>>24&255)):(ui(n,e.adler>>>16),ui(n,e.adler&65535)),Je(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Qe:wa)}function qc(e){var i;return!e||!e.state?rt:(i=e.state.status,i!==wo&&i!==no&&i!==Ki&&i!==$i&&i!==en&&i!==mt&&i!==di?et(e,rt):(e.state=null,i===mt?et(e,cc):Qe))}var Vi=30,Pc=12;function kc(e,i){var t,n,o,r,s,l,f,c,d,a,u,h,p,b,E,_,A,g,w,I,C,R,S,m,L;t=e.state,n=e.next_in,m=e.input,o=n+(e.avail_in-5),r=e.next_out,L=e.output,s=r-(i-e.avail_out),l=r+(e.avail_out-257),f=t.dmax,c=t.wsize,d=t.whave,a=t.wnext,u=t.window,h=t.hold,p=t.bits,b=t.lencode,E=t.distcode,_=(1<<t.lenbits)-1,A=(1<<t.distbits)-1;e:do{p<15&&(h+=m[n++]<<p,p+=8,h+=m[n++]<<p,p+=8),g=b[h&_];t:for(;;){if(w=g>>>24,h>>>=w,p-=w,w=g>>>16&255,w===0)L[r++]=g&65535;else if(w&16){I=g&65535,w&=15,w&&(p<w&&(h+=m[n++]<<p,p+=8),I+=h&(1<<w)-1,h>>>=w,p-=w),p<15&&(h+=m[n++]<<p,p+=8,h+=m[n++]<<p,p+=8),g=E[h&A];i:for(;;){if(w=g>>>24,h>>>=w,p-=w,w=g>>>16&255,w&16){if(C=g&65535,w&=15,p<w&&(h+=m[n++]<<p,p+=8,p<w&&(h+=m[n++]<<p,p+=8)),C+=h&(1<<w)-1,C>f){e.msg="invalid distance too far back",t.mode=Vi;break e}if(h>>>=w,p-=w,w=r-s,C>w){if(w=C-w,w>d&&t.sane){e.msg="invalid distance too far back",t.mode=Vi;break e}if(R=0,S=u,a===0){if(R+=c-w,w<I){I-=w;do L[r++]=u[R++];while(--w);R=r-C,S=L}}else if(a<w){if(R+=c+a-w,w-=a,w<I){I-=w;do L[r++]=u[R++];while(--w);if(R=0,a<I){w=a,I-=w;do L[r++]=u[R++];while(--w);R=r-C,S=L}}}else if(R+=a-w,w<I){I-=w;do L[r++]=u[R++];while(--w);R=r-C,S=L}for(;I>2;)L[r++]=S[R++],L[r++]=S[R++],L[r++]=S[R++],I-=3;I&&(L[r++]=S[R++],I>1&&(L[r++]=S[R++]))}else{R=r-C;do L[r++]=L[R++],L[r++]=L[R++],L[r++]=L[R++],I-=3;while(I>2);I&&(L[r++]=L[R++],I>1&&(L[r++]=L[R++]))}}else if(w&64){e.msg="invalid distance code",t.mode=Vi;break e}else{g=E[(g&65535)+(h&(1<<w)-1)];continue i}break}}else if(w&64)if(w&32){t.mode=Pc;break e}else{e.msg="invalid literal/length code",t.mode=Vi;break e}else{g=b[(g&65535)+(h&(1<<w)-1)];continue t}break}}while(n<o&&r<l);I=p>>3,n-=I,p-=I<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=r,e.avail_in=n<o?5+(o-n):5-(n-o),e.avail_out=r<l?257+(l-r):257-(r-l),t.hold=h,t.bits=p}var Bt=15,xa=852,Ta=592,Ia=0,Qn=1,Sa=2,Fc=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Bc=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],jc=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Uc=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function bi(e,i,t,n,o,r,s,l){var f=l.bits,c=0,d=0,a=0,u=0,h=0,p=0,b=0,E=0,_=0,A=0,g,w,I,C,R,S=null,m=0,L,q=new ge(Bt+1),j=new ge(Bt+1),H=null,X=0,$,Y,Z;for(c=0;c<=Bt;c++)q[c]=0;for(d=0;d<n;d++)q[i[t+d]]++;for(h=f,u=Bt;u>=1&&q[u]===0;u--);if(h>u&&(h=u),u===0)return o[r++]=1<<24|64<<16|0,o[r++]=1<<24|64<<16|0,l.bits=1,0;for(a=1;a<u&&q[a]===0;a++);for(h<a&&(h=a),E=1,c=1;c<=Bt;c++)if(E<<=1,E-=q[c],E<0)return-1;if(E>0&&(e===Ia||u!==1))return-1;for(j[1]=0,c=1;c<Bt;c++)j[c+1]=j[c]+q[c];for(d=0;d<n;d++)i[t+d]!==0&&(s[j[i[t+d]]++]=d);if(e===Ia?(S=H=s,L=19):e===Qn?(S=Fc,m-=257,H=Bc,X-=257,L=256):(S=jc,H=Uc,L=-1),A=0,d=0,c=a,R=r,p=h,b=0,I=-1,_=1<<h,C=_-1,e===Qn&&_>xa||e===Sa&&_>Ta)return 1;for(;;){$=c-b,s[d]<L?(Y=0,Z=s[d]):s[d]>L?(Y=H[X+s[d]],Z=S[m+s[d]]):(Y=32+64,Z=0),g=1<<c-b,w=1<<p,a=w;do w-=g,o[R+(A>>b)+w]=$<<24|Y<<16|Z|0;while(w!==0);for(g=1<<c-1;A&g;)g>>=1;if(g!==0?(A&=g-1,A+=g):A=0,d++,--q[c]===0){if(c===u)break;c=i[t+s[d]]}if(c>h&&(A&C)!==I){for(b===0&&(b=h),R+=a,p=c-b,E=1<<p;p+b<u&&(E-=q[p+b],!(E<=0));)p++,E<<=1;if(_+=1<<p,e===Qn&&_>xa||e===Sa&&_>Ta)return 1;I=A&C,o[I]=h<<24|p<<16|R-r|0}}return A!==0&&(o[R+A]=c-b<<24|64<<16|0),l.bits=h,0}var Hc=0,Nl=1,Ml=2,Oa=4,Gc=5,Xi=6,Oi=0,Zc=1,Vc=2,st=-2,Xc=-3,Wc=-4,zc=-5,Ca=8,ql=1,La=2,Da=3,Ra=4,Na=5,Ma=6,qa=7,Pa=8,ka=9,Fa=10,Ba=11,ke=12,Kn=13,ja=14,$n=15,Ua=16,Ha=17,Ga=18,Za=19,Wi=20,zi=21,Va=22,Xa=23,Wa=24,za=25,Ya=26,er=27,Ja=28,Qa=29,ne=30,Yc=31,Jc=32,Qc=852,Kc=592;function Ka(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function $c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ge(320),this.work=new ge(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function eh(e){var i;return!e||!e.state?st:(i=e.state,e.total_in=e.total_out=i.total=0,e.msg="",i.wrap&&(e.adler=i.wrap&1),i.mode=ql,i.last=0,i.havedict=0,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new un(Qc),i.distcode=i.distdyn=new un(Kc),i.sane=1,i.back=-1,Oi)}function Pl(e){var i;return!e||!e.state?st:(i=e.state,i.wsize=0,i.whave=0,i.wnext=0,eh(e))}function th(e,i){var t,n;return!e||!e.state||(n=e.state,i<0?(t=0,i=-i):(t=(i>>4)+1,i<48&&(i&=15)),i&&(i<8||i>15))?st:(n.window!==null&&n.wbits!==i&&(n.window=null),n.wrap=t,n.wbits=i,Pl(e))}function ih(e,i){var t,n;return e?(n=new $c,e.state=n,n.window=null,t=th(e,i),t!==Oi&&(e.state=null),t):st}var $a=!0,tr,ir;function nh(e){if($a){var i;for(tr=new un(512),ir=new un(32),i=0;i<144;)e.lens[i++]=8;for(;i<256;)e.lens[i++]=9;for(;i<280;)e.lens[i++]=7;for(;i<288;)e.lens[i++]=8;for(bi(Nl,e.lens,0,288,tr,0,e.work,{bits:9}),i=0;i<32;)e.lens[i++]=5;bi(Ml,e.lens,0,32,ir,0,e.work,{bits:5}),$a=!1}e.lencode=tr,e.lenbits=9,e.distcode=ir,e.distbits=5}function rh(e,i,t,n){var o,r=e.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new ln(r.wsize)),n>=r.wsize?(Ge(r.window,i,t-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(o=r.wsize-r.wnext,o>n&&(o=n),Ge(r.window,i,t-n,o,r.wnext),n-=o,n?(Ge(r.window,i,t-n,n,0),r.wnext=n,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0}function oh(e,i){var t,n,o,r,s,l,f,c,d,a,u,h,p,b,E=0,_,A,g,w,I,C,R,S,m=new ln(4),L,q,j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return st;t=e.state,t.mode===ke&&(t.mode=Kn),s=e.next_out,o=e.output,f=e.avail_out,r=e.next_in,n=e.input,l=e.avail_in,c=t.hold,d=t.bits,a=l,u=f,S=Oi;e:for(;;)switch(t.mode){case ql:if(t.wrap===0){t.mode=Kn;break}for(;d<16;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}if(t.wrap&2&&c===35615){t.check=0,m[0]=c&255,m[1]=c>>>8&255,t.check=se(t.check,m,2,0),c=0,d=0,t.mode=La;break}if(t.flags=0,t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",t.mode=ne;break}if((c&15)!==Ca){e.msg="unknown compression method",t.mode=ne;break}if(c>>>=4,d-=4,R=(c&15)+8,t.wbits===0)t.wbits=R;else if(R>t.wbits){e.msg="invalid window size",t.mode=ne;break}t.dmax=1<<R,e.adler=t.check=1,t.mode=c&512?Fa:ke,c=0,d=0;break;case La:for(;d<16;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}if(t.flags=c,(t.flags&255)!==Ca){e.msg="unknown compression method",t.mode=ne;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=ne;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&(m[0]=c&255,m[1]=c>>>8&255,t.check=se(t.check,m,2,0)),c=0,d=0,t.mode=Da;case Da:for(;d<32;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}t.head&&(t.head.time=c),t.flags&512&&(m[0]=c&255,m[1]=c>>>8&255,m[2]=c>>>16&255,m[3]=c>>>24&255,t.check=se(t.check,m,4,0)),c=0,d=0,t.mode=Ra;case Ra:for(;d<16;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&(m[0]=c&255,m[1]=c>>>8&255,t.check=se(t.check,m,2,0)),c=0,d=0,t.mode=Na;case Na:if(t.flags&1024){for(;d<16;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&(m[0]=c&255,m[1]=c>>>8&255,t.check=se(t.check,m,2,0)),c=0,d=0}else t.head&&(t.head.extra=null);t.mode=Ma;case Ma:if(t.flags&1024&&(h=t.length,h>l&&(h=l),h&&(t.head&&(R=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Array(t.head.extra_len)),Ge(t.head.extra,n,r,h,R)),t.flags&512&&(t.check=se(t.check,n,h,r)),l-=h,r+=h,t.length-=h),t.length))break e;t.length=0,t.mode=qa;case qa:if(t.flags&2048){if(l===0)break e;h=0;do R=n[r+h++],t.head&&R&&t.length<65536&&(t.head.name+=String.fromCharCode(R));while(R&&h<l);if(t.flags&512&&(t.check=se(t.check,n,h,r)),l-=h,r+=h,R)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Pa;case Pa:if(t.flags&4096){if(l===0)break e;h=0;do R=n[r+h++],t.head&&R&&t.length<65536&&(t.head.comment+=String.fromCharCode(R));while(R&&h<l);if(t.flags&512&&(t.check=se(t.check,n,h,r)),l-=h,r+=h,R)break e}else t.head&&(t.head.comment=null);t.mode=ka;case ka:if(t.flags&512){for(;d<16;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}if(c!==(t.check&65535)){e.msg="header crc mismatch",t.mode=ne;break}c=0,d=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=ke;break;case Fa:for(;d<32;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}e.adler=t.check=Ka(c),c=0,d=0,t.mode=Ba;case Ba:if(t.havedict===0)return e.next_out=s,e.avail_out=f,e.next_in=r,e.avail_in=l,t.hold=c,t.bits=d,Vc;e.adler=t.check=1,t.mode=ke;case ke:if(i===Gc||i===Xi)break e;case Kn:if(t.last){c>>>=d&7,d-=d&7,t.mode=er;break}for(;d<3;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}switch(t.last=c&1,c>>>=1,d-=1,c&3){case 0:t.mode=ja;break;case 1:if(nh(t),t.mode=Wi,i===Xi){c>>>=2,d-=2;break e}break;case 2:t.mode=Ha;break;case 3:e.msg="invalid block type",t.mode=ne}c>>>=2,d-=2;break;case ja:for(c>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",t.mode=ne;break}if(t.length=c&65535,c=0,d=0,t.mode=$n,i===Xi)break e;case $n:t.mode=Ua;case Ua:if(h=t.length,h){if(h>l&&(h=l),h>f&&(h=f),h===0)break e;Ge(o,n,r,h,s),l-=h,r+=h,f-=h,s+=h,t.length-=h;break}t.mode=ke;break;case Ha:for(;d<14;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}if(t.nlen=(c&31)+257,c>>>=5,d-=5,t.ndist=(c&31)+1,c>>>=5,d-=5,t.ncode=(c&15)+4,c>>>=4,d-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=ne;break}t.have=0,t.mode=Ga;case Ga:for(;t.have<t.ncode;){for(;d<3;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}t.lens[j[t.have++]]=c&7,c>>>=3,d-=3}for(;t.have<19;)t.lens[j[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,L={bits:t.lenbits},S=bi(Hc,t.lens,0,19,t.lencode,0,t.work,L),t.lenbits=L.bits,S){e.msg="invalid code lengths set",t.mode=ne;break}t.have=0,t.mode=Za;case Za:for(;t.have<t.nlen+t.ndist;){for(;E=t.lencode[c&(1<<t.lenbits)-1],_=E>>>24,A=E>>>16&255,g=E&65535,!(_<=d);){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}if(g<16)c>>>=_,d-=_,t.lens[t.have++]=g;else{if(g===16){for(q=_+2;d<q;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}if(c>>>=_,d-=_,t.have===0){e.msg="invalid bit length repeat",t.mode=ne;break}R=t.lens[t.have-1],h=3+(c&3),c>>>=2,d-=2}else if(g===17){for(q=_+3;d<q;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}c>>>=_,d-=_,R=0,h=3+(c&7),c>>>=3,d-=3}else{for(q=_+7;d<q;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}c>>>=_,d-=_,R=0,h=11+(c&127),c>>>=7,d-=7}if(t.have+h>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=ne;break}for(;h--;)t.lens[t.have++]=R}}if(t.mode===ne)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=ne;break}if(t.lenbits=9,L={bits:t.lenbits},S=bi(Nl,t.lens,0,t.nlen,t.lencode,0,t.work,L),t.lenbits=L.bits,S){e.msg="invalid literal/lengths set",t.mode=ne;break}if(t.distbits=6,t.distcode=t.distdyn,L={bits:t.distbits},S=bi(Ml,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,L),t.distbits=L.bits,S){e.msg="invalid distances set",t.mode=ne;break}if(t.mode=Wi,i===Xi)break e;case Wi:t.mode=zi;case zi:if(l>=6&&f>=258){e.next_out=s,e.avail_out=f,e.next_in=r,e.avail_in=l,t.hold=c,t.bits=d,kc(e,u),s=e.next_out,o=e.output,f=e.avail_out,r=e.next_in,n=e.input,l=e.avail_in,c=t.hold,d=t.bits,t.mode===ke&&(t.back=-1);break}for(t.back=0;E=t.lencode[c&(1<<t.lenbits)-1],_=E>>>24,A=E>>>16&255,g=E&65535,!(_<=d);){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}if(A&&!(A&240)){for(w=_,I=A,C=g;E=t.lencode[C+((c&(1<<w+I)-1)>>w)],_=E>>>24,A=E>>>16&255,g=E&65535,!(w+_<=d);){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}c>>>=w,d-=w,t.back+=w}if(c>>>=_,d-=_,t.back+=_,t.length=g,A===0){t.mode=Ya;break}if(A&32){t.back=-1,t.mode=ke;break}if(A&64){e.msg="invalid literal/length code",t.mode=ne;break}t.extra=A&15,t.mode=Va;case Va:if(t.extra){for(q=t.extra;d<q;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,d-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Xa;case Xa:for(;E=t.distcode[c&(1<<t.distbits)-1],_=E>>>24,A=E>>>16&255,g=E&65535,!(_<=d);){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}if(!(A&240)){for(w=_,I=A,C=g;E=t.distcode[C+((c&(1<<w+I)-1)>>w)],_=E>>>24,A=E>>>16&255,g=E&65535,!(w+_<=d);){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}c>>>=w,d-=w,t.back+=w}if(c>>>=_,d-=_,t.back+=_,A&64){e.msg="invalid distance code",t.mode=ne;break}t.offset=g,t.extra=A&15,t.mode=Wa;case Wa:if(t.extra){for(q=t.extra;d<q;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,d-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=ne;break}t.mode=za;case za:if(f===0)break e;if(h=u-f,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=ne;break}h>t.wnext?(h-=t.wnext,p=t.wsize-h):p=t.wnext-h,h>t.length&&(h=t.length),b=t.window}else b=o,p=s-t.offset,h=t.length;h>f&&(h=f),f-=h,t.length-=h;do o[s++]=b[p++];while(--h);t.length===0&&(t.mode=zi);break;case Ya:if(f===0)break e;o[s++]=t.length,f--,t.mode=zi;break;case er:if(t.wrap){for(;d<32;){if(l===0)break e;l--,c|=n[r++]<<d,d+=8}if(u-=f,e.total_out+=u,t.total+=u,u&&(e.adler=t.check=t.flags?se(t.check,o,u,s-u):to(t.check,o,u,s-u)),u=f,(t.flags?c:Ka(c))!==t.check){e.msg="incorrect data check",t.mode=ne;break}c=0,d=0}t.mode=Ja;case Ja:if(t.wrap&&t.flags){for(;d<32;){if(l===0)break e;l--,c+=n[r++]<<d,d+=8}if(c!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=ne;break}c=0,d=0}t.mode=Qa;case Qa:S=Zc;break e;case ne:S=Xc;break e;case Yc:return Wc;case Jc:default:return st}return e.next_out=s,e.avail_out=f,e.next_in=r,e.avail_in=l,t.hold=c,t.bits=d,(t.wsize||u!==e.avail_out&&t.mode<ne&&(t.mode<er||i!==Oa))&&rh(e,e.output,e.next_out,u-e.avail_out),a-=e.avail_in,u-=e.avail_out,e.total_in+=a,e.total_out+=u,t.total+=u,t.wrap&&u&&(e.adler=t.check=t.flags?se(t.check,o,u,e.next_out-u):to(t.check,o,u,e.next_out-u)),e.data_type=t.bits+(t.last?64:0)+(t.mode===ke?128:0)+(t.mode===Wi||t.mode===$n?256:0),(a===0&&u===0||i===Oa)&&S===Oi&&(S=zc),S}function ah(e){if(!e||!e.state)return st;var i=e.state;return i.window&&(i.window=null),e.state=null,Oi}var Eo=0,ei=1,gn=2,Ci=3,cn=4,Yt=5,Li=6,Di=7,kl=0,Fl=1,Bl=2,jl=3,Ul=4,Hl=5,sh=6,mn=0,Gl=1,lh=2,uh=-1,fh=-2,ch=-3,hh=-5,dh=0,ph=1,_h=9,gh=-1,mh=1,yh=2,vh=3,Ah=4,bh=0,wh=0,Eh=1,xh=2,Zl=8;function Me(e){if(e<ei||e>Di)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}Me.prototype.init=function(e,i,t,n,o){this.windowBits=e,this.level=i,this.memLevel=t,this.strategy=n,(this.mode===Ci||this.mode===cn)&&(this.windowBits+=16),this.mode===Di&&(this.windowBits+=32),(this.mode===Yt||this.mode===Li)&&(this.windowBits=-this.windowBits),this.strm=new Uf;var r;switch(this.mode){case ei:case Ci:case Yt:r=Nc(this.strm,this.level,Zl,this.windowBits,this.memLevel,this.strategy);break;case gn:case cn:case Li:case Di:r=ih(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(r!==mn){this._error(r);return}this.write_in_progress=!1,this.init_done=!0};Me.prototype.params=function(){throw new Error("deflateParams Not supported")};Me.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===Eo)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")};Me.prototype.write=function(e,i,t,n,o,r,s){this._writeCheck(),this.write_in_progress=!0;var l=this;return process.nextTick(function(){l.write_in_progress=!1;var f=l._write(e,i,t,n,o,r,s);l.callback(f[0],f[1]),l.pending_close&&l.close()}),this};function Th(e,i){for(var t=0;t<e.length;t++)this[i+t]=e[t]}Me.prototype.writeSync=function(e,i,t,n,o,r,s){return this._writeCheck(),this._write(e,i,t,n,o,r,s)};Me.prototype._write=function(e,i,t,n,o,r,s){if(this.write_in_progress=!0,e!==kl&&e!==Fl&&e!==Bl&&e!==jl&&e!==Ul&&e!==Hl)throw new Error("Invalid flush value");i==null&&(i=new Buffer(0),n=0,t=0),o._set?o.set=o._set:o.set=Th;var l=this.strm;l.avail_in=n,l.input=i,l.next_in=t,l.avail_out=s,l.output=o,l.next_out=r;var f;switch(this.mode){case ei:case Ci:case Yt:f=Mc(l,e);break;case Di:case gn:case cn:case Li:f=oh(l,e);break;default:throw new Error("Unknown mode "+this.mode)}return f!==Gl&&f!==mn&&this._error(f),this.write_in_progress=!1,[l.avail_in,l.avail_out]};Me.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,this.mode===ei||this.mode===Ci||this.mode===Yt?qc(this.strm):ah(this.strm),this.mode=Eo};var Yi;Me.prototype.reset=function(){switch(this.mode){case ei:case Yt:Yi=Rl(this.strm);break;case gn:case Li:Yi=Pl(this.strm);break}Yi!==mn&&this._error(Yi)};Me.prototype._error=function(e){this.onerror(_l[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()};const es=Object.freeze(Object.defineProperty({__proto__:null,DEFLATE:ei,DEFLATERAW:Yt,GUNZIP:cn,GZIP:Ci,INFLATE:gn,INFLATERAW:Li,NONE:Eo,UNZIP:Di,Z_BEST_COMPRESSION:_h,Z_BEST_SPEED:ph,Z_BINARY:wh,Z_BLOCK:Hl,Z_BUF_ERROR:hh,Z_DATA_ERROR:ch,Z_DEFAULT_COMPRESSION:gh,Z_DEFAULT_STRATEGY:bh,Z_DEFLATED:Zl,Z_ERRNO:uh,Z_FILTERED:mh,Z_FINISH:Ul,Z_FIXED:Ah,Z_FULL_FLUSH:jl,Z_HUFFMAN_ONLY:yh,Z_NEED_DICT:lh,Z_NO_COMPRESSION:dh,Z_NO_FLUSH:kl,Z_OK:mn,Z_PARTIAL_FLUSH:Fl,Z_RLE:vh,Z_STREAM_END:Gl,Z_STREAM_ERROR:fh,Z_SYNC_FLUSH:Bl,Z_TEXT:Eh,Z_TREES:sh,Z_UNKNOWN:xh,Zlib:Me},Symbol.toStringTag,{value:"Module"}));function Ih(e,i){if(!e)throw new Error(i)}var U={};Object.keys(es).forEach(function(e){U[e]=es[e]});U.Z_MIN_WINDOWBITS=8;U.Z_MAX_WINDOWBITS=15;U.Z_DEFAULT_WINDOWBITS=15;U.Z_MIN_CHUNK=64;U.Z_MAX_CHUNK=1/0;U.Z_DEFAULT_CHUNK=16*1024;U.Z_MIN_MEMLEVEL=1;U.Z_MAX_MEMLEVEL=9;U.Z_DEFAULT_MEMLEVEL=8;U.Z_MIN_LEVEL=-1;U.Z_MAX_LEVEL=9;U.Z_DEFAULT_LEVEL=U.Z_DEFAULT_COMPRESSION;var tn={Z_OK:U.Z_OK,Z_STREAM_END:U.Z_STREAM_END,Z_NEED_DICT:U.Z_NEED_DICT,Z_ERRNO:U.Z_ERRNO,Z_STREAM_ERROR:U.Z_STREAM_ERROR,Z_DATA_ERROR:U.Z_DATA_ERROR,Z_MEM_ERROR:U.Z_MEM_ERROR,Z_BUF_ERROR:U.Z_BUF_ERROR,Z_VERSION_ERROR:U.Z_VERSION_ERROR};Object.keys(tn).forEach(function(e){tn[tn[e]]=e});function Sh(e){return new vt(e)}function Oh(e){return new At(e)}function Ch(e){return new Et(e)}function Lh(e){return new xt(e)}function Dh(e){return new bt(e)}function Rh(e){return new wt(e)}function Nh(e){return new Tt(e)}function Mh(e,i,t){return typeof i=="function"&&(t=i,i={}),Ct(new vt(i),e,t)}function qh(e,i){return Lt(new vt(i),e)}function Ph(e,i,t){return typeof i=="function"&&(t=i,i={}),Ct(new bt(i),e,t)}function kh(e,i){return Lt(new bt(i),e)}function Fh(e,i,t){return typeof i=="function"&&(t=i,i={}),Ct(new Et(i),e,t)}function Bh(e,i){return Lt(new Et(i),e)}function jh(e,i,t){return typeof i=="function"&&(t=i,i={}),Ct(new Tt(i),e,t)}function Uh(e,i){return Lt(new Tt(i),e)}function Hh(e,i,t){return typeof i=="function"&&(t=i,i={}),Ct(new At(i),e,t)}function Gh(e,i){return Lt(new At(i),e)}function Zh(e,i,t){return typeof i=="function"&&(t=i,i={}),Ct(new wt(i),e,t)}function Vh(e,i){return Lt(new wt(i),e)}function Xh(e,i,t){return typeof i=="function"&&(t=i,i={}),Ct(new xt(i),e,t)}function Wh(e,i){return Lt(new xt(i),e)}function Ct(e,i,t){var n=[],o=0;e.on("error",s),e.on("end",l),e.end(i),r();function r(){for(var f;(f=e.read())!==null;)n.push(f),o+=f.length;e.once("readable",r)}function s(f){e.removeListener("end",l),e.removeListener("readable",r),t(f)}function l(){var f=Buffer.concat(n,o);n=[],t(null,f),e.close()}}function Lt(e,i){if(typeof i=="string"&&(i=new Buffer(i)),!Buffer.isBuffer(i))throw new TypeError("Not a string or buffer");var t=U.Z_FINISH;return e._processChunk(i,t)}function vt(e){if(!(this instanceof vt))return new vt(e);re.call(this,e,U.DEFLATE)}function At(e){if(!(this instanceof At))return new At(e);re.call(this,e,U.INFLATE)}function bt(e){if(!(this instanceof bt))return new bt(e);re.call(this,e,U.GZIP)}function wt(e){if(!(this instanceof wt))return new wt(e);re.call(this,e,U.GUNZIP)}function Et(e){if(!(this instanceof Et))return new Et(e);re.call(this,e,U.DEFLATERAW)}function xt(e){if(!(this instanceof xt))return new xt(e);re.call(this,e,U.INFLATERAW)}function Tt(e){if(!(this instanceof Tt))return new Tt(e);re.call(this,e,U.UNZIP)}function re(e,i){if(this._opts=e=e||{},this._chunkSize=e.chunkSize||U.Z_DEFAULT_CHUNK,_o.Transform.call(this,e),e.flush&&e.flush!==U.Z_NO_FLUSH&&e.flush!==U.Z_PARTIAL_FLUSH&&e.flush!==U.Z_SYNC_FLUSH&&e.flush!==U.Z_FULL_FLUSH&&e.flush!==U.Z_FINISH&&e.flush!==U.Z_BLOCK)throw new Error("Invalid flush flag: "+e.flush);if(this._flushFlag=e.flush||U.Z_NO_FLUSH,e.chunkSize&&(e.chunkSize<U.Z_MIN_CHUNK||e.chunkSize>U.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<U.Z_MIN_WINDOWBITS||e.windowBits>U.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<U.Z_MIN_LEVEL||e.level>U.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<U.Z_MIN_MEMLEVEL||e.memLevel>U.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=U.Z_FILTERED&&e.strategy!=U.Z_HUFFMAN_ONLY&&e.strategy!=U.Z_RLE&&e.strategy!=U.Z_FIXED&&e.strategy!=U.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!Buffer.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new U.Zlib(i);var t=this;this._hadError=!1,this._binding.onerror=function(r,s){t._binding=null,t._hadError=!0;var l=new Error(r);l.errno=s,l.code=U.codes[s],t.emit("error",l)};var n=U.Z_DEFAULT_COMPRESSION;typeof e.level=="number"&&(n=e.level);var o=U.Z_DEFAULT_STRATEGY;typeof e.strategy=="number"&&(o=e.strategy),this._binding.init(e.windowBits||U.Z_DEFAULT_WINDOWBITS,n,e.memLevel||U.Z_DEFAULT_MEMLEVEL,o,e.dictionary),this._buffer=new Buffer(this._chunkSize),this._offset=0,this._closed=!1,this._level=n,this._strategy=o,this.once("end",this.close)}Ne(re,_o.Transform);re.prototype.params=function(e,i,t){if(e<U.Z_MIN_LEVEL||e>U.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(i!=U.Z_FILTERED&&i!=U.Z_HUFFMAN_ONLY&&i!=U.Z_RLE&&i!=U.Z_FIXED&&i!=U.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+i);if(this._level!==e||this._strategy!==i){var n=this;this.flush(U.Z_SYNC_FLUSH,function(){n._binding.params(e,i),n._hadError||(n._level=e,n._strategy=i,t&&t())})}else process.nextTick(t)};re.prototype.reset=function(){return this._binding.reset()};re.prototype._flush=function(e){this._transform(new Buffer(0),"",e)};re.prototype.flush=function(e,i){var t=this._writableState;if((typeof e=="function"||e===void 0&&!i)&&(i=e,e=U.Z_FULL_FLUSH),t.ended)i&&process.nextTick(i);else if(t.ending)i&&this.once("end",i);else if(t.needDrain){var n=this;this.once("drain",function(){n.flush(i)})}else this._flushFlag=e,this.write(new Buffer(0),"",i)};re.prototype.close=function(e){if(e&&process.nextTick(e),!this._closed){this._closed=!0,this._binding.close();var i=this;process.nextTick(function(){i.emit("close")})}};re.prototype._transform=function(e,i,t){var n,o=this._writableState,r=o.ending||o.ended,s=r&&(!e||o.length===e.length);if(!e===null&&!Buffer.isBuffer(e))return t(new Error("invalid input"));s?n=U.Z_FINISH:(n=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||U.Z_NO_FLUSH)),this._processChunk(e,n,t)};re.prototype._processChunk=function(e,i,t){var n=e&&e.length,o=this._chunkSize-this._offset,r=0,s=this,l=typeof t=="function";if(!l){var f=[],c=0,d;this.on("error",function(b){d=b});do var a=this._binding.writeSync(i,e,r,n,this._buffer,this._offset,o);while(!this._hadError&&p(a[0],a[1]));if(this._hadError)throw d;var u=Buffer.concat(f,c);return this.close(),u}var h=this._binding.write(i,e,r,n,this._buffer,this._offset,o);h.buffer=e,h.callback=p;function p(b,E){if(!s._hadError){var _=o-E;if(Ih(_>=0,"have should not go down"),_>0){var A=s._buffer.slice(s._offset,s._offset+_);s._offset+=_,l?s.push(A):(f.push(A),c+=A.length)}if((E===0||s._offset>=s._chunkSize)&&(o=s._chunkSize,s._offset=0,s._buffer=new Buffer(s._chunkSize)),E===0){if(r+=n-b,n=b,!l)return!0;var g=s._binding.write(i,e,r,n,s._buffer,s._offset,s._chunkSize);g.callback=p,g.buffer=e;return}if(!l)return!1;t()}}};Ne(vt,re);Ne(At,re);Ne(bt,re);Ne(wt,re);Ne(Et,re);Ne(xt,re);Ne(Tt,re);const ts={codes:tn,createDeflate:Sh,createInflate:Oh,createDeflateRaw:Ch,createInflateRaw:Lh,createGzip:Dh,createGunzip:Rh,createUnzip:Nh,deflate:Mh,deflateSync:qh,gzip:Ph,gzipSync:kh,deflateRaw:Fh,deflateRawSync:Bh,unzip:jh,unzipSync:Uh,inflate:Hh,inflateSync:Gh,gunzip:Zh,gunzipSync:Vh,inflateRaw:Xh,inflateRawSync:Wh,Deflate:vt,Inflate:At,Gzip:bt,Gunzip:wt,DeflateRaw:Et,InflateRaw:xt,Unzip:Tt,Zlib:re};var nr={},is;function xo(){return is||(is=1,function(){nr.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}.call(G)),nr}var rr={},Fe={},Be={},ns;function Xe(){return ns||(ns=1,function(){var e,i,t,n,o,r,s,l=[].slice,f={}.hasOwnProperty;e=function(){var c,d,a,u,h,p;if(p=arguments[0],h=2<=arguments.length?l.call(arguments,1):[],o(Object.assign))Object.assign.apply(null,arguments);else for(c=0,a=h.length;c<a;c++)if(u=h[c],u!=null)for(d in u)f.call(u,d)&&(p[d]=u[d]);return p},o=function(c){return!!c&&Object.prototype.toString.call(c)==="[object Function]"},r=function(c){var d;return!!c&&((d=typeof c)=="function"||d==="object")},t=function(c){return o(Array.isArray)?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"},n=function(c){var d;if(t(c))return!c.length;for(d in c)if(f.call(c,d))return!1;return!0},s=function(c){var d,a;return r(c)&&(a=Object.getPrototypeOf(c))&&(d=a.constructor)&&typeof d=="function"&&d instanceof d&&Function.prototype.toString.call(d)===Function.prototype.toString.call(Object)},i=function(c){return o(c.valueOf)?c.valueOf():c},Be.assign=e,Be.isFunction=o,Be.isObject=r,Be.isArray=t,Be.isEmpty=n,Be.isPlainObject=s,Be.getValue=i}.call(G)),Be}var or={exports:{}},rs;function Vl(){return rs||(rs=1,function(){or.exports=function(){function e(){}return e.prototype.hasFeature=function(i,t){return!0},e.prototype.createDocumentType=function(i,t,n){throw new Error("This DOM method is not implemented.")},e.prototype.createDocument=function(i,t,n){throw new Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(i){throw new Error("This DOM method is not implemented.")},e.prototype.getFeature=function(i,t){throw new Error("This DOM method is not implemented.")},e}()}.call(G)),or.exports}var ar={exports:{}},sr={exports:{}},lr={exports:{}},os;function zh(){return os||(os=1,function(){lr.exports=function(){function e(){}return e.prototype.handleError=function(i){throw new Error(i)},e}()}.call(G)),lr.exports}var ur={exports:{}},as;function Yh(){return as||(as=1,function(){ur.exports=function(){function e(i){this.arr=i||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(i){return this.arr[i]||null},e.prototype.contains=function(i){return this.arr.indexOf(i)!==-1},e}()}.call(G)),ur.exports}var ss;function Jh(){return ss||(ss=1,function(){var e,i;e=zh(),i=Yh(),sr.exports=function(){function t(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new e,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(t.prototype,"parameterNames",{get:function(){return new i(Object.keys(this.defaultParams))}}),t.prototype.getParameter=function(n){return this.params.hasOwnProperty(n)?this.params[n]:null},t.prototype.canSetParameter=function(n,o){return!0},t.prototype.setParameter=function(n,o){return o!=null?this.params[n]=o:delete this.params[n]},t}()}.call(G)),sr.exports}var fr={exports:{}},cr={exports:{}},hr={exports:{}},ls;function oe(){return ls||(ls=1,function(){hr.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}.call(G)),hr.exports}var dr={exports:{}},us;function Xl(){return us||(us=1,function(){var e;e=oe(),ve(),dr.exports=function(){function i(t,n,o){if(this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));this.name=this.stringify.name(n),this.value=this.stringify.attValue(o),this.type=e.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(i.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(i.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(i.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(i.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(i.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(i.prototype,"specified",{get:function(){return!0}}),i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(t){return this.options.writer.attribute(this,this.options.writer.filterOptions(t))},i.prototype.debugInfo=function(t){return t=t||this.name,t==null?"parent: <"+this.parent.name+">":"attribute: {"+t+"}, parent: <"+this.parent.name+">"},i.prototype.isEqualNode=function(t){return!(t.namespaceURI!==this.namespaceURI||t.prefix!==this.prefix||t.localName!==this.localName||t.value!==this.value)},i}()}.call(G)),dr.exports}var pr={exports:{}},fs;function To(){return fs||(fs=1,function(){pr.exports=function(){function e(i){this.nodes=i}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(i){return this.nodes[i]},e.prototype.setNamedItem=function(i){var t;return t=this.nodes[i.nodeName],this.nodes[i.nodeName]=i,t||null},e.prototype.removeNamedItem=function(i){var t;return t=this.nodes[i],delete this.nodes[i],t||null},e.prototype.item=function(i){return this.nodes[Object.keys(this.nodes)[i]]||null},e.prototype.getNamedItemNS=function(i,t){throw new Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(i){throw new Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(i,t){throw new Error("This DOM method is not implemented.")},e}()}.call(G)),pr.exports}var cs;function Io(){return cs||(cs=1,function(){var e,i,t,n,o,r,s,l,f=function(d,a){for(var u in a)c.call(a,u)&&(d[u]=a[u]);function h(){this.constructor=d}return h.prototype=a.prototype,d.prototype=new h,d.__super__=a.prototype,d},c={}.hasOwnProperty;l=Xe(),s=l.isObject,r=l.isFunction,o=l.getValue,n=ve(),e=oe(),i=Xl(),t=To(),cr.exports=function(d){f(a,d);function a(u,h,p){var b,E,_,A;if(a.__super__.constructor.call(this,u),h==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(h),this.type=e.Element,this.attribs={},this.schemaTypeInfo=null,p!=null&&this.attribute(p),u.type===e.Document&&(this.isRoot=!0,this.documentObject=u,u.rootObject=this,u.children)){for(A=u.children,E=0,_=A.length;E<_;E++)if(b=A[E],b.type===e.DocType){b.name=this.name;break}}}return Object.defineProperty(a.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(a.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(a.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(a.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(a.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(a.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(a.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(a.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new t(this.attribs)),this.attributeMap}}),a.prototype.clone=function(){var u,h,p,b;p=Object.create(this),p.isRoot&&(p.documentObject=null),p.attribs={},b=this.attribs;for(h in b)c.call(b,h)&&(u=b[h],p.attribs[h]=u.clone());return p.children=[],this.children.forEach(function(E){var _;return _=E.clone(),_.parent=p,p.children.push(_)}),p},a.prototype.attribute=function(u,h){var p,b;if(u!=null&&(u=o(u)),s(u))for(p in u)c.call(u,p)&&(b=u[p],this.attribute(p,b));else r(h)&&(h=h.apply()),this.options.keepNullAttributes&&h==null?this.attribs[u]=new i(this,u,""):h!=null&&(this.attribs[u]=new i(this,u,h));return this},a.prototype.removeAttribute=function(u){var h,p,b;if(u==null)throw new Error("Missing attribute name. "+this.debugInfo());if(u=o(u),Array.isArray(u))for(p=0,b=u.length;p<b;p++)h=u[p],delete this.attribs[h];else delete this.attribs[u];return this},a.prototype.toString=function(u){return this.options.writer.element(this,this.options.writer.filterOptions(u))},a.prototype.att=function(u,h){return this.attribute(u,h)},a.prototype.a=function(u,h){return this.attribute(u,h)},a.prototype.getAttribute=function(u){return this.attribs.hasOwnProperty(u)?this.attribs[u].value:null},a.prototype.setAttribute=function(u,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getAttributeNode=function(u){return this.attribs.hasOwnProperty(u)?this.attribs[u]:null},a.prototype.setAttributeNode=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.removeAttributeNode=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getElementsByTagName=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getAttributeNS=function(u,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.setAttributeNS=function(u,h,p){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.removeAttributeNS=function(u,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getAttributeNodeNS=function(u,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.setAttributeNodeNS=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getElementsByTagNameNS=function(u,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.hasAttribute=function(u){return this.attribs.hasOwnProperty(u)},a.prototype.hasAttributeNS=function(u,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.setIdAttribute=function(u,h){return this.attribs.hasOwnProperty(u)?this.attribs[u].isId:h},a.prototype.setIdAttributeNS=function(u,h,p){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.setIdAttributeNode=function(u,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getElementsByTagName=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getElementsByTagNameNS=function(u,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getElementsByClassName=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.isEqualNode=function(u){var h,p,b;if(!a.__super__.isEqualNode.apply(this,arguments).isEqualNode(u)||u.namespaceURI!==this.namespaceURI||u.prefix!==this.prefix||u.localName!==this.localName||u.attribs.length!==this.attribs.length)return!1;for(h=p=0,b=this.attribs.length-1;0<=b?p<=b:p>=b;h=0<=b?++p:--p)if(!this.attribs[h].isEqualNode(u.attribs[h]))return!1;return!0},a}(n)}.call(G)),cr.exports}var _r={exports:{}},gr={exports:{}},hs;function yn(){return hs||(hs=1,function(){var e,i=function(n,o){for(var r in o)t.call(o,r)&&(n[r]=o[r]);function s(){this.constructor=n}return s.prototype=o.prototype,n.prototype=new s,n.__super__=o.prototype,n},t={}.hasOwnProperty;e=ve(),gr.exports=function(n){i(o,n);function o(r){o.__super__.constructor.call(this,r),this.value=""}return Object.defineProperty(o.prototype,"data",{get:function(){return this.value},set:function(r){return this.value=r||""}}),Object.defineProperty(o.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(o.prototype,"textContent",{get:function(){return this.value},set:function(r){return this.value=r||""}}),o.prototype.clone=function(){return Object.create(this)},o.prototype.substringData=function(r,s){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.appendData=function(r){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.insertData=function(r,s){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.deleteData=function(r,s){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.replaceData=function(r,s,l){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.isEqualNode=function(r){return!(!o.__super__.isEqualNode.apply(this,arguments).isEqualNode(r)||r.data!==this.data)},o}(e)}.call(G)),gr.exports}var ds;function So(){return ds||(ds=1,function(){var e,i,t=function(o,r){for(var s in r)n.call(r,s)&&(o[s]=r[s]);function l(){this.constructor=o}return l.prototype=r.prototype,o.prototype=new l,o.__super__=r.prototype,o},n={}.hasOwnProperty;e=oe(),i=yn(),_r.exports=function(o){t(r,o);function r(s,l){if(r.__super__.constructor.call(this,s),l==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=e.CData,this.value=this.stringify.cdata(l)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.cdata(this,this.options.writer.filterOptions(s))},r}(i)}.call(G)),_r.exports}var mr={exports:{}},ps;function Oo(){return ps||(ps=1,function(){var e,i,t=function(o,r){for(var s in r)n.call(r,s)&&(o[s]=r[s]);function l(){this.constructor=o}return l.prototype=r.prototype,o.prototype=new l,o.__super__=r.prototype,o},n={}.hasOwnProperty;e=oe(),i=yn(),mr.exports=function(o){t(r,o);function r(s,l){if(r.__super__.constructor.call(this,s),l==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=e.Comment,this.value=this.stringify.comment(l)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.comment(this,this.options.writer.filterOptions(s))},r}(i)}.call(G)),mr.exports}var yr={exports:{}},_s;function Co(){return _s||(_s=1,function(){var e,i,t,n=function(r,s){for(var l in s)o.call(s,l)&&(r[l]=s[l]);function f(){this.constructor=r}return f.prototype=s.prototype,r.prototype=new f,r.__super__=s.prototype,r},o={}.hasOwnProperty;t=Xe().isObject,i=ve(),e=oe(),yr.exports=function(r){n(s,r);function s(l,f,c,d){var a;s.__super__.constructor.call(this,l),t(f)&&(a=f,f=a.version,c=a.encoding,d=a.standalone),f||(f="1.0"),this.type=e.Declaration,this.version=this.stringify.xmlVersion(f),c!=null&&(this.encoding=this.stringify.xmlEncoding(c)),d!=null&&(this.standalone=this.stringify.xmlStandalone(d))}return s.prototype.toString=function(l){return this.options.writer.declaration(this,this.options.writer.filterOptions(l))},s}(i)}.call(G)),yr.exports}var vr={exports:{}},Ar={exports:{}},gs;function Lo(){return gs||(gs=1,function(){var e,i,t=function(o,r){for(var s in r)n.call(r,s)&&(o[s]=r[s]);function l(){this.constructor=o}return l.prototype=r.prototype,o.prototype=new l,o.__super__=r.prototype,o},n={}.hasOwnProperty;i=ve(),e=oe(),Ar.exports=function(o){t(r,o);function r(s,l,f,c,d,a){if(r.__super__.constructor.call(this,s),l==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(f==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(l));if(!c)throw new Error("Missing DTD attribute type. "+this.debugInfo(l));if(!d)throw new Error("Missing DTD attribute default. "+this.debugInfo(l));if(d.indexOf("#")!==0&&(d="#"+d),!d.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(l));if(a&&!d.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(l));this.elementName=this.stringify.name(l),this.type=e.AttributeDeclaration,this.attributeName=this.stringify.name(f),this.attributeType=this.stringify.dtdAttType(c),a&&(this.defaultValue=this.stringify.dtdAttDefault(a)),this.defaultValueType=d}return r.prototype.toString=function(s){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(s))},r}(i)}.call(G)),Ar.exports}var br={exports:{}},ms;function Do(){return ms||(ms=1,function(){var e,i,t,n=function(r,s){for(var l in s)o.call(s,l)&&(r[l]=s[l]);function f(){this.constructor=r}return f.prototype=s.prototype,r.prototype=new f,r.__super__=s.prototype,r},o={}.hasOwnProperty;t=Xe().isObject,i=ve(),e=oe(),br.exports=function(r){n(s,r);function s(l,f,c,d){if(s.__super__.constructor.call(this,l),c==null)throw new Error("Missing DTD entity name. "+this.debugInfo(c));if(d==null)throw new Error("Missing DTD entity value. "+this.debugInfo(c));if(this.pe=!!f,this.name=this.stringify.name(c),this.type=e.EntityDeclaration,!t(d))this.value=this.stringify.dtdEntityValue(d),this.internal=!0;else{if(!d.pubID&&!d.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(c));if(d.pubID&&!d.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(c));if(this.internal=!1,d.pubID!=null&&(this.pubID=this.stringify.dtdPubID(d.pubID)),d.sysID!=null&&(this.sysID=this.stringify.dtdSysID(d.sysID)),d.nData!=null&&(this.nData=this.stringify.dtdNData(d.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(c))}}return Object.defineProperty(s.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(s.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(s.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(s.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(s.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(s.prototype,"xmlVersion",{get:function(){return null}}),s.prototype.toString=function(l){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(l))},s}(i)}.call(G)),br.exports}var wr={exports:{}},ys;function Ro(){return ys||(ys=1,function(){var e,i,t=function(o,r){for(var s in r)n.call(r,s)&&(o[s]=r[s]);function l(){this.constructor=o}return l.prototype=r.prototype,o.prototype=new l,o.__super__=r.prototype,o},n={}.hasOwnProperty;i=ve(),e=oe(),wr.exports=function(o){t(r,o);function r(s,l,f){if(r.__super__.constructor.call(this,s),l==null)throw new Error("Missing DTD element name. "+this.debugInfo());f||(f="(#PCDATA)"),Array.isArray(f)&&(f="("+f.join(",")+")"),this.name=this.stringify.name(l),this.type=e.ElementDeclaration,this.value=this.stringify.dtdElementValue(f)}return r.prototype.toString=function(s){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(s))},r}(i)}.call(G)),wr.exports}var Er={exports:{}},vs;function No(){return vs||(vs=1,function(){var e,i,t=function(o,r){for(var s in r)n.call(r,s)&&(o[s]=r[s]);function l(){this.constructor=o}return l.prototype=r.prototype,o.prototype=new l,o.__super__=r.prototype,o},n={}.hasOwnProperty;i=ve(),e=oe(),Er.exports=function(o){t(r,o);function r(s,l,f){if(r.__super__.constructor.call(this,s),l==null)throw new Error("Missing DTD notation name. "+this.debugInfo(l));if(!f.pubID&&!f.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(l));this.name=this.stringify.name(l),this.type=e.NotationDeclaration,f.pubID!=null&&(this.pubID=this.stringify.dtdPubID(f.pubID)),f.sysID!=null&&(this.sysID=this.stringify.dtdSysID(f.sysID))}return Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),r.prototype.toString=function(s){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(s))},r}(i)}.call(G)),Er.exports}var As;function Mo(){return As||(As=1,function(){var e,i,t,n,o,r,s,l,f=function(d,a){for(var u in a)c.call(a,u)&&(d[u]=a[u]);function h(){this.constructor=d}return h.prototype=a.prototype,d.prototype=new h,d.__super__=a.prototype,d},c={}.hasOwnProperty;l=Xe().isObject,s=ve(),e=oe(),i=Lo(),n=Do(),t=Ro(),o=No(),r=To(),vr.exports=function(d){f(a,d);function a(u,h,p){var b,E,_,A,g,w;if(a.__super__.constructor.call(this,u),this.type=e.DocType,u.children){for(A=u.children,E=0,_=A.length;E<_;E++)if(b=A[E],b.type===e.Element){this.name=b.name;break}}this.documentObject=u,l(h)&&(g=h,h=g.pubID,p=g.sysID),p==null&&(w=[h,p],p=w[0],h=w[1]),h!=null&&(this.pubID=this.stringify.dtdPubID(h)),p!=null&&(this.sysID=this.stringify.dtdSysID(p))}return Object.defineProperty(a.prototype,"entities",{get:function(){var u,h,p,b,E;for(b={},E=this.children,h=0,p=E.length;h<p;h++)u=E[h],u.type===e.EntityDeclaration&&!u.pe&&(b[u.name]=u);return new r(b)}}),Object.defineProperty(a.prototype,"notations",{get:function(){var u,h,p,b,E;for(b={},E=this.children,h=0,p=E.length;h<p;h++)u=E[h],u.type===e.NotationDeclaration&&(b[u.name]=u);return new r(b)}}),Object.defineProperty(a.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(a.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(a.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),a.prototype.element=function(u,h){var p;return p=new t(this,u,h),this.children.push(p),this},a.prototype.attList=function(u,h,p,b,E){var _;return _=new i(this,u,h,p,b,E),this.children.push(_),this},a.prototype.entity=function(u,h){var p;return p=new n(this,!1,u,h),this.children.push(p),this},a.prototype.pEntity=function(u,h){var p;return p=new n(this,!0,u,h),this.children.push(p),this},a.prototype.notation=function(u,h){var p;return p=new o(this,u,h),this.children.push(p),this},a.prototype.toString=function(u){return this.options.writer.docType(this,this.options.writer.filterOptions(u))},a.prototype.ele=function(u,h){return this.element(u,h)},a.prototype.att=function(u,h,p,b,E){return this.attList(u,h,p,b,E)},a.prototype.ent=function(u,h){return this.entity(u,h)},a.prototype.pent=function(u,h){return this.pEntity(u,h)},a.prototype.not=function(u,h){return this.notation(u,h)},a.prototype.up=function(){return this.root()||this.documentObject},a.prototype.isEqualNode=function(u){return!(!a.__super__.isEqualNode.apply(this,arguments).isEqualNode(u)||u.name!==this.name||u.publicId!==this.publicId||u.systemId!==this.systemId)},a}(s)}.call(G)),vr.exports}var xr={exports:{}},bs;function qo(){return bs||(bs=1,function(){var e,i,t=function(o,r){for(var s in r)n.call(r,s)&&(o[s]=r[s]);function l(){this.constructor=o}return l.prototype=r.prototype,o.prototype=new l,o.__super__=r.prototype,o},n={}.hasOwnProperty;e=oe(),i=ve(),xr.exports=function(o){t(r,o);function r(s,l){if(r.__super__.constructor.call(this,s),l==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=e.Raw,this.value=this.stringify.raw(l)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.raw(this,this.options.writer.filterOptions(s))},r}(i)}.call(G)),xr.exports}var Tr={exports:{}},ws;function Po(){return ws||(ws=1,function(){var e,i,t=function(o,r){for(var s in r)n.call(r,s)&&(o[s]=r[s]);function l(){this.constructor=o}return l.prototype=r.prototype,o.prototype=new l,o.__super__=r.prototype,o},n={}.hasOwnProperty;e=oe(),i=yn(),Tr.exports=function(o){t(r,o);function r(s,l){if(r.__super__.constructor.call(this,s),l==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=e.Text,this.value=this.stringify.text(l)}return Object.defineProperty(r.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"wholeText",{get:function(){var s,l,f;for(f="",l=this.previousSibling;l;)f=l.data+f,l=l.previousSibling;for(f+=this.data,s=this.nextSibling;s;)f=f+s.data,s=s.nextSibling;return f}}),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.text(this,this.options.writer.filterOptions(s))},r.prototype.splitText=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.replaceWholeText=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},r}(i)}.call(G)),Tr.exports}var Ir={exports:{}},Es;function ko(){return Es||(Es=1,function(){var e,i,t=function(o,r){for(var s in r)n.call(r,s)&&(o[s]=r[s]);function l(){this.constructor=o}return l.prototype=r.prototype,o.prototype=new l,o.__super__=r.prototype,o},n={}.hasOwnProperty;e=oe(),i=yn(),Ir.exports=function(o){t(r,o);function r(s,l,f){if(r.__super__.constructor.call(this,s),l==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=e.ProcessingInstruction,this.target=this.stringify.insTarget(l),this.name=this.target,f&&(this.value=this.stringify.insValue(f))}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(s))},r.prototype.isEqualNode=function(s){return!(!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(s)||s.target!==this.target)},r}(i)}.call(G)),Ir.exports}var Sr={exports:{}},xs;function Wl(){return xs||(xs=1,function(){var e,i,t=function(o,r){for(var s in r)n.call(r,s)&&(o[s]=r[s]);function l(){this.constructor=o}return l.prototype=r.prototype,o.prototype=new l,o.__super__=r.prototype,o},n={}.hasOwnProperty;i=ve(),e=oe(),Sr.exports=function(o){t(r,o);function r(s){r.__super__.constructor.call(this,s),this.type=e.Dummy}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return""},r}(i)}.call(G)),Sr.exports}var Or={exports:{}},Ts;function Qh(){return Ts||(Ts=1,function(){Or.exports=function(){function e(i){this.nodes=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(i){return this.nodes[i]||null},e}()}.call(G)),Or.exports}var Cr={exports:{}},Is;function Kh(){return Is||(Is=1,function(){Cr.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}.call(G)),Cr.exports}var Ss;function ve(){return Ss||(Ss=1,function(){var e,i,t,n,o,r,s,l,f,c,d,a,u,h,p,b,E,_={}.hasOwnProperty;E=Xe(),b=E.isObject,p=E.isFunction,h=E.isEmpty,u=E.getValue,l=null,t=null,n=null,o=null,r=null,d=null,a=null,c=null,s=null,i=null,f=null,e=null,fr.exports=function(){function A(g){this.parent=g,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,l||(l=Io(),t=So(),n=Oo(),o=Co(),r=Mo(),d=qo(),a=Po(),c=ko(),s=Wl(),i=oe(),f=Qh(),To(),e=Kh())}return Object.defineProperty(A.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(A.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(A.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(A.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(A.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new f(this.children)),this.childNodeList}}),Object.defineProperty(A.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(A.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(A.prototype,"previousSibling",{get:function(){var g;return g=this.parent.children.indexOf(this),this.parent.children[g-1]||null}}),Object.defineProperty(A.prototype,"nextSibling",{get:function(){var g;return g=this.parent.children.indexOf(this),this.parent.children[g+1]||null}}),Object.defineProperty(A.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(A.prototype,"textContent",{get:function(){var g,w,I,C,R;if(this.nodeType===i.Element||this.nodeType===i.DocumentFragment){for(R="",C=this.children,w=0,I=C.length;w<I;w++)g=C[w],g.textContent&&(R+=g.textContent);return R}else return null},set:function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),A.prototype.setParent=function(g){var w,I,C,R,S;for(this.parent=g,g&&(this.options=g.options,this.stringify=g.stringify),R=this.children,S=[],I=0,C=R.length;I<C;I++)w=R[I],S.push(w.setParent(this));return S},A.prototype.element=function(g,w,I){var C,R,S,m,L,q,j,H,X,$,Y;if(q=null,w===null&&I==null&&(X=[{},null],w=X[0],I=X[1]),w==null&&(w={}),w=u(w),b(w)||($=[w,I],I=$[0],w=$[1]),g!=null&&(g=u(g)),Array.isArray(g))for(S=0,j=g.length;S<j;S++)R=g[S],q=this.element(R);else if(p(g))q=this.element(g.apply());else if(b(g)){for(L in g)if(_.call(g,L))if(Y=g[L],p(Y)&&(Y=Y.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&L.indexOf(this.stringify.convertAttKey)===0)q=this.attribute(L.substr(this.stringify.convertAttKey.length),Y);else if(!this.options.separateArrayItems&&Array.isArray(Y)&&h(Y))q=this.dummy();else if(b(Y)&&h(Y))q=this.element(L);else if(!this.options.keepNullNodes&&Y==null)q=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(Y))for(m=0,H=Y.length;m<H;m++)R=Y[m],C={},C[L]=R,q=this.element(C);else b(Y)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&L.indexOf(this.stringify.convertTextKey)===0?q=this.element(Y):(q=this.element(L),q.element(Y)):q=this.element(L,Y)}else!this.options.keepNullNodes&&I===null?q=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&g.indexOf(this.stringify.convertTextKey)===0?q=this.text(I):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&g.indexOf(this.stringify.convertCDataKey)===0?q=this.cdata(I):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&g.indexOf(this.stringify.convertCommentKey)===0?q=this.comment(I):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&g.indexOf(this.stringify.convertRawKey)===0?q=this.raw(I):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&g.indexOf(this.stringify.convertPIKey)===0?q=this.instruction(g.substr(this.stringify.convertPIKey.length),I):q=this.node(g,w,I);if(q==null)throw new Error("Could not create any elements with: "+g+". "+this.debugInfo());return q},A.prototype.insertBefore=function(g,w,I){var C,R,S,m,L;if(g!=null&&g.type)return S=g,m=w,S.setParent(this),m?(R=children.indexOf(m),L=children.splice(R),children.push(S),Array.prototype.push.apply(children,L)):children.push(S),S;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(g));return R=this.parent.children.indexOf(this),L=this.parent.children.splice(R),C=this.parent.element(g,w,I),Array.prototype.push.apply(this.parent.children,L),C},A.prototype.insertAfter=function(g,w,I){var C,R,S;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(g));return R=this.parent.children.indexOf(this),S=this.parent.children.splice(R+1),C=this.parent.element(g,w,I),Array.prototype.push.apply(this.parent.children,S),C},A.prototype.remove=function(){var g;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return g=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[g,g-g+1].concat([])),this.parent},A.prototype.node=function(g,w,I){var C,R;return g!=null&&(g=u(g)),w||(w={}),w=u(w),b(w)||(R=[w,I],I=R[0],w=R[1]),C=new l(this,g,w),I!=null&&C.text(I),this.children.push(C),C},A.prototype.text=function(g){var w;return b(g)&&this.element(g),w=new a(this,g),this.children.push(w),this},A.prototype.cdata=function(g){var w;return w=new t(this,g),this.children.push(w),this},A.prototype.comment=function(g){var w;return w=new n(this,g),this.children.push(w),this},A.prototype.commentBefore=function(g){var w,I;return w=this.parent.children.indexOf(this),I=this.parent.children.splice(w),this.parent.comment(g),Array.prototype.push.apply(this.parent.children,I),this},A.prototype.commentAfter=function(g){var w,I;return w=this.parent.children.indexOf(this),I=this.parent.children.splice(w+1),this.parent.comment(g),Array.prototype.push.apply(this.parent.children,I),this},A.prototype.raw=function(g){var w;return w=new d(this,g),this.children.push(w),this},A.prototype.dummy=function(){var g;return g=new s(this),g},A.prototype.instruction=function(g,w){var I,C,R,S,m;if(g!=null&&(g=u(g)),w!=null&&(w=u(w)),Array.isArray(g))for(S=0,m=g.length;S<m;S++)I=g[S],this.instruction(I);else if(b(g))for(I in g)_.call(g,I)&&(C=g[I],this.instruction(I,C));else p(w)&&(w=w.apply()),R=new c(this,g,w),this.children.push(R);return this},A.prototype.instructionBefore=function(g,w){var I,C;return I=this.parent.children.indexOf(this),C=this.parent.children.splice(I),this.parent.instruction(g,w),Array.prototype.push.apply(this.parent.children,C),this},A.prototype.instructionAfter=function(g,w){var I,C;return I=this.parent.children.indexOf(this),C=this.parent.children.splice(I+1),this.parent.instruction(g,w),Array.prototype.push.apply(this.parent.children,C),this},A.prototype.declaration=function(g,w,I){var C,R;return C=this.document(),R=new o(C,g,w,I),C.children.length===0?C.children.unshift(R):C.children[0].type===i.Declaration?C.children[0]=R:C.children.unshift(R),C.root()||C},A.prototype.dtd=function(g,w){var I,C,R,S,m,L,q,j,H,X;for(C=this.document(),R=new r(C,g,w),H=C.children,S=m=0,q=H.length;m<q;S=++m)if(I=H[S],I.type===i.DocType)return C.children[S]=R,R;for(X=C.children,S=L=0,j=X.length;L<j;S=++L)if(I=X[S],I.isRoot)return C.children.splice(S,0,R),R;return C.children.push(R),R},A.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},A.prototype.root=function(){var g;for(g=this;g;){if(g.type===i.Document)return g.rootObject;if(g.isRoot)return g;g=g.parent}},A.prototype.document=function(){var g;for(g=this;g;){if(g.type===i.Document)return g;g=g.parent}},A.prototype.end=function(g){return this.document().end(g)},A.prototype.prev=function(){var g;if(g=this.parent.children.indexOf(this),g<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[g-1]},A.prototype.next=function(){var g;if(g=this.parent.children.indexOf(this),g===-1||g===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[g+1]},A.prototype.importDocument=function(g){var w;return w=g.root().clone(),w.parent=this,w.isRoot=!1,this.children.push(w),this},A.prototype.debugInfo=function(g){var w,I;return g=g||this.name,g==null&&!((w=this.parent)!=null&&w.name)?"":g==null?"parent: <"+this.parent.name+">":(I=this.parent)!=null&&I.name?"node: <"+g+">, parent: <"+this.parent.name+">":"node: <"+g+">"},A.prototype.ele=function(g,w,I){return this.element(g,w,I)},A.prototype.nod=function(g,w,I){return this.node(g,w,I)},A.prototype.txt=function(g){return this.text(g)},A.prototype.dat=function(g){return this.cdata(g)},A.prototype.com=function(g){return this.comment(g)},A.prototype.ins=function(g,w){return this.instruction(g,w)},A.prototype.doc=function(){return this.document()},A.prototype.dec=function(g,w,I){return this.declaration(g,w,I)},A.prototype.e=function(g,w,I){return this.element(g,w,I)},A.prototype.n=function(g,w,I){return this.node(g,w,I)},A.prototype.t=function(g){return this.text(g)},A.prototype.d=function(g){return this.cdata(g)},A.prototype.c=function(g){return this.comment(g)},A.prototype.r=function(g){return this.raw(g)},A.prototype.i=function(g,w){return this.instruction(g,w)},A.prototype.u=function(){return this.up()},A.prototype.importXMLBuilder=function(g){return this.importDocument(g)},A.prototype.replaceChild=function(g,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.removeChild=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.appendChild=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.hasChildNodes=function(){return this.children.length!==0},A.prototype.cloneNode=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.isSupported=function(g,w){return!0},A.prototype.hasAttributes=function(){return this.attribs.length!==0},A.prototype.compareDocumentPosition=function(g){var w,I;return w=this,w===g?0:this.document()!==g.document()?(I=e.Disconnected|e.ImplementationSpecific,Math.random()<.5?I|=e.Preceding:I|=e.Following,I):w.isAncestor(g)?e.Contains|e.Preceding:w.isDescendant(g)?e.Contains|e.Following:w.isPreceding(g)?e.Preceding:e.Following},A.prototype.isSameNode=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.lookupPrefix=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.isDefaultNamespace=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.lookupNamespaceURI=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.isEqualNode=function(g){var w,I,C;if(g.nodeType!==this.nodeType||g.children.length!==this.children.length)return!1;for(w=I=0,C=this.children.length-1;0<=C?I<=C:I>=C;w=0<=C?++I:--I)if(!this.children[w].isEqualNode(g.children[w]))return!1;return!0},A.prototype.getFeature=function(g,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.setUserData=function(g,w,I){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.getUserData=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.contains=function(g){return g?g===this||this.isDescendant(g):!1},A.prototype.isDescendant=function(g){var w,I,C,R,S;for(S=this.children,C=0,R=S.length;C<R;C++)if(w=S[C],g===w||(I=w.isDescendant(g),I))return!0;return!1},A.prototype.isAncestor=function(g){return g.isDescendant(this)},A.prototype.isPreceding=function(g){var w,I;return w=this.treePosition(g),I=this.treePosition(this),w===-1||I===-1?!1:w<I},A.prototype.isFollowing=function(g){var w,I;return w=this.treePosition(g),I=this.treePosition(this),w===-1||I===-1?!1:w>I},A.prototype.treePosition=function(g){var w,I;return I=0,w=!1,this.foreachTreeNode(this.document(),function(C){if(I++,!w&&C===g)return w=!0}),w?I:-1},A.prototype.foreachTreeNode=function(g,w){var I,C,R,S,m;for(g||(g=this.document()),S=g.children,C=0,R=S.length;C<R;C++){if(I=S[C],m=w(I))return m;if(m=this.foreachTreeNode(I,w),m)return m}},A}()}.call(G)),fr.exports}var Lr={exports:{}},Os;function zl(){return Os||(Os=1,function(){var e=function(t,n){return function(){return t.apply(n,arguments)}},i={}.hasOwnProperty;Lr.exports=function(){function t(n){this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this);var o,r,s;n||(n={}),this.options=n,this.options.version||(this.options.version="1.0"),r=n.stringify||{};for(o in r)i.call(r,o)&&(s=r[o],this[o]=s)}return t.prototype.name=function(n){return this.options.noValidation?n:this.assertLegalName(""+n||"")},t.prototype.text=function(n){return this.options.noValidation?n:this.assertLegalChar(this.textEscape(""+n||""))},t.prototype.cdata=function(n){return this.options.noValidation?n:(n=""+n||"",n=n.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(n))},t.prototype.comment=function(n){if(this.options.noValidation)return n;if(n=""+n||"",n.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+n);return this.assertLegalChar(n)},t.prototype.raw=function(n){return this.options.noValidation?n:""+n||""},t.prototype.attValue=function(n){return this.options.noValidation?n:this.assertLegalChar(this.attEscape(n=""+n||""))},t.prototype.insTarget=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},t.prototype.insValue=function(n){if(this.options.noValidation)return n;if(n=""+n||"",n.match(/\?>/))throw new Error("Invalid processing instruction value: "+n);return this.assertLegalChar(n)},t.prototype.xmlVersion=function(n){if(this.options.noValidation)return n;if(n=""+n||"",!n.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+n);return n},t.prototype.xmlEncoding=function(n){if(this.options.noValidation)return n;if(n=""+n||"",!n.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+n);return this.assertLegalChar(n)},t.prototype.xmlStandalone=function(n){return this.options.noValidation?n:n?"yes":"no"},t.prototype.dtdPubID=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},t.prototype.dtdSysID=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},t.prototype.dtdElementValue=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},t.prototype.dtdAttType=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},t.prototype.dtdAttDefault=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},t.prototype.dtdEntityValue=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},t.prototype.dtdNData=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(n){var o,r;if(this.options.noValidation)return n;if(o="",this.options.version==="1.0"){if(o=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=n.match(o))throw new Error("Invalid character in string: "+n+" at index "+r.index)}else if(this.options.version==="1.1"&&(o=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=n.match(o)))throw new Error("Invalid character in string: "+n+" at index "+r.index);return n},t.prototype.assertLegalName=function(n){var o;if(this.options.noValidation)return n;if(this.assertLegalChar(n),o=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!n.match(o))throw new Error("Invalid character in name");return n},t.prototype.textEscape=function(n){var o;return this.options.noValidation?n:(o=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(o,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},t.prototype.attEscape=function(n){var o;return this.options.noValidation?n:(o=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(o,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},t}()}.call(G)),Lr.exports}var Dr={exports:{}},Rr={exports:{}},Nr={exports:{}},Cs;function vn(){return Cs||(Cs=1,function(){Nr.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}.call(G)),Nr.exports}var Ls;function Yl(){return Ls||(Ls=1,function(){var e,i,t,n={}.hasOwnProperty;t=Xe().assign,e=oe(),Co(),Mo(),So(),Oo(),Io(),qo(),Po(),ko(),Wl(),Lo(),Ro(),Do(),No(),i=vn(),Rr.exports=function(){function o(r){var s,l,f;r||(r={}),this.options=r,l=r.writer||{};for(s in l)n.call(l,s)&&(f=l[s],this["_"+s]=this[s],this[s]=f)}return o.prototype.filterOptions=function(r){var s,l,f,c,d,a,u,h;return r||(r={}),r=t({},this.options,r),s={writer:this},s.pretty=r.pretty||!1,s.allowEmpty=r.allowEmpty||!1,s.indent=(l=r.indent)!=null?l:"  ",s.newline=(f=r.newline)!=null?f:`
`,s.offset=(c=r.offset)!=null?c:0,s.dontPrettyTextNodes=(d=(a=r.dontPrettyTextNodes)!=null?a:r.dontprettytextnodes)!=null?d:0,s.spaceBeforeSlash=(u=(h=r.spaceBeforeSlash)!=null?h:r.spacebeforeslash)!=null?u:"",s.spaceBeforeSlash===!0&&(s.spaceBeforeSlash=" "),s.suppressPrettyCount=0,s.user={},s.state=i.None,s},o.prototype.indent=function(r,s,l){var f;return!s.pretty||s.suppressPrettyCount?"":s.pretty&&(f=(l||0)+s.offset+1,f>0)?new Array(f).join(s.indent):""},o.prototype.endline=function(r,s,l){return!s.pretty||s.suppressPrettyCount?"":s.newline},o.prototype.attribute=function(r,s,l){var f;return this.openAttribute(r,s,l),f=" "+r.name+'="'+r.value+'"',this.closeAttribute(r,s,l),f},o.prototype.cdata=function(r,s,l){var f;return this.openNode(r,s,l),s.state=i.OpenTag,f=this.indent(r,s,l)+"<![CDATA[",s.state=i.InsideTag,f+=r.value,s.state=i.CloseTag,f+="]]>"+this.endline(r,s,l),s.state=i.None,this.closeNode(r,s,l),f},o.prototype.comment=function(r,s,l){var f;return this.openNode(r,s,l),s.state=i.OpenTag,f=this.indent(r,s,l)+"<!-- ",s.state=i.InsideTag,f+=r.value,s.state=i.CloseTag,f+=" -->"+this.endline(r,s,l),s.state=i.None,this.closeNode(r,s,l),f},o.prototype.declaration=function(r,s,l){var f;return this.openNode(r,s,l),s.state=i.OpenTag,f=this.indent(r,s,l)+"<?xml",s.state=i.InsideTag,f+=' version="'+r.version+'"',r.encoding!=null&&(f+=' encoding="'+r.encoding+'"'),r.standalone!=null&&(f+=' standalone="'+r.standalone+'"'),s.state=i.CloseTag,f+=s.spaceBeforeSlash+"?>",f+=this.endline(r,s,l),s.state=i.None,this.closeNode(r,s,l),f},o.prototype.docType=function(r,s,l){var f,c,d,a,u;if(l||(l=0),this.openNode(r,s,l),s.state=i.OpenTag,a=this.indent(r,s,l),a+="<!DOCTYPE "+r.root().name,r.pubID&&r.sysID?a+=' PUBLIC "'+r.pubID+'" "'+r.sysID+'"':r.sysID&&(a+=' SYSTEM "'+r.sysID+'"'),r.children.length>0){for(a+=" [",a+=this.endline(r,s,l),s.state=i.InsideTag,u=r.children,c=0,d=u.length;c<d;c++)f=u[c],a+=this.writeChildNode(f,s,l+1);s.state=i.CloseTag,a+="]"}return s.state=i.CloseTag,a+=s.spaceBeforeSlash+">",a+=this.endline(r,s,l),s.state=i.None,this.closeNode(r,s,l),a},o.prototype.element=function(r,s,l){var f,c,d,a,u,h,p,b,E,_,A,g,w,I;l||(l=0),_=!1,A="",this.openNode(r,s,l),s.state=i.OpenTag,A+=this.indent(r,s,l)+"<"+r.name,g=r.attribs;for(E in g)n.call(g,E)&&(f=g[E],A+=this.attribute(f,s,l));if(d=r.children.length,a=d===0?null:r.children[0],d===0||r.children.every(function(C){return(C.type===e.Text||C.type===e.Raw)&&C.value===""}))s.allowEmpty?(A+=">",s.state=i.CloseTag,A+="</"+r.name+">"+this.endline(r,s,l)):(s.state=i.CloseTag,A+=s.spaceBeforeSlash+"/>"+this.endline(r,s,l));else if(s.pretty&&d===1&&(a.type===e.Text||a.type===e.Raw)&&a.value!=null)A+=">",s.state=i.InsideTag,s.suppressPrettyCount++,_=!0,A+=this.writeChildNode(a,s,l+1),s.suppressPrettyCount--,_=!1,s.state=i.CloseTag,A+="</"+r.name+">"+this.endline(r,s,l);else{if(s.dontPrettyTextNodes){for(w=r.children,u=0,p=w.length;u<p;u++)if(c=w[u],(c.type===e.Text||c.type===e.Raw)&&c.value!=null){s.suppressPrettyCount++,_=!0;break}}for(A+=">"+this.endline(r,s,l),s.state=i.InsideTag,I=r.children,h=0,b=I.length;h<b;h++)c=I[h],A+=this.writeChildNode(c,s,l+1);s.state=i.CloseTag,A+=this.indent(r,s,l)+"</"+r.name+">",_&&s.suppressPrettyCount--,A+=this.endline(r,s,l),s.state=i.None}return this.closeNode(r,s,l),A},o.prototype.writeChildNode=function(r,s,l){switch(r.type){case e.CData:return this.cdata(r,s,l);case e.Comment:return this.comment(r,s,l);case e.Element:return this.element(r,s,l);case e.Raw:return this.raw(r,s,l);case e.Text:return this.text(r,s,l);case e.ProcessingInstruction:return this.processingInstruction(r,s,l);case e.Dummy:return"";case e.Declaration:return this.declaration(r,s,l);case e.DocType:return this.docType(r,s,l);case e.AttributeDeclaration:return this.dtdAttList(r,s,l);case e.ElementDeclaration:return this.dtdElement(r,s,l);case e.EntityDeclaration:return this.dtdEntity(r,s,l);case e.NotationDeclaration:return this.dtdNotation(r,s,l);default:throw new Error("Unknown XML node type: "+r.constructor.name)}},o.prototype.processingInstruction=function(r,s,l){var f;return this.openNode(r,s,l),s.state=i.OpenTag,f=this.indent(r,s,l)+"<?",s.state=i.InsideTag,f+=r.target,r.value&&(f+=" "+r.value),s.state=i.CloseTag,f+=s.spaceBeforeSlash+"?>",f+=this.endline(r,s,l),s.state=i.None,this.closeNode(r,s,l),f},o.prototype.raw=function(r,s,l){var f;return this.openNode(r,s,l),s.state=i.OpenTag,f=this.indent(r,s,l),s.state=i.InsideTag,f+=r.value,s.state=i.CloseTag,f+=this.endline(r,s,l),s.state=i.None,this.closeNode(r,s,l),f},o.prototype.text=function(r,s,l){var f;return this.openNode(r,s,l),s.state=i.OpenTag,f=this.indent(r,s,l),s.state=i.InsideTag,f+=r.value,s.state=i.CloseTag,f+=this.endline(r,s,l),s.state=i.None,this.closeNode(r,s,l),f},o.prototype.dtdAttList=function(r,s,l){var f;return this.openNode(r,s,l),s.state=i.OpenTag,f=this.indent(r,s,l)+"<!ATTLIST",s.state=i.InsideTag,f+=" "+r.elementName+" "+r.attributeName+" "+r.attributeType,r.defaultValueType!=="#DEFAULT"&&(f+=" "+r.defaultValueType),r.defaultValue&&(f+=' "'+r.defaultValue+'"'),s.state=i.CloseTag,f+=s.spaceBeforeSlash+">"+this.endline(r,s,l),s.state=i.None,this.closeNode(r,s,l),f},o.prototype.dtdElement=function(r,s,l){var f;return this.openNode(r,s,l),s.state=i.OpenTag,f=this.indent(r,s,l)+"<!ELEMENT",s.state=i.InsideTag,f+=" "+r.name+" "+r.value,s.state=i.CloseTag,f+=s.spaceBeforeSlash+">"+this.endline(r,s,l),s.state=i.None,this.closeNode(r,s,l),f},o.prototype.dtdEntity=function(r,s,l){var f;return this.openNode(r,s,l),s.state=i.OpenTag,f=this.indent(r,s,l)+"<!ENTITY",s.state=i.InsideTag,r.pe&&(f+=" %"),f+=" "+r.name,r.value?f+=' "'+r.value+'"':(r.pubID&&r.sysID?f+=' PUBLIC "'+r.pubID+'" "'+r.sysID+'"':r.sysID&&(f+=' SYSTEM "'+r.sysID+'"'),r.nData&&(f+=" NDATA "+r.nData)),s.state=i.CloseTag,f+=s.spaceBeforeSlash+">"+this.endline(r,s,l),s.state=i.None,this.closeNode(r,s,l),f},o.prototype.dtdNotation=function(r,s,l){var f;return this.openNode(r,s,l),s.state=i.OpenTag,f=this.indent(r,s,l)+"<!NOTATION",s.state=i.InsideTag,f+=" "+r.name,r.pubID&&r.sysID?f+=' PUBLIC "'+r.pubID+'" "'+r.sysID+'"':r.pubID?f+=' PUBLIC "'+r.pubID+'"':r.sysID&&(f+=' SYSTEM "'+r.sysID+'"'),s.state=i.CloseTag,f+=s.spaceBeforeSlash+">"+this.endline(r,s,l),s.state=i.None,this.closeNode(r,s,l),f},o.prototype.openNode=function(r,s,l){},o.prototype.closeNode=function(r,s,l){},o.prototype.openAttribute=function(r,s,l){},o.prototype.closeAttribute=function(r,s,l){},o}()}.call(G)),Rr.exports}var Ds;function Fo(){return Ds||(Ds=1,function(){var e,i=function(n,o){for(var r in o)t.call(o,r)&&(n[r]=o[r]);function s(){this.constructor=n}return s.prototype=o.prototype,n.prototype=new s,n.__super__=o.prototype,n},t={}.hasOwnProperty;e=Yl(),Dr.exports=function(n){i(o,n);function o(r){o.__super__.constructor.call(this,r)}return o.prototype.document=function(r,s){var l,f,c,d,a;for(s=this.filterOptions(s),d="",a=r.children,f=0,c=a.length;f<c;f++)l=a[f],d+=this.writeChildNode(l,s,0);return s.pretty&&d.slice(-s.newline.length)===s.newline&&(d=d.slice(0,-s.newline.length)),d},o}(e)}.call(G)),Dr.exports}var Rs;function Jl(){return Rs||(Rs=1,function(){var e,i,t,n,o,r,s,l=function(c,d){for(var a in d)f.call(d,a)&&(c[a]=d[a]);function u(){this.constructor=c}return u.prototype=d.prototype,c.prototype=new u,c.__super__=d.prototype,c},f={}.hasOwnProperty;s=Xe().isPlainObject,t=Vl(),i=Jh(),n=ve(),e=oe(),r=zl(),o=Fo(),ar.exports=function(c){l(d,c);function d(a){d.__super__.constructor.call(this,null),this.name="#document",this.type=e.Document,this.documentURI=null,this.domConfig=new i,a||(a={}),a.writer||(a.writer=new o),this.options=a,this.stringify=new r(a)}return Object.defineProperty(d.prototype,"implementation",{value:new t}),Object.defineProperty(d.prototype,"doctype",{get:function(){var a,u,h,p;for(p=this.children,u=0,h=p.length;u<h;u++)if(a=p[u],a.type===e.DocType)return a;return null}}),Object.defineProperty(d.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(d.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(d.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(d.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].encoding:null}}),Object.defineProperty(d.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(d.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(d.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(d.prototype,"origin",{get:function(){return null}}),Object.defineProperty(d.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(d.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(d.prototype,"contentType",{get:function(){return null}}),d.prototype.end=function(a){var u;return u={},a?s(a)&&(u=a,a=this.options.writer):a=this.options.writer,a.document(this,a.filterOptions(u))},d.prototype.toString=function(a){return this.options.writer.document(this,this.options.writer.filterOptions(a))},d.prototype.createElement=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createTextNode=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createComment=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createCDATASection=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createProcessingInstruction=function(a,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createAttribute=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createEntityReference=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByTagName=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.importNode=function(a,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createElementNS=function(a,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createAttributeNS=function(a,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByTagNameNS=function(a,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementById=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.adoptNode=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.renameNode=function(a,u,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByClassName=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createEvent=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createNodeIterator=function(a,u,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createTreeWalker=function(a,u,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},d}(n)}.call(G)),ar.exports}var Mr={exports:{}},Ns;function $h(){return Ns||(Ns=1,function(){var e,i,t,n,o,r,s,l,f,c,d,a,u,h,p,b,E,_,A,g,w,I,C,R={}.hasOwnProperty;C=Xe(),w=C.isObject,g=C.isFunction,I=C.isPlainObject,A=C.getValue,e=oe(),a=Jl(),u=Io(),n=So(),o=Oo(),p=qo(),_=Po(),h=ko(),c=Co(),d=Mo(),r=Lo(),l=Do(),s=Ro(),f=No(),t=Xl(),E=zl(),b=Fo(),i=vn(),Mr.exports=function(){function S(m,L,q){var j;this.name="?xml",this.type=e.Document,m||(m={}),j={},m.writer?I(m.writer)&&(j=m.writer,m.writer=new b):m.writer=new b,this.options=m,this.writer=m.writer,this.writerOptions=this.writer.filterOptions(j),this.stringify=new E(m),this.onDataCallback=L||function(){},this.onEndCallback=q||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return S.prototype.createChildNode=function(m){var L,q,j,H,X,$,Y,Z;switch(m.type){case e.CData:this.cdata(m.value);break;case e.Comment:this.comment(m.value);break;case e.Element:j={},Y=m.attribs;for(q in Y)R.call(Y,q)&&(L=Y[q],j[q]=L.value);this.node(m.name,j);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(m.value);break;case e.Text:this.text(m.value);break;case e.ProcessingInstruction:this.instruction(m.target,m.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+m.constructor.name)}for(Z=m.children,X=0,$=Z.length;X<$;X++)H=Z[X],this.createChildNode(H),H.type===e.Element&&this.up();return this},S.prototype.dummy=function(){return this},S.prototype.node=function(m,L,q){var j;if(m==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(m));return this.openCurrent(),m=A(m),L==null&&(L={}),L=A(L),w(L)||(j=[L,q],q=j[0],L=j[1]),this.currentNode=new u(this,m,L),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,q!=null&&this.text(q),this},S.prototype.element=function(m,L,q){var j,H,X,$,Y,Z;if(this.currentNode&&this.currentNode.type===e.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(m)||w(m)||g(m))for($=this.options.noValidation,this.options.noValidation=!0,Z=new a(this.options).element("TEMP_ROOT"),Z.element(m),this.options.noValidation=$,Y=Z.children,H=0,X=Y.length;H<X;H++)j=Y[H],this.createChildNode(j),j.type===e.Element&&this.up();else this.node(m,L,q);return this},S.prototype.attribute=function(m,L){var q,j;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(m));if(m!=null&&(m=A(m)),w(m))for(q in m)R.call(m,q)&&(j=m[q],this.attribute(q,j));else g(L)&&(L=L.apply()),this.options.keepNullAttributes&&L==null?this.currentNode.attribs[m]=new t(this,m,""):L!=null&&(this.currentNode.attribs[m]=new t(this,m,L));return this},S.prototype.text=function(m){var L;return this.openCurrent(),L=new _(this,m),this.onData(this.writer.text(L,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.cdata=function(m){var L;return this.openCurrent(),L=new n(this,m),this.onData(this.writer.cdata(L,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.comment=function(m){var L;return this.openCurrent(),L=new o(this,m),this.onData(this.writer.comment(L,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.raw=function(m){var L;return this.openCurrent(),L=new p(this,m),this.onData(this.writer.raw(L,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.instruction=function(m,L){var q,j,H,X,$;if(this.openCurrent(),m!=null&&(m=A(m)),L!=null&&(L=A(L)),Array.isArray(m))for(q=0,X=m.length;q<X;q++)j=m[q],this.instruction(j);else if(w(m))for(j in m)R.call(m,j)&&(H=m[j],this.instruction(j,H));else g(L)&&(L=L.apply()),$=new h(this,m,L),this.onData(this.writer.processingInstruction($,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},S.prototype.declaration=function(m,L,q){var j;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return j=new c(this,m,L,q),this.onData(this.writer.declaration(j,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.doctype=function(m,L,q){if(this.openCurrent(),m==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new d(this,L,q),this.currentNode.rootNodeName=m,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},S.prototype.dtdElement=function(m,L){var q;return this.openCurrent(),q=new s(this,m,L),this.onData(this.writer.dtdElement(q,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.attList=function(m,L,q,j,H){var X;return this.openCurrent(),X=new r(this,m,L,q,j,H),this.onData(this.writer.dtdAttList(X,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.entity=function(m,L){var q;return this.openCurrent(),q=new l(this,!1,m,L),this.onData(this.writer.dtdEntity(q,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.pEntity=function(m,L){var q;return this.openCurrent(),q=new l(this,!0,m,L),this.onData(this.writer.dtdEntity(q,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.notation=function(m,L){var q;return this.openCurrent(),q=new f(this,m,L),this.onData(this.writer.dtdNotation(q,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},S.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},S.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},S.prototype.openNode=function(m){var L,q,j,H;if(!m.isOpen){if(!this.root&&this.currentLevel===0&&m.type===e.Element&&(this.root=m),q="",m.type===e.Element){this.writerOptions.state=i.OpenTag,q=this.writer.indent(m,this.writerOptions,this.currentLevel)+"<"+m.name,H=m.attribs;for(j in H)R.call(H,j)&&(L=H[j],q+=this.writer.attribute(L,this.writerOptions,this.currentLevel));q+=(m.children?">":"/>")+this.writer.endline(m,this.writerOptions,this.currentLevel),this.writerOptions.state=i.InsideTag}else this.writerOptions.state=i.OpenTag,q=this.writer.indent(m,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+m.rootNodeName,m.pubID&&m.sysID?q+=' PUBLIC "'+m.pubID+'" "'+m.sysID+'"':m.sysID&&(q+=' SYSTEM "'+m.sysID+'"'),m.children?(q+=" [",this.writerOptions.state=i.InsideTag):(this.writerOptions.state=i.CloseTag,q+=">"),q+=this.writer.endline(m,this.writerOptions,this.currentLevel);return this.onData(q,this.currentLevel),m.isOpen=!0}},S.prototype.closeNode=function(m){var L;if(!m.isClosed)return L="",this.writerOptions.state=i.CloseTag,m.type===e.Element?L=this.writer.indent(m,this.writerOptions,this.currentLevel)+"</"+m.name+">"+this.writer.endline(m,this.writerOptions,this.currentLevel):L=this.writer.indent(m,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(m,this.writerOptions,this.currentLevel),this.writerOptions.state=i.None,this.onData(L,this.currentLevel),m.isClosed=!0},S.prototype.onData=function(m,L){return this.documentStarted=!0,this.onDataCallback(m,L+1)},S.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},S.prototype.debugInfo=function(m){return m==null?"":"node: <"+m+">"},S.prototype.ele=function(){return this.element.apply(this,arguments)},S.prototype.nod=function(m,L,q){return this.node(m,L,q)},S.prototype.txt=function(m){return this.text(m)},S.prototype.dat=function(m){return this.cdata(m)},S.prototype.com=function(m){return this.comment(m)},S.prototype.ins=function(m,L){return this.instruction(m,L)},S.prototype.dec=function(m,L,q){return this.declaration(m,L,q)},S.prototype.dtd=function(m,L,q){return this.doctype(m,L,q)},S.prototype.e=function(m,L,q){return this.element(m,L,q)},S.prototype.n=function(m,L,q){return this.node(m,L,q)},S.prototype.t=function(m){return this.text(m)},S.prototype.d=function(m){return this.cdata(m)},S.prototype.c=function(m){return this.comment(m)},S.prototype.r=function(m){return this.raw(m)},S.prototype.i=function(m,L){return this.instruction(m,L)},S.prototype.att=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},S.prototype.a=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},S.prototype.ent=function(m,L){return this.entity(m,L)},S.prototype.pent=function(m,L){return this.pEntity(m,L)},S.prototype.not=function(m,L){return this.notation(m,L)},S}()}.call(G)),Mr.exports}var qr={exports:{}},Ms;function ed(){return Ms||(Ms=1,function(){var e,i,t,n=function(r,s){for(var l in s)o.call(s,l)&&(r[l]=s[l]);function f(){this.constructor=r}return f.prototype=s.prototype,r.prototype=new f,r.__super__=s.prototype,r},o={}.hasOwnProperty;e=oe(),t=Yl(),i=vn(),qr.exports=function(r){n(s,r);function s(l,f){this.stream=l,s.__super__.constructor.call(this,f)}return s.prototype.endline=function(l,f,c){return l.isLastRootNode&&f.state===i.CloseTag?"":s.__super__.endline.call(this,l,f,c)},s.prototype.document=function(l,f){var c,d,a,u,h,p,b,E,_;for(b=l.children,d=a=0,h=b.length;a<h;d=++a)c=b[d],c.isLastRootNode=d===l.children.length-1;for(f=this.filterOptions(f),E=l.children,_=[],u=0,p=E.length;u<p;u++)c=E[u],_.push(this.writeChildNode(c,f,0));return _},s.prototype.attribute=function(l,f,c){return this.stream.write(s.__super__.attribute.call(this,l,f,c))},s.prototype.cdata=function(l,f,c){return this.stream.write(s.__super__.cdata.call(this,l,f,c))},s.prototype.comment=function(l,f,c){return this.stream.write(s.__super__.comment.call(this,l,f,c))},s.prototype.declaration=function(l,f,c){return this.stream.write(s.__super__.declaration.call(this,l,f,c))},s.prototype.docType=function(l,f,c){var d,a,u,h;if(c||(c=0),this.openNode(l,f,c),f.state=i.OpenTag,this.stream.write(this.indent(l,f,c)),this.stream.write("<!DOCTYPE "+l.root().name),l.pubID&&l.sysID?this.stream.write(' PUBLIC "'+l.pubID+'" "'+l.sysID+'"'):l.sysID&&this.stream.write(' SYSTEM "'+l.sysID+'"'),l.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(l,f,c)),f.state=i.InsideTag,h=l.children,a=0,u=h.length;a<u;a++)d=h[a],this.writeChildNode(d,f,c+1);f.state=i.CloseTag,this.stream.write("]")}return f.state=i.CloseTag,this.stream.write(f.spaceBeforeSlash+">"),this.stream.write(this.endline(l,f,c)),f.state=i.None,this.closeNode(l,f,c)},s.prototype.element=function(l,f,c){var d,a,u,h,p,b,E,_,A;c||(c=0),this.openNode(l,f,c),f.state=i.OpenTag,this.stream.write(this.indent(l,f,c)+"<"+l.name),_=l.attribs;for(E in _)o.call(_,E)&&(d=_[E],this.attribute(d,f,c));if(u=l.children.length,h=u===0?null:l.children[0],u===0||l.children.every(function(g){return(g.type===e.Text||g.type===e.Raw)&&g.value===""}))f.allowEmpty?(this.stream.write(">"),f.state=i.CloseTag,this.stream.write("</"+l.name+">")):(f.state=i.CloseTag,this.stream.write(f.spaceBeforeSlash+"/>"));else if(f.pretty&&u===1&&(h.type===e.Text||h.type===e.Raw)&&h.value!=null)this.stream.write(">"),f.state=i.InsideTag,f.suppressPrettyCount++,this.writeChildNode(h,f,c+1),f.suppressPrettyCount--,f.state=i.CloseTag,this.stream.write("</"+l.name+">");else{for(this.stream.write(">"+this.endline(l,f,c)),f.state=i.InsideTag,A=l.children,p=0,b=A.length;p<b;p++)a=A[p],this.writeChildNode(a,f,c+1);f.state=i.CloseTag,this.stream.write(this.indent(l,f,c)+"</"+l.name+">")}return this.stream.write(this.endline(l,f,c)),f.state=i.None,this.closeNode(l,f,c)},s.prototype.processingInstruction=function(l,f,c){return this.stream.write(s.__super__.processingInstruction.call(this,l,f,c))},s.prototype.raw=function(l,f,c){return this.stream.write(s.__super__.raw.call(this,l,f,c))},s.prototype.text=function(l,f,c){return this.stream.write(s.__super__.text.call(this,l,f,c))},s.prototype.dtdAttList=function(l,f,c){return this.stream.write(s.__super__.dtdAttList.call(this,l,f,c))},s.prototype.dtdElement=function(l,f,c){return this.stream.write(s.__super__.dtdElement.call(this,l,f,c))},s.prototype.dtdEntity=function(l,f,c){return this.stream.write(s.__super__.dtdEntity.call(this,l,f,c))},s.prototype.dtdNotation=function(l,f,c){return this.stream.write(s.__super__.dtdNotation.call(this,l,f,c))},s}(t)}.call(G)),qr.exports}var qs;function td(){return qs||(qs=1,function(){var e,i,t,n,o,r,s,l,f,c;c=Xe(),l=c.assign,f=c.isFunction,t=Vl(),n=Jl(),o=$h(),s=Fo(),r=ed(),e=oe(),i=vn(),Fe.create=function(d,a,u,h){var p,b;if(d==null)throw new Error("Root element needs a name.");return h=l({},a,u,h),p=new n(h),b=p.element(d),h.headless||(p.declaration(h),(h.pubID!=null||h.sysID!=null)&&p.dtd(h)),b},Fe.begin=function(d,a,u){var h;return f(d)&&(h=[d,a],a=h[0],u=h[1],d={}),a?new o(d,a,u):new n(d)},Fe.stringWriter=function(d){return new s(d)},Fe.streamWriter=function(d,a){return new r(d,a)},Fe.implementation=new t,Fe.nodeType=e,Fe.writerState=i}.call(G)),Fe}var Ps;function id(){return Ps||(Ps=1,function(){var e,i,t,n,o,r={}.hasOwnProperty;e=td(),i=xo().defaults,n=function(s){return typeof s=="string"&&(s.indexOf("&")>=0||s.indexOf(">")>=0||s.indexOf("<")>=0)},o=function(s){return"<![CDATA["+t(s)+"]]>"},t=function(s){return s.replace("]]>","]]]]><![CDATA[>")},rr.Builder=function(){function s(l){var f,c,d;this.options={},c=i["0.2"];for(f in c)r.call(c,f)&&(d=c[f],this.options[f]=d);for(f in l)r.call(l,f)&&(d=l[f],this.options[f]=d)}return s.prototype.buildObject=function(l){var f,c,d,a,u;return f=this.options.attrkey,c=this.options.charkey,Object.keys(l).length===1&&this.options.rootName===i["0.2"].rootName?(u=Object.keys(l)[0],l=l[u]):u=this.options.rootName,d=function(h){return function(p,b){var E,_,A,g,w,I;if(typeof b!="object")h.options.cdata&&n(b)?p.raw(o(b)):p.txt(b);else if(Array.isArray(b)){for(g in b)if(r.call(b,g)){_=b[g];for(w in _)A=_[w],p=d(p.ele(w),A).up()}}else for(w in b)if(r.call(b,w))if(_=b[w],w===f){if(typeof _=="object")for(E in _)I=_[E],p=p.att(E,I)}else if(w===c)h.options.cdata&&n(_)?p=p.raw(o(_)):p=p.txt(_);else if(Array.isArray(_))for(g in _)r.call(_,g)&&(A=_[g],typeof A=="string"?h.options.cdata&&n(A)?p=p.ele(w).raw(o(A)).up():p=p.ele(w,A).up():p=d(p.ele(w),A).up());else typeof _=="object"?p=d(p.ele(w),_).up():typeof _=="string"&&h.options.cdata&&n(_)?p=p.ele(w).raw(o(_)).up():(_==null&&(_=""),p=p.ele(w,_.toString()).up());return p}}(this),a=e.create(u,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),d(a,l).end(this.options.renderOpts)},s}()}.call(G)),rr}var Pr={},kr={},ks;function nd(){return ks||(ks=1,function(e){(function(i){i.parser=function(y,v){return new n(y,v)},i.SAXParser=n,i.SAXStream=d,i.createStream=c,i.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];i.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(y,v){if(!(this instanceof n))return new n(y,v);var D=this;r(D),D.q=D.c="",D.bufferCheckPosition=i.MAX_BUFFER_LENGTH,D.opt=v||{},D.opt.lowercase=D.opt.lowercase||D.opt.lowercasetags,D.looseCase=D.opt.lowercase?"toLowerCase":"toUpperCase",D.tags=[],D.closed=D.closedRoot=D.sawRoot=!1,D.tag=D.error=null,D.strict=!!y,D.noscript=!!(y||D.opt.noscript),D.state=m.BEGIN,D.strictEntities=D.opt.strictEntities,D.ENTITIES=D.strictEntities?Object.create(i.XML_ENTITIES):Object.create(i.ENTITIES),D.attribList=[],D.opt.xmlns&&(D.ns=Object.create(b)),D.trackPosition=D.opt.position!==!1,D.trackPosition&&(D.position=D.line=D.column=0),q(D,"onready")}Object.create||(Object.create=function(y){function v(){}v.prototype=y;var D=new v;return D}),Object.keys||(Object.keys=function(y){var v=[];for(var D in y)y.hasOwnProperty(D)&&v.push(D);return v});function o(y){for(var v=Math.max(i.MAX_BUFFER_LENGTH,10),D=0,O=0,x=t.length;O<x;O++){var T=y[t[O]].length;if(T>v)switch(t[O]){case"textNode":H(y);break;case"cdata":j(y,"oncdata",y.cdata),y.cdata="";break;case"script":j(y,"onscript",y.script),y.script="";break;default:$(y,"Max buffer length exceeded: "+t[O])}D=Math.max(D,T)}var P=i.MAX_BUFFER_LENGTH-D;y.bufferCheckPosition=P+y.position}function r(y){for(var v=0,D=t.length;v<D;v++)y[t[v]]=""}function s(y){H(y),y.cdata!==""&&(j(y,"oncdata",y.cdata),y.cdata=""),y.script!==""&&(j(y,"onscript",y.script),y.script="")}n.prototype={end:function(){Y(this)},write:M,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var l;try{l=_o.Stream}catch{l=function(){}}var f=i.EVENTS.filter(function(y){return y!=="error"&&y!=="end"});function c(y,v){return new d(y,v)}function d(y,v){if(!(this instanceof d))return new d(y,v);l.apply(this),this._parser=new n(y,v),this.writable=!0,this.readable=!0;var D=this;this._parser.onend=function(){D.emit("end")},this._parser.onerror=function(O){D.emit("error",O),D._parser.error=null},this._decoder=null,f.forEach(function(O){Object.defineProperty(D,"on"+O,{get:function(){return D._parser["on"+O]},set:function(x){if(!x)return D.removeAllListeners(O),D._parser["on"+O]=x,x;D.on(O,x)},enumerable:!0,configurable:!1})})}d.prototype=Object.create(l.prototype,{constructor:{value:d}}),d.prototype.write=function(y){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(y)){if(!this._decoder){var v=Kr().StringDecoder;this._decoder=new v("utf8")}y=this._decoder.write(y)}return this._parser.write(y.toString()),this.emit("data",y),!0},d.prototype.end=function(y){return y&&y.length&&this.write(y),this._parser.end(),!0},d.prototype.on=function(y,v){var D=this;return!D._parser["on"+y]&&f.indexOf(y)!==-1&&(D._parser["on"+y]=function(){var O=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);O.splice(0,0,y),D.emit.apply(D,O)}),l.prototype.on.call(D,y,v)};var a="[CDATA[",u="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",b={xml:h,xmlns:p},E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,A=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function w(y){return y===" "||y===`
`||y==="\r"||y==="	"}function I(y){return y==='"'||y==="'"}function C(y){return y===">"||w(y)}function R(y,v){return y.test(v)}function S(y,v){return!R(y,v)}var m=0;i.STATE={BEGIN:m++,BEGIN_WHITESPACE:m++,TEXT:m++,TEXT_ENTITY:m++,OPEN_WAKA:m++,SGML_DECL:m++,SGML_DECL_QUOTED:m++,DOCTYPE:m++,DOCTYPE_QUOTED:m++,DOCTYPE_DTD:m++,DOCTYPE_DTD_QUOTED:m++,COMMENT_STARTING:m++,COMMENT:m++,COMMENT_ENDING:m++,COMMENT_ENDED:m++,CDATA:m++,CDATA_ENDING:m++,CDATA_ENDING_2:m++,PROC_INST:m++,PROC_INST_BODY:m++,PROC_INST_ENDING:m++,OPEN_TAG:m++,OPEN_TAG_SLASH:m++,ATTRIB:m++,ATTRIB_NAME:m++,ATTRIB_NAME_SAW_WHITE:m++,ATTRIB_VALUE:m++,ATTRIB_VALUE_QUOTED:m++,ATTRIB_VALUE_CLOSED:m++,ATTRIB_VALUE_UNQUOTED:m++,ATTRIB_VALUE_ENTITY_Q:m++,ATTRIB_VALUE_ENTITY_U:m++,CLOSE_TAG:m++,CLOSE_TAG_SAW_WHITE:m++,SCRIPT:m++,SCRIPT_ENDING:m++},i.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},i.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(i.ENTITIES).forEach(function(y){var v=i.ENTITIES[y],D=typeof v=="number"?String.fromCharCode(v):v;i.ENTITIES[y]=D});for(var L in i.STATE)i.STATE[i.STATE[L]]=L;m=i.STATE;function q(y,v,D){y[v]&&y[v](D)}function j(y,v,D){y.textNode&&H(y),q(y,v,D)}function H(y){y.textNode=X(y.opt,y.textNode),y.textNode&&q(y,"ontext",y.textNode),y.textNode=""}function X(y,v){return y.trim&&(v=v.trim()),y.normalize&&(v=v.replace(/\s+/g," ")),v}function $(y,v){return H(y),y.trackPosition&&(v+=`
Line: `+y.line+`
Column: `+y.column+`
Char: `+y.c),v=new Error(v),y.error=v,q(y,"onerror",v),y}function Y(y){return y.sawRoot&&!y.closedRoot&&Z(y,"Unclosed root tag"),y.state!==m.BEGIN&&y.state!==m.BEGIN_WHITESPACE&&y.state!==m.TEXT&&$(y,"Unexpected end"),H(y),y.c="",y.closed=!0,q(y,"onend"),n.call(y,y.strict,y.opt),y}function Z(y,v){if(typeof y!="object"||!(y instanceof n))throw new Error("bad call to strictFail");y.strict&&$(y,v)}function Dt(y){y.strict||(y.tagName=y.tagName[y.looseCase]());var v=y.tags[y.tags.length-1]||y,D=y.tag={name:y.tagName,attributes:{}};y.opt.xmlns&&(D.ns=v.ns),y.attribList.length=0,j(y,"onopentagstart",D)}function Te(y,v){var D=y.indexOf(":"),O=D<0?["",y]:y.split(":"),x=O[0],T=O[1];return v&&y==="xmlns"&&(x="xmlns",T=""),{prefix:x,local:T}}function We(y){if(y.strict||(y.attribName=y.attribName[y.looseCase]()),y.attribList.indexOf(y.attribName)!==-1||y.tag.attributes.hasOwnProperty(y.attribName)){y.attribName=y.attribValue="";return}if(y.opt.xmlns){var v=Te(y.attribName,!0),D=v.prefix,O=v.local;if(D==="xmlns")if(O==="xml"&&y.attribValue!==h)Z(y,"xml: prefix must be bound to "+h+`
Actual: `+y.attribValue);else if(O==="xmlns"&&y.attribValue!==p)Z(y,"xmlns: prefix must be bound to "+p+`
Actual: `+y.attribValue);else{var x=y.tag,T=y.tags[y.tags.length-1]||y;x.ns===T.ns&&(x.ns=Object.create(T.ns)),x.ns[O]=y.attribValue}y.attribList.push([y.attribName,y.attribValue])}else y.tag.attributes[y.attribName]=y.attribValue,j(y,"onattribute",{name:y.attribName,value:y.attribValue});y.attribName=y.attribValue=""}function Ae(y,v){if(y.opt.xmlns){var D=y.tag,O=Te(y.tagName);D.prefix=O.prefix,D.local=O.local,D.uri=D.ns[O.prefix]||"",D.prefix&&!D.uri&&(Z(y,"Unbound namespace prefix: "+JSON.stringify(y.tagName)),D.uri=O.prefix);var x=y.tags[y.tags.length-1]||y;D.ns&&x.ns!==D.ns&&Object.keys(D.ns).forEach(function(ni){j(y,"onopennamespace",{prefix:ni,uri:D.ns[ni]})});for(var T=0,P=y.attribList.length;T<P;T++){var B=y.attribList[T],Q=B[0],W=B[1],V=Te(Q,!0),fe=V.prefix,Mt=V.local,ti=fe===""?"":D.ns[fe]||"",ii={name:Q,value:W,prefix:fe,local:Mt,uri:ti};fe&&fe!=="xmlns"&&!ti&&(Z(y,"Unbound namespace prefix: "+JSON.stringify(fe)),ii.uri=fe),y.tag.attributes[Q]=ii,j(y,"onattribute",ii)}y.attribList.length=0}y.tag.isSelfClosing=!!v,y.sawRoot=!0,y.tags.push(y.tag),j(y,"onopentag",y.tag),v||(!y.noscript&&y.tagName.toLowerCase()==="script"?y.state=m.SCRIPT:y.state=m.TEXT,y.tag=null,y.tagName=""),y.attribName=y.attribValue="",y.attribList.length=0}function ze(y){if(!y.tagName){Z(y,"Weird empty close tag."),y.textNode+="</>",y.state=m.TEXT;return}if(y.script){if(y.tagName!=="script"){y.script+="</"+y.tagName+">",y.tagName="",y.state=m.SCRIPT;return}j(y,"onscript",y.script),y.script=""}var v=y.tags.length,D=y.tagName;y.strict||(D=D[y.looseCase]());for(var O=D;v--;){var x=y.tags[v];if(x.name!==O)Z(y,"Unexpected close tag");else break}if(v<0){Z(y,"Unmatched closing tag: "+y.tagName),y.textNode+="</"+y.tagName+">",y.state=m.TEXT;return}y.tagName=D;for(var T=y.tags.length;T-- >v;){var P=y.tag=y.tags.pop();y.tagName=y.tag.name,j(y,"onclosetag",y.tagName);var B={};for(var Q in P.ns)B[Q]=P.ns[Q];var W=y.tags[y.tags.length-1]||y;y.opt.xmlns&&P.ns!==W.ns&&Object.keys(P.ns).forEach(function(V){var fe=P.ns[V];j(y,"onclosenamespace",{prefix:V,uri:fe})})}v===0&&(y.closedRoot=!0),y.tagName=y.attribValue=y.attribName="",y.attribList.length=0,y.state=m.TEXT}function qe(y){var v=y.entity,D=v.toLowerCase(),O,x="";return y.ENTITIES[v]?y.ENTITIES[v]:y.ENTITIES[D]?y.ENTITIES[D]:(v=D,v.charAt(0)==="#"&&(v.charAt(1)==="x"?(v=v.slice(2),O=parseInt(v,16),x=O.toString(16)):(v=v.slice(1),O=parseInt(v,10),x=O.toString(10))),v=v.replace(/^0+/,""),isNaN(O)||x.toLowerCase()!==v?(Z(y,"Invalid character entity"),"&"+y.entity+";"):String.fromCodePoint(O))}function Rt(y,v){v==="<"?(y.state=m.OPEN_WAKA,y.startTagPosition=y.position):w(v)||(Z(y,"Non-whitespace before first tag."),y.textNode=v,y.state=m.TEXT)}function Nt(y,v){var D="";return v<y.length&&(D=y.charAt(v)),D}function M(y){var v=this;if(this.error)throw this.error;if(v.closed)return $(v,"Cannot write after close. Assign an onready handler.");if(y===null)return Y(v);typeof y=="object"&&(y=y.toString());for(var D=0,O="";O=Nt(y,D++),v.c=O,!!O;)switch(v.trackPosition&&(v.position++,O===`
`?(v.line++,v.column=0):v.column++),v.state){case m.BEGIN:if(v.state=m.BEGIN_WHITESPACE,O==="\uFEFF")continue;Rt(v,O);continue;case m.BEGIN_WHITESPACE:Rt(v,O);continue;case m.TEXT:if(v.sawRoot&&!v.closedRoot){for(var x=D-1;O&&O!=="<"&&O!=="&";)O=Nt(y,D++),O&&v.trackPosition&&(v.position++,O===`
`?(v.line++,v.column=0):v.column++);v.textNode+=y.substring(x,D-1)}O==="<"&&!(v.sawRoot&&v.closedRoot&&!v.strict)?(v.state=m.OPEN_WAKA,v.startTagPosition=v.position):(!w(O)&&(!v.sawRoot||v.closedRoot)&&Z(v,"Text data outside of root node."),O==="&"?v.state=m.TEXT_ENTITY:v.textNode+=O);continue;case m.SCRIPT:O==="<"?v.state=m.SCRIPT_ENDING:v.script+=O;continue;case m.SCRIPT_ENDING:O==="/"?v.state=m.CLOSE_TAG:(v.script+="<"+O,v.state=m.SCRIPT);continue;case m.OPEN_WAKA:if(O==="!")v.state=m.SGML_DECL,v.sgmlDecl="";else if(!w(O))if(R(E,O))v.state=m.OPEN_TAG,v.tagName=O;else if(O==="/")v.state=m.CLOSE_TAG,v.tagName="";else if(O==="?")v.state=m.PROC_INST,v.procInstName=v.procInstBody="";else{if(Z(v,"Unencoded <"),v.startTagPosition+1<v.position){var T=v.position-v.startTagPosition;O=new Array(T).join(" ")+O}v.textNode+="<"+O,v.state=m.TEXT}continue;case m.SGML_DECL:(v.sgmlDecl+O).toUpperCase()===a?(j(v,"onopencdata"),v.state=m.CDATA,v.sgmlDecl="",v.cdata=""):v.sgmlDecl+O==="--"?(v.state=m.COMMENT,v.comment="",v.sgmlDecl=""):(v.sgmlDecl+O).toUpperCase()===u?(v.state=m.DOCTYPE,(v.doctype||v.sawRoot)&&Z(v,"Inappropriately located doctype declaration"),v.doctype="",v.sgmlDecl=""):O===">"?(j(v,"onsgmldeclaration",v.sgmlDecl),v.sgmlDecl="",v.state=m.TEXT):(I(O)&&(v.state=m.SGML_DECL_QUOTED),v.sgmlDecl+=O);continue;case m.SGML_DECL_QUOTED:O===v.q&&(v.state=m.SGML_DECL,v.q=""),v.sgmlDecl+=O;continue;case m.DOCTYPE:O===">"?(v.state=m.TEXT,j(v,"ondoctype",v.doctype),v.doctype=!0):(v.doctype+=O,O==="["?v.state=m.DOCTYPE_DTD:I(O)&&(v.state=m.DOCTYPE_QUOTED,v.q=O));continue;case m.DOCTYPE_QUOTED:v.doctype+=O,O===v.q&&(v.q="",v.state=m.DOCTYPE);continue;case m.DOCTYPE_DTD:v.doctype+=O,O==="]"?v.state=m.DOCTYPE:I(O)&&(v.state=m.DOCTYPE_DTD_QUOTED,v.q=O);continue;case m.DOCTYPE_DTD_QUOTED:v.doctype+=O,O===v.q&&(v.state=m.DOCTYPE_DTD,v.q="");continue;case m.COMMENT:O==="-"?v.state=m.COMMENT_ENDING:v.comment+=O;continue;case m.COMMENT_ENDING:O==="-"?(v.state=m.COMMENT_ENDED,v.comment=X(v.opt,v.comment),v.comment&&j(v,"oncomment",v.comment),v.comment=""):(v.comment+="-"+O,v.state=m.COMMENT);continue;case m.COMMENT_ENDED:O!==">"?(Z(v,"Malformed comment"),v.comment+="--"+O,v.state=m.COMMENT):v.state=m.TEXT;continue;case m.CDATA:O==="]"?v.state=m.CDATA_ENDING:v.cdata+=O;continue;case m.CDATA_ENDING:O==="]"?v.state=m.CDATA_ENDING_2:(v.cdata+="]"+O,v.state=m.CDATA);continue;case m.CDATA_ENDING_2:O===">"?(v.cdata&&j(v,"oncdata",v.cdata),j(v,"onclosecdata"),v.cdata="",v.state=m.TEXT):O==="]"?v.cdata+="]":(v.cdata+="]]"+O,v.state=m.CDATA);continue;case m.PROC_INST:O==="?"?v.state=m.PROC_INST_ENDING:w(O)?v.state=m.PROC_INST_BODY:v.procInstName+=O;continue;case m.PROC_INST_BODY:if(!v.procInstBody&&w(O))continue;O==="?"?v.state=m.PROC_INST_ENDING:v.procInstBody+=O;continue;case m.PROC_INST_ENDING:O===">"?(j(v,"onprocessinginstruction",{name:v.procInstName,body:v.procInstBody}),v.procInstName=v.procInstBody="",v.state=m.TEXT):(v.procInstBody+="?"+O,v.state=m.PROC_INST_BODY);continue;case m.OPEN_TAG:R(_,O)?v.tagName+=O:(Dt(v),O===">"?Ae(v):O==="/"?v.state=m.OPEN_TAG_SLASH:(w(O)||Z(v,"Invalid character in tag name"),v.state=m.ATTRIB));continue;case m.OPEN_TAG_SLASH:O===">"?(Ae(v,!0),ze(v)):(Z(v,"Forward-slash in opening tag not followed by >"),v.state=m.ATTRIB);continue;case m.ATTRIB:if(w(O))continue;O===">"?Ae(v):O==="/"?v.state=m.OPEN_TAG_SLASH:R(E,O)?(v.attribName=O,v.attribValue="",v.state=m.ATTRIB_NAME):Z(v,"Invalid attribute name");continue;case m.ATTRIB_NAME:O==="="?v.state=m.ATTRIB_VALUE:O===">"?(Z(v,"Attribute without value"),v.attribValue=v.attribName,We(v),Ae(v)):w(O)?v.state=m.ATTRIB_NAME_SAW_WHITE:R(_,O)?v.attribName+=O:Z(v,"Invalid attribute name");continue;case m.ATTRIB_NAME_SAW_WHITE:if(O==="=")v.state=m.ATTRIB_VALUE;else{if(w(O))continue;Z(v,"Attribute without value"),v.tag.attributes[v.attribName]="",v.attribValue="",j(v,"onattribute",{name:v.attribName,value:""}),v.attribName="",O===">"?Ae(v):R(E,O)?(v.attribName=O,v.state=m.ATTRIB_NAME):(Z(v,"Invalid attribute name"),v.state=m.ATTRIB)}continue;case m.ATTRIB_VALUE:if(w(O))continue;I(O)?(v.q=O,v.state=m.ATTRIB_VALUE_QUOTED):(Z(v,"Unquoted attribute value"),v.state=m.ATTRIB_VALUE_UNQUOTED,v.attribValue=O);continue;case m.ATTRIB_VALUE_QUOTED:if(O!==v.q){O==="&"?v.state=m.ATTRIB_VALUE_ENTITY_Q:v.attribValue+=O;continue}We(v),v.q="",v.state=m.ATTRIB_VALUE_CLOSED;continue;case m.ATTRIB_VALUE_CLOSED:w(O)?v.state=m.ATTRIB:O===">"?Ae(v):O==="/"?v.state=m.OPEN_TAG_SLASH:R(E,O)?(Z(v,"No whitespace between attributes"),v.attribName=O,v.attribValue="",v.state=m.ATTRIB_NAME):Z(v,"Invalid attribute name");continue;case m.ATTRIB_VALUE_UNQUOTED:if(!C(O)){O==="&"?v.state=m.ATTRIB_VALUE_ENTITY_U:v.attribValue+=O;continue}We(v),O===">"?Ae(v):v.state=m.ATTRIB;continue;case m.CLOSE_TAG:if(v.tagName)O===">"?ze(v):R(_,O)?v.tagName+=O:v.script?(v.script+="</"+v.tagName,v.tagName="",v.state=m.SCRIPT):(w(O)||Z(v,"Invalid tagname in closing tag"),v.state=m.CLOSE_TAG_SAW_WHITE);else{if(w(O))continue;S(E,O)?v.script?(v.script+="</"+O,v.state=m.SCRIPT):Z(v,"Invalid tagname in closing tag."):v.tagName=O}continue;case m.CLOSE_TAG_SAW_WHITE:if(w(O))continue;O===">"?ze(v):Z(v,"Invalid characters in closing tag");continue;case m.TEXT_ENTITY:case m.ATTRIB_VALUE_ENTITY_Q:case m.ATTRIB_VALUE_ENTITY_U:var P,B;switch(v.state){case m.TEXT_ENTITY:P=m.TEXT,B="textNode";break;case m.ATTRIB_VALUE_ENTITY_Q:P=m.ATTRIB_VALUE_QUOTED,B="attribValue";break;case m.ATTRIB_VALUE_ENTITY_U:P=m.ATTRIB_VALUE_UNQUOTED,B="attribValue";break}O===";"?(v[B]+=qe(v),v.entity="",v.state=P):R(v.entity.length?g:A,O)?v.entity+=O:(Z(v,"Invalid character in entity name"),v[B]+="&"+v.entity+O,v.entity="",v.state=P);continue;default:throw new Error(v,"Unknown state: "+v.state)}return v.position>=v.bufferCheckPosition&&o(v),v}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var y=String.fromCharCode,v=Math.floor,D=function(){var O=16384,x=[],T,P,B=-1,Q=arguments.length;if(!Q)return"";for(var W="";++B<Q;){var V=Number(arguments[B]);if(!isFinite(V)||V<0||V>1114111||v(V)!==V)throw RangeError("Invalid code point: "+V);V<=65535?x.push(V):(V-=65536,T=(V>>10)+55296,P=V%1024+56320,x.push(T,P)),(B+1===Q||x.length>O)&&(W+=y.apply(null,x),x.length=0)}return W};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:D,configurable:!0,writable:!0}):String.fromCodePoint=D}()})(e)}(kr)),kr}var Fr={},Fs;function rd(){return Fs||(Fs=1,function(){Fr.stripBOM=function(e){return e[0]==="\uFEFF"?e.substring(1):e}}.call(G)),Fr}var pt={},Bs;function Ql(){return Bs||(Bs=1,function(){var e;e=new RegExp(/(?!xmlns)^.*:/),pt.normalize=function(i){return i.toLowerCase()},pt.firstCharLowerCase=function(i){return i.charAt(0).toLowerCase()+i.slice(1)},pt.stripPrefix=function(i){return i.replace(e,"")},pt.parseNumbers=function(i){return isNaN(i)||(i=i%1===0?parseInt(i,10):parseFloat(i)),i},pt.parseBooleans=function(i){return/^(?:true|false)$/i.test(i)&&(i=i.toLowerCase()==="true"),i}}.call(G)),pt}var js;function od(){return js||(js=1,function(e){(function(){var i,t,n,o,r,s,l,f,c=function(u,h){return function(){return u.apply(h,arguments)}},d=function(u,h){for(var p in h)a.call(h,p)&&(u[p]=h[p]);function b(){this.constructor=u}return b.prototype=h.prototype,u.prototype=new b,u.__super__=h.prototype,u},a={}.hasOwnProperty;l=nd(),n=Ve,i=rd(),s=Ql(),f=Ve.setImmediate,t=xo().defaults,o=function(u){return typeof u=="object"&&u!=null&&Object.keys(u).length===0},r=function(u,h,p){var b,E,_;for(b=0,E=u.length;b<E;b++)_=u[b],h=_(h,p);return h},e.Parser=function(u){d(h,u);function h(p){this.parseStringPromise=c(this.parseStringPromise,this),this.parseString=c(this.parseString,this),this.reset=c(this.reset,this),this.assignOrPush=c(this.assignOrPush,this),this.processAsync=c(this.processAsync,this);var b,E,_;if(!(this instanceof e.Parser))return new e.Parser(p);this.options={},E=t["0.2"];for(b in E)a.call(E,b)&&(_=E[b],this.options[b]=_);for(b in p)a.call(p,b)&&(_=p[b],this.options[b]=_);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(s.normalize)),this.reset()}return h.prototype.processAsync=function(){var p,b;try{return this.remaining.length<=this.options.chunkSize?(p=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(p),this.saxParser.close()):(p=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(p),f(this.processAsync))}catch(E){if(b=E,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(b)}},h.prototype.assignOrPush=function(p,b,E){return b in p?(p[b]instanceof Array||(p[b]=[p[b]]),p[b].push(E)):this.options.explicitArray?p[b]=[E]:p[b]=E},h.prototype.reset=function(){var p,b,E,_;return this.removeAllListeners(),this.saxParser=l.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(A){return function(g){if(A.saxParser.resume(),!A.saxParser.errThrown)return A.saxParser.errThrown=!0,A.emit("error",g)}}(this),this.saxParser.onend=function(A){return function(){if(!A.saxParser.ended)return A.saxParser.ended=!0,A.emit("end",A.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,_=[],p=this.options.attrkey,b=this.options.charkey,this.saxParser.onopentag=function(A){return function(g){var w,I,C,R,S;if(C={},C[b]="",!A.options.ignoreAttrs){S=g.attributes;for(w in S)a.call(S,w)&&(!(p in C)&&!A.options.mergeAttrs&&(C[p]={}),I=A.options.attrValueProcessors?r(A.options.attrValueProcessors,g.attributes[w],w):g.attributes[w],R=A.options.attrNameProcessors?r(A.options.attrNameProcessors,w):w,A.options.mergeAttrs?A.assignOrPush(C,R,I):C[p][R]=I)}return C["#name"]=A.options.tagNameProcessors?r(A.options.tagNameProcessors,g.name):g.name,A.options.xmlns&&(C[A.options.xmlnskey]={uri:g.uri,local:g.local}),_.push(C)}}(this),this.saxParser.onclosetag=function(A){return function(){var g,w,I,C,R,S,m,L,q,j;if(S=_.pop(),R=S["#name"],(!A.options.explicitChildren||!A.options.preserveChildrenOrder)&&delete S["#name"],S.cdata===!0&&(g=S.cdata,delete S.cdata),q=_[_.length-1],S[b].match(/^\s*$/)&&!g?(w=S[b],delete S[b]):(A.options.trim&&(S[b]=S[b].trim()),A.options.normalize&&(S[b]=S[b].replace(/\s{2,}/g," ").trim()),S[b]=A.options.valueProcessors?r(A.options.valueProcessors,S[b],R):S[b],Object.keys(S).length===1&&b in S&&!A.EXPLICIT_CHARKEY&&(S=S[b])),o(S)&&(S=A.options.emptyTag!==""?A.options.emptyTag:w),A.options.validator!=null&&(j="/"+function(){var H,X,$;for($=[],H=0,X=_.length;H<X;H++)C=_[H],$.push(C["#name"]);return $}().concat(R).join("/"),function(){var H;try{return S=A.options.validator(j,q&&q[R],S)}catch(X){return H=X,A.emit("error",H)}}()),A.options.explicitChildren&&!A.options.mergeAttrs&&typeof S=="object"){if(!A.options.preserveChildrenOrder)C={},A.options.attrkey in S&&(C[A.options.attrkey]=S[A.options.attrkey],delete S[A.options.attrkey]),!A.options.charsAsChildren&&A.options.charkey in S&&(C[A.options.charkey]=S[A.options.charkey],delete S[A.options.charkey]),Object.getOwnPropertyNames(S).length>0&&(C[A.options.childkey]=S),S=C;else if(q){q[A.options.childkey]=q[A.options.childkey]||[],m={};for(I in S)a.call(S,I)&&(m[I]=S[I]);q[A.options.childkey].push(m),delete S["#name"],Object.keys(S).length===1&&b in S&&!A.EXPLICIT_CHARKEY&&(S=S[b])}}return _.length>0?A.assignOrPush(q,R,S):(A.options.explicitRoot&&(L=S,S={},S[R]=L),A.resultObject=S,A.saxParser.ended=!0,A.emit("end",A.resultObject))}}(this),E=function(A){return function(g){var w,I;if(I=_[_.length-1],I)return I[b]+=g,A.options.explicitChildren&&A.options.preserveChildrenOrder&&A.options.charsAsChildren&&(A.options.includeWhiteChars||g.replace(/\\n/g,"").trim()!=="")&&(I[A.options.childkey]=I[A.options.childkey]||[],w={"#name":"__text__"},w[b]=g,A.options.normalize&&(w[b]=w[b].replace(/\s{2,}/g," ").trim()),I[A.options.childkey].push(w)),I}}(this),this.saxParser.ontext=E,this.saxParser.oncdata=function(A){return function(g){var w;if(w=E(g),w)return w.cdata=!0}}()},h.prototype.parseString=function(p,b){var E;b!=null&&typeof b=="function"&&(this.on("end",function(_){return this.reset(),b(null,_)}),this.on("error",function(_){return this.reset(),b(_)}));try{return p=p.toString(),p.trim()===""?(this.emit("end",null),!0):(p=i.stripBOM(p),this.options.async?(this.remaining=p,f(this.processAsync),this.saxParser):this.saxParser.write(p).close())}catch(_){if(E=_,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw E}else return this.emit("error",E),this.saxParser.errThrown=!0}},h.prototype.parseStringPromise=function(p){return new Promise(function(b){return function(E,_){return b.parseString(p,function(A,g){return A?_(A):E(g)})}}(this))},h}(n),e.parseString=function(u,h,p){var b,E,_;return p!=null?(typeof p=="function"&&(b=p),typeof h=="object"&&(E=h)):(typeof h=="function"&&(b=h),E={}),_=new e.Parser(E),_.parseString(u,b)},e.parseStringPromise=function(u,h){var p,b;return typeof h=="object"&&(p=h),b=new e.Parser(p),b.parseStringPromise(u)}}).call(G)}(Pr)),Pr}var Kl;(function(){var e,i,t,n=function(r,s){for(var l in s)o.call(s,l)&&(r[l]=s[l]);function f(){this.constructor=r}return f.prototype=s.prototype,r.prototype=new f,r.__super__=s.prototype,r},o={}.hasOwnProperty;i=xo(),e=id(),t=od(),Ql(),i.defaults,function(r){n(s,r);function s(l){this.message=l}return s}(Error),e.Builder,t.Parser,Kl=t.parseString,t.parseStringPromise}).call(G);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function lt(e,i,t,n){function o(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function l(d){try{c(n.next(d))}catch(a){s(a)}}function f(d){try{c(n.throw(d))}catch(a){s(a)}}function c(d){d.done?r(d.value):o(d.value).then(l,f)}c((n=n.apply(e,i||[])).next())})}var Zt;(function(e){e.ELLIPSE="ellipse",e.POINT="point",e.POLYGON="polygon",e.RECTANGLE="rectangle"})(Zt||(Zt={}));var pe;(function(e){e.EDITOR_SETTINGS="editorsettings",e.GROUP="group",e.IMAGE_LAYER="imagelayer",e.LAYER="layer",e.OBJECT_GROUP="objectgroup",e.PROPERTIES="properties",e.TILESET="tileset"})(pe||(pe={}));var hn;(function(e){e.BASE64="base64",e.CSV="csv"})(hn||(hn={}));var wi;(function(e){e.GZIP="gzip",e.ZLIB="zlib"})(wi||(wi={}));var ot;(function(e){e[e.DIAGONALLY=536870912]="DIAGONALLY",e[e.HORIZONTALLY=2147483648]="HORIZONTALLY",e[e.VERTICALLY=1073741824]="VERTICALLY"})(ot||(ot={}));const Ze=e=>!!(e&&e.length>0),ad=e=>!!e.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z-]+=[a-z-]+)?)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i),sd=e=>lt(void 0,void 0,void 0,function*(){return new Promise(i=>{fetch(e).then(t=>t.text()).then(t=>i(t))})}),Us=(e,i)=>{const t=[];if(e.length!==i)throw new Error(`Expected ${i} bytes of tile data; received ${e.length}`);for(let n=0;n<i;n+=4)t.push(e.readUInt32LE(n));return t},Re=e=>e&&Object.entries(e).map(([i,t])=>({[i]:t})),An=e=>({properties:e&&Object.assign({},...e.map(({property:i})=>Object.assign({},...i.map(({$:{name:t,value:n},_:o})=>({[t]:n||o})))))||null}),$l=e=>({H:!!(e&ot.HORIZONTALLY),V:!!(e&ot.VERTICALLY),D:!!(e&ot.DIAGONALLY)}),eu=e=>e&=~(ot.HORIZONTALLY|ot.VERTICALLY|ot.DIAGONALLY),ld=e=>e.point&&Zt.POINT||e.ellipse&&Zt.ELLIPSE||e.polygon&&Zt.POLYGON||Zt.RECTANGLE,ud=e=>{if(e==="true")return!0;if(e==="false")return!1;if(`${e}`.match(/^[+-]?\d+(\.\d+)?$/g)){const i=parseFloat(e);return isNaN(i)?e:i}return e},fd=e=>lt(void 0,void 0,void 0,function*(){const i=ad(e)?yield sd(e):e;return new Promise(t=>Kl(i,{explicitChildren:!0,preserveChildrenOrder:!0,attrValueProcessors:[n=>ud(n)]},(n,o)=>{if(n)throw n;t(o)}))}),tu=e=>{const{$:i,properties:t,polygon:n,text:o}=e,r=Object.assign(Object.assign(Object.assign({shape:ld(e)},Ze(n)&&{points:n[0].$.points.split(" ").map(s=>{const[l,f]=s.split(",");return[parseFloat(l),parseFloat(f)]})}),An(t)),...Re(i));return o&&(r.text=o[0]._,r.properties=Object.assign({},r.properties,o[0].$)),r.gid&&(r.flips=$l(r.gid),r.gid=eu(r.gid)),r},cd=e=>{const{$:i,image:t,object:n,properties:o}=e;return Object.assign(Object.assign(Object.assign(Object.assign({type:e["#name"],visible:1},Ze(t)&&{image:Object.assign({},...Re(t[0].$))}),Ze(n)&&{objects:n.map(r=>tu(r))}),An(o)),...Re(i))},hd=e=>{const{$:i,animation:t,objectgroup:n}=e,o=Ze(n)&&n[0].object;return Object.assign(Object.assign(Object.assign({},Ze(t)&&{animation:{frames:t[0].frame.map(({$:r})=>Object.assign({},...Re(r)))}}),Ze(o)&&{objects:o.map(r=>tu(r))}),...Re(i))},dd=(e,i,t)=>lt(void 0,void 0,void 0,function*(){return Object.assign(Object.assign({type:e["#name"],layers:Ze(e.$$)?yield Promise.all(e.$$.map(n=>iu(n,i,t))):[]},An(e.properties)),...Re(e.$))}),pd=e=>{const{$:i,$$:t,tile:n}=e,o=t&&Object.assign({},...Re(t[0].$));if(o){const r=Ze(n)&&n.map(s=>hd(s));return Object.assign({},...Re(i),{image:o,tiles:r})}else throw new Error("Tilesets should be embeded in a map file.")};function _d(e,i,t){return lt(this,void 0,void 0,function*(){const{data:n,properties:o}=e;if(!Ze(n))throw new Error("TMXLayer data corrupted!");const r=Object.assign(Object.assign(Object.assign(Object.assign({},t?{flips:[]}:{}),{type:e["#name"],visible:1}),An(o)),...Re(e.$)),{_:s,$:l,tile:f}=n[0];if(f)r.data=f.map(({$:c})=>c&&c.gid||0);else{const{encoding:c,compression:d}=l,a=s.trim();switch(c){case hn.CSV:r.data=a.split(",");break;case hn.BASE64:const u=new Buffer(a,c);switch(d){case null:case void 0:r.data=Us(u,i);break;case wi.GZIP:case wi.ZLIB:const h=d===wi.GZIP?ts.gunzip:ts.inflate;r.data=yield new Promise((p,b)=>h(u,(E,_)=>{E&&b(E),p(Us(_,i))}));break;default:throw new Error(`unsupported compression: ${d}`)}}}return r.data.map((c,d)=>{t?(r.flips[d]=$l(c),r.data[d]=eu(c)):r.data[d]=c}),r})}const iu=(e,i,t)=>lt(void 0,void 0,void 0,function*(){switch(e["#name"]){case pe.GROUP:return yield dd(e,i,t);case pe.LAYER:return yield _d(e,i,t);case pe.IMAGE_LAYER:case pe.OBJECT_GROUP:return cd(e)}});function gd(e,i){return lt(this,void 0,void 0,function*(){const{map:{$:t,$$:n}}=yield fd(e),o=Object.assign({layers:[],tilesets:[],backgroundcolor:"",height:0,infinite:0,nextlayerid:0,nextobjectid:0,orientation:"",renderorder:"",tiledversion:"",tileheight:0,tilewidth:0,version:0,width:0,properties:void 0},...Re(t)),r=o.width*o.height*4;return yield Promise.all(n.map((s,l)=>lt(this,void 0,void 0,function*(){switch(s["#name"]){case pe.PROPERTIES:o.properties=Object.assign({},...s.$$.map(({$:{name:f,value:c}})=>({[f]:c})));break;case pe.EDITOR_SETTINGS:o.editorsettings=Object.assign({},...s.$$.map(f=>({[f["#name"]]:f.$})));break;case pe.TILESET:o.tilesets.push(pd(s));break;case pe.GROUP:case pe.IMAGE_LAYER:case pe.LAYER:case pe.OBJECT_GROUP:o.layers[l]=yield iu(s,r,i);break}}))),Object.assign(Object.assign({},o),{layers:Object.values(o.layers)})})}const md=(e,i=!1)=>lt(void 0,void 0,void 0,function*(){return yield gd(e,i)}),yd=`<?xml version="1.0" encoding="UTF-8"?>
<map version="1.5" tiledversion="1.7.1" orientation="orthogonal" renderorder="right-down" compressionlevel="0" width="189" height="32" tilewidth="16" tileheight="16" infinite="0" nextlayerid="21" nextobjectid="231">
 <tileset firstgid="1" name="tiles" tilewidth="16" tileheight="16" tilecount="192" columns="16">
  <image source="../images/tileset.png" width="256" height="192"/>
  <tile id="0" type="www" probability="6"/>
  <tile id="9" type="oneWay"/>
  <tile id="10" type="oneWay"/>
  <tile id="73" type="oneWay"/>
  <tile id="74" type="oneWay"/>
  <tile id="94" type="oneWay"/>
  <tile id="95" type="oneWay"/>
  <tile id="96" type="noCollide"/>
  <tile id="114" type="noCollide"/>
  <tile id="115" type="noCollide"/>
  <tile id="123" type="noCollide"/>
  <tile id="128" type="noCollide"/>
  <tile id="129" type="noCollide"/>
  <tile id="147" type="noCollide"/>
  <tile id="148" type="noCollide"/>
  <tile id="149" type="noCollide"/>
  <tile id="150" type="noCollide"/>
  <tile id="151" type="noCollide"/>
  <tile id="163">
   <animation>
    <frame tileid="163" duration="200"/>
    <frame tileid="164" duration="200"/>
    <frame tileid="165" duration="200"/>
    <frame tileid="164" duration="200"/>
   </animation>
  </tile>
  <tile id="166">
   <animation>
    <frame tileid="166" duration="300"/>
    <frame tileid="167" duration="300"/>
   </animation>
  </tile>
  <tile id="168">
   <animation>
    <frame tileid="168" duration="200"/>
    <frame tileid="169" duration="200"/>
    <frame tileid="170" duration="200"/>
    <frame tileid="169" duration="200"/>
   </animation>
  </tile>
  <tile id="176">
   <animation>
    <frame tileid="176" duration="100"/>
    <frame tileid="177" duration="100"/>
    <frame tileid="178" duration="100"/>
    <frame tileid="179" duration="100"/>
    <frame tileid="180" duration="100"/>
   </animation>
  </tile>
  <tile id="181">
   <animation>
    <frame tileid="181" duration="100"/>
    <frame tileid="182" duration="100"/>
    <frame tileid="183" duration="100"/>
    <frame tileid="184" duration="100"/>
    <frame tileid="185" duration="100"/>
    <frame tileid="184" duration="100"/>
    <frame tileid="183" duration="100"/>
    <frame tileid="182" duration="100"/>
    <frame tileid="181" duration="100"/>
   </animation>
  </tile>
  <tile id="186">
   <animation>
    <frame tileid="186" duration="100"/>
    <frame tileid="187" duration="100"/>
    <frame tileid="188" duration="100"/>
    <frame tileid="189" duration="100"/>
    <frame tileid="190" duration="100"/>
    <frame tileid="187" duration="100"/>
   </animation>
  </tile>
 </tileset>
 <layer id="1" name="background" width="189" height="32">
  <data encoding="base64" compression="zlib">
   eAHtWmeLFEEQPcyCOaIYTj1zjvjB7Jnwi4o5gYqIAQOYUfGjYsB/oIIY/qWv9qaWsqienTnOm9m5V/C2u6uru6vePJrbvenpoZEBMkAGyMBwMDAKh4wejoN4BhmoCQNjkIeARgaazsBYFDgOoOab/qRZn2VgPDVv6WB/hDDAe36EPGiW2WZANT+h7WGHDDSbAdX8xGaXyerIQJsB1XzbwQ4ZaDgD1HzDHzDLazEwyfBAzRsy2G0UA5NNNVPQnwpMA6h5Qwy7jWFgOiqZ4aqZifEsoIjm+X6CI4/DrmBAtB1ZEc0XiYn2po8MVMkANV8l+zy7CgbqoHn7naIKDnjmyGLgf2h+dgkKo+8UJZYzlAyUZsBrvsx7lbLWr5cEIl9eYmXj8/biHBnoxECkt7z3Kov8hh/tmZeHxM/JC+BcpQzMrfT0oT88pTfxR9rV3/AlE43xeo3WSbxwF/3dk4qXNbRqGPB3WzVZDN2pRepRPc/DsfPd0Z1+w09pOLVnKt4d2/XDBahgIbAIWFzzavRu0/9PRunugnM3sCeahK8XWAIsBZYBVZrWIzmk9Kb67MtJVGM0xH4XUJ9tNV737BRv13Z7fzkKWAGsBFYBq4E1QJ3N3m3R3XcCyZ8ETiWKWAv/OmB9Yn643bae6GzVZzSnvihGvwtE793nxeueRdteBNblDimS8wYEbQQ2AZuBLcBWoBtMnltfkOidzHc3mFPXNnS2AzvUUYNW6oks0qePS8WIP3rvPi/e791pXLc7pFO+exGwD9gPHAAOAmXteLAg8kmY9/txsFXSJc8tsg+Z82M0mfn60R4CDgP3Ml/VTaqelD5tvqmYsnum4u1ZUb+Od8gRJHoUOOYSPo3xGeAscA44D5S1W8GCyCdh3u/HwVZJV+r5vAlWXHC+ixhfAmSPT26uqmGqHvGn5iTXa9m8xFwXh7HUutSeqXizZdjth7dud8hl5HQFuOoyvo/xA0A5eIj+IxPjtWKm2t1It5FPFni/H7c3zel8xpw+58dZ3BO0T4FngNTyHHgBvATEbg80rc9X+HwNpGo2oaW7Rfiym940A8nHm9Ypc1LrT+AP8Bv4AdTFBnOHlOXK1ioa6GSi+S/AW8DrQ/j0eAffe8BqBcOW3cCnfVaZu2cnOgIxr+WvA+5//BqbTdWuEX2Jrn4FmWk9fsry9Q2T302A8CZ7SSv7NsUGe4fkcdUUblgHGSADZIAMkAEyQAbIABmoioG/uok95w==
  </data>
 </layer>
 <layer id="2" name="main" width="189" height="32">
  <data encoding="base64" compression="zlib">
   eAHt2EEKgkAUAFCJVnWBztQl6gYtCtq06ArduO/CUBmsEB0cn/AhTefPf/ORwapyECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAoCyBXZSzL6sk1RAgQIAAAQIEPgKxz3nW+506HAQIECCwTAHv8mWum1nPJ+DbznzWMo0XaPbm+na8pRHWK9DsjdYroHICBAgQIECgdIFD6QWqjwABAgQIEFitgO+i45f+GEMMRTvDr/e1n/GbAIF8AqdIfc6XXmYCBELgGrGdKAB3BR5xeulZ37q3fD3rr9cr8UQ/x1Trmxr333oS0x+81K8/NYec1wYnP8Ofm8hxj8hpIDd/PaAH9IAe0AN6QA/ogaX2wBsdyxja
  </data>
 </layer>
 <objectgroup id="3" name="objects">
  <properties>
   <property name="collide" type="bool" value="true"/>
  </properties>
  <object id="159" name="Player" type="player" x="16" y="400" width="53" height="53"/>
  <object id="20" name="bat" type="bat" x="2404" y="347" width="28" height="28"/>
  <object id="69" name="Spikes" type="spikes" x="1440" y="440" width="64" height="16"/>
  <object id="101" name="Spider trap" type="spider" x="1568" y="340" width="16" height="23">
   <properties>
    <property name="delay" value="800"/>
   </properties>
  </object>
  <object id="102" name="Spider trap" type="spider" x="2928" y="329" width="16" height="23">
   <properties>
    <property name="delay" value="800"/>
   </properties>
  </object>
  <object id="150" name="bat" type="bat" x="1888" y="352" width="28" height="28"/>
  <object id="165" name="bat" type="bat" x="944" y="368" width="28" height="28"/>
  <object id="177" name="Zombie emitter" type="emitter" x="608" y="456" width="96" height="16">
   <properties>
    <property name="max" type="int" value="3"/>
    <property name="volume" type="int" value="1"/>
   </properties>
  </object>
  <object id="178" name="Zombie emitter" type="emitter" x="2096" y="456" width="224" height="16">
   <properties>
    <property name="max" type="int" value="6"/>
    <property name="volume" type="int" value="2"/>
   </properties>
  </object>
  <object id="179" name="Zombie emitter" type="emitter" x="2736" y="424" width="224" height="16">
   <properties>
    <property name="max" type="int" value="6"/>
    <property name="volume" type="int" value="2"/>
   </properties>
  </object>
  <object id="181" name="Zombie emitter" type="emitter" x="2432" y="440" width="176" height="16">
   <properties>
    <property name="max" type="int" value="4"/>
    <property name="volume" type="int" value="1"/>
   </properties>
  </object>
  <object id="183" name="Zombie emitter" type="emitter" x="992" y="456" width="80" height="16">
   <properties>
    <property name="max" type="int" value="4"/>
    <property name="volume" type="int" value="1"/>
   </properties>
  </object>
  <object id="185" name="Zombie emitter" type="emitter" x="1232" y="456" width="80" height="16">
   <properties>
    <property name="max" type="int" value="2"/>
    <property name="volume" type="int" value="1"/>
   </properties>
  </object>
  <object id="187" name="Zombie emitter" type="emitter" x="1536" y="440" width="112" height="16">
   <properties>
    <property name="max" type="int" value="2"/>
    <property name="volume" type="int" value="1"/>
   </properties>
  </object>
  <object id="188" name="Zombie emitter" type="emitter" x="1792" y="440" width="192" height="16">
   <properties>
    <property name="max" type="int" value="2"/>
    <property name="volume" type="int" value="1"/>
   </properties>
  </object>
  <object id="220" name="Zombie emitter" type="emitter" x="352" y="472" width="64" height="16">
   <properties>
    <property name="max" type="int" value="4"/>
    <property name="volume" type="int" value="1"/>
   </properties>
  </object>
  <object id="222" name="Zombie emitter" type="emitter" x="112" y="472" width="64" height="16">
   <properties>
    <property name="max" type="int" value="2"/>
    <property name="volume" type="int" value="1"/>
   </properties>
  </object>
  <object id="227" type="item" gid="177" x="2512" y="144" width="16" height="16"/>
  <object id="228" type="item" gid="187" x="2384" y="256" width="16" height="16"/>
  <object id="229" type="item" gid="187" x="2400" y="256" width="16" height="16"/>
 </objectgroup>
 <layer id="4" name="foreground" width="189" height="32">
  <data encoding="base64" compression="zlib">
   eAHtlmtKQzEUhPuje/K1AHUPvsAq/hHBDfjYgW8XUBB36YzcKce0WuRSqvQLjMk5mSQ3X47iYECDAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEBgWQTOlnVwj3O3tXZH2u2xB0tXl8B/rPk9Pde+dDDn2Q41fzTHs4zpYx06kk6k9U7OjSX3bd7e+Dx+l96k5O0/lWjTBNaUqrztOJ+2/ZgJe7/Pxgynz7An5/h9/CaJPfZbOf6u5Yz0re9KietO/oZNaUtq240St22yZxyGvr/vkfvUe/q7Wzb1+4aaX4S07Z9ovn9+L/PuzpnXpZR6GHc+x/Z7PnP2Z20YO56VM2v7qxROWmXtZPZxX9fUfMb21/V3iu+lh9JfNJ7qX/RYR0+a7/IoPUkvjZ6b2POzcq/K11pV+OX+i77Pb/f3336/1UiqNTfu4tST52sdJTYze/PeWZd9M+/eHvdemzrW8LMN9RPBgBqgBqgBaoAaoAb61kD3rwUdBFaGwAd7sVJD
  </data>
 </layer>
</map>
`;class vd extends Vt{constructor(){super(...arguments);F(this,"id",te.FLASH)}draw(){const{ctx:t,resolution:n}=this.game;this.game.getCurrentScene().flash&&(t.fillStyle=dn.FLASH,t.fillRect(0,0,n.x,n.y))}}class Ad extends Vt{constructor(){super(...arguments);F(this,"id",te.CUSTOM_OVERLAY);F(this,"darkOverlay",1);F(this,"fadeSpeed",1);F(this,"fadeTo",0)}update(){const t=this.darkOverlay,n=this.game.delta;t!==0&&(t<0&&t+n<0||t>0&&t-n>0)&&(this.darkOverlay+=n*this.fadeSpeed*(t<0?1:-1))}draw(){const t=this.game,{ctx:n,resolution:o}=t,r=t.getCurrentScene(),s=t.draw.createPixelFontRenderer(t.getImage("font.png"),5,16),l=r.getObjectByType(J.PLAYER),f=l.energy[0]/10*4,[c,d]=l.ammo;n.drawImage(t.getImage("estrip.png"),2,2),n.drawImage(t.getImage("energy.png"),0,0,f,4,18,5,f,4),s("AMMO",o.x-25-d*3,o.y-9);for(let a=0;a<d;a++)n.drawImage(t.getImage("ammo.png"),a<c?0:3,0,4,8,o.x-7-a*3,o.y-11,4,8);Math.abs(this.darkOverlay)!==this.fadeTo&&(n.save(),n.fillStyle=dn.BLACK,n.globalAlpha=(this.darkOverlay<0?1:0)+this.darkOverlay,n.fillRect(0,0,o.x+1,o.y+1),n.restore())}fadeIn(){this.darkOverlay=1,this.fadeTo=0}fadeOut(){this.darkOverlay=-1,this.fadeTo=1}}class bd extends Vt{constructor(){super(...arguments);F(this,"id",te.CUSTOM_BACKGROUND);F(this,"scroll",0)}draw(){const{game:t}=this,{ctx:n,resolution:o}=t,{camera:r}=t.getCurrentScene(),s=t.getImage("bg2.png"),l=t.getImage("moon.png"),f=t.getImage("clouds.png"),c=r.pos.x/1.5,d=s.width-1,a=c+Math.round(-c/d)*d,u=365+r.pos.y,h=f.width-1,p=r.pos.x/8+this.scroll,b=-30+r.pos.y/4;this.scroll=this.scroll<h?this.scroll+.1:0,n.fillStyle="#47038A",n.fillRect(0,0,o.x,o.y),n.drawImage(l,o.x-70,6),n.drawImage(f,p-h,b),n.drawImage(f,p,b),n.drawImage(s,a-d,u),n.drawImage(s,a,u)}}class wd extends Wr{constructor(){super(...arguments);F(this,"gravity",.7);F(this,"flash",!1);F(this,"player")}async init(){const{game:t}=this,{layers:n,tilesets:o,tilewidth:r,tileheight:s,width:l,height:f}=await md(yd);if(this.setDimensions(l,f,r,s),this.addTileset(o[0],"tileset.png"),this.createLayers([bd,n[0],vd,n[1],n[2],n[3],Ad]),this.player=this.getObjectByType(J.PLAYER),this.camera.moveTo(0,0),this.camera.setSpeed(.5),this.camera.setFollow(this.player,!1),t.onKeyDown("Space",()=>{var c;return(c=this.player)==null?void 0:c.shoot()}),t.onKeyDown("ArrowUp",()=>{var c;return(c=this.player)==null?void 0:c.moveTo(me.UP)}),t.onKeyDown("ArrowLeft",()=>{var c;return(c=this.player)==null?void 0:c.moveTo(me.LEFT)}),t.onKeyDown("ArrowRight",()=>{var c;return(c=this.player)==null?void 0:c.moveTo(me.RIGHT)}),t.setAudioVolume(.1),t.debug&&t.gui){t.gui.add(this,"gravity").listen();const c=t.gui.addFolder("Player");c.add(this.player.pos,"x").listen(),c.add(this.player.pos,"y").listen(),c.add(this.player.energy,"0").name("Energy").step(1).min(1).max(100).listen(),c.add(this.player.ammo,"1").name("Max ammo").step(1).min(2).max(20).listen(),c.add(this.player,"invincible").name("God mode").listen()}}}const nu=document.querySelector("#canvas"),ro=new Bu({canvas:nu,backgroundColor:"#000",scenes:[wd],entities:{[J.BAT]:Uu,[J.BULLET]:Gu,[J.DUST]:Zu,[J.EMITTER]:Vu,[J.ITEM]:ju,[J.PARTICLE]:Hu,[J.PLAYER]:Wu,[J.SPIDER]:Yu,[J.SPIKES]:Qu,[J.ZOMBIE]:Ku},debug:!0}),ru=()=>{const e=window.innerWidth,i=window.innerHeight,t=Math.round(i/120);Object.assign(nu,{width:e,height:i}),ro.setSize(e,i,t)};ro.preload(Af).then(()=>{ro.playScene(0),ru()});window.addEventListener("resize",ru);
