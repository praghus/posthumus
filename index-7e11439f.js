(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=i(o);fetch(o.href,r)}})();function Gl(e){if(e&&!(typeof window>"u")){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}function ai(e,t){var i=e.__state.conversionName.toString(),n=Math.round(e.r),o=Math.round(e.g),r=Math.round(e.b),a=e.a,u=Math.round(e.h),f=e.s.toFixed(1),h=e.v.toFixed(1);if(t||i==="THREE_CHAR_HEX"||i==="SIX_CHAR_HEX"){for(var p=e.hex.toString(16);p.length<6;)p="0"+p;return"#"+p}else{if(i==="CSS_RGB")return"rgb("+n+","+o+","+r+")";if(i==="CSS_RGBA")return"rgba("+n+","+o+","+r+","+a+")";if(i==="HEX")return"0x"+e.hex.toString(16);if(i==="RGB_ARRAY")return"["+n+","+o+","+r+"]";if(i==="RGBA_ARRAY")return"["+n+","+o+","+r+","+a+"]";if(i==="RGB_OBJ")return"{r:"+n+",g:"+o+",b:"+r+"}";if(i==="RGBA_OBJ")return"{r:"+n+",g:"+o+",b:"+r+",a:"+a+"}";if(i==="HSV_OBJ")return"{h:"+u+",s:"+f+",v:"+h+"}";if(i==="HSVA_OBJ")return"{h:"+u+",s:"+f+",v:"+h+",a:"+a+"}"}return"unknown format"}var ia=Array.prototype.forEach,wi=Array.prototype.slice,R={BREAK:{},extend:function(t){return this.each(wi.call(arguments,1),function(i){var n=this.isObject(i)?Object.keys(i):[];n.forEach(function(o){this.isUndefined(i[o])||(t[o]=i[o])}.bind(this))},this),t},defaults:function(t){return this.each(wi.call(arguments,1),function(i){var n=this.isObject(i)?Object.keys(i):[];n.forEach(function(o){this.isUndefined(t[o])&&(t[o]=i[o])}.bind(this))},this),t},compose:function(){var t=wi.call(arguments);return function(){for(var i=wi.call(arguments),n=t.length-1;n>=0;n--)i=[t[n].apply(this,i)];return i[0]}},each:function(t,i,n){if(t){if(ia&&t.forEach&&t.forEach===ia)t.forEach(i,n);else if(t.length===t.length+0){var o=void 0,r=void 0;for(o=0,r=t.length;o<r;o++)if(o in t&&i.call(n,t[o],o)===this.BREAK)return}else for(var a in t)if(i.call(n,t[a],a)===this.BREAK)return}},defer:function(t){setTimeout(t,0)},debounce:function(t,i,n){var o=void 0;return function(){var r=this,a=arguments;function u(){o=null,n||t.apply(r,a)}var f=n||!o;clearTimeout(o),o=setTimeout(u,i),f&&t.apply(r,a)}},toArray:function(t){return t.toArray?t.toArray():wi.call(t)},isUndefined:function(t){return t===void 0},isNull:function(t){return t===null},isNaN:function(e){function t(i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return t===!1||t===!0},isFunction:function(t){return t instanceof Function}},Zl=[{litmus:R.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var i=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return i===null?!1:{space:"HEX",hex:parseInt("0x"+i[1].toString()+i[1].toString()+i[2].toString()+i[2].toString()+i[3].toString()+i[3].toString(),0)}},write:ai},SIX_CHAR_HEX:{read:function(t){var i=t.match(/^#([A-F0-9]{6})$/i);return i===null?!1:{space:"HEX",hex:parseInt("0x"+i[1].toString(),0)}},write:ai},CSS_RGB:{read:function(t){var i=t.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return i===null?!1:{space:"RGB",r:parseFloat(i[1]),g:parseFloat(i[2]),b:parseFloat(i[3])}},write:ai},CSS_RGBA:{read:function(t){var i=t.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return i===null?!1:{space:"RGB",r:parseFloat(i[1]),g:parseFloat(i[2]),b:parseFloat(i[3]),a:parseFloat(i[4])}},write:ai}}},{litmus:R.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:R.isArray,conversions:{RGB_ARRAY:{read:function(t){return t.length!==3?!1:{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return t.length!==4?!1:{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:R.isObject,conversions:{RGBA_OBJ:{read:function(t){return R.isNumber(t.r)&&R.isNumber(t.g)&&R.isNumber(t.b)&&R.isNumber(t.a)?{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return R.isNumber(t.r)&&R.isNumber(t.g)&&R.isNumber(t.b)?{space:"RGB",r:t.r,g:t.g,b:t.b}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return R.isNumber(t.h)&&R.isNumber(t.s)&&R.isNumber(t.v)&&R.isNumber(t.a)?{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return R.isNumber(t.h)&&R.isNumber(t.s)&&R.isNumber(t.v)?{space:"HSV",h:t.h,s:t.s,v:t.v}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],bi=void 0,Ki=void 0,Yr=function(){Ki=!1;var t=arguments.length>1?R.toArray(arguments):arguments[0];return R.each(Zl,function(i){if(i.litmus(t))return R.each(i.conversions,function(n,o){if(bi=n.read(t),Ki===!1&&bi!==!1)return Ki=bi,bi.conversionName=o,bi.conversion=n,R.BREAK}),R.BREAK}),Ki},na=void 0,yn={hsv_to_rgb:function(t,i,n){var o=Math.floor(t/60)%6,r=t/60-Math.floor(t/60),a=n*(1-i),u=n*(1-r*i),f=n*(1-(1-r)*i),h=[[n,f,a],[u,n,a],[a,n,f],[a,u,n],[f,a,n],[n,a,u]][o];return{r:h[0]*255,g:h[1]*255,b:h[2]*255}},rgb_to_hsv:function(t,i,n){var o=Math.min(t,i,n),r=Math.max(t,i,n),a=r-o,u=void 0,f=void 0;if(r!==0)f=a/r;else return{h:NaN,s:0,v:0};return t===r?u=(i-n)/a:i===r?u=2+(n-t)/a:u=4+(t-i)/a,u/=6,u<0&&(u+=1),{h:u*360,s:f,v:r/255}},rgb_to_hex:function(t,i,n){var o=this.hex_with_component(0,2,t);return o=this.hex_with_component(o,1,i),o=this.hex_with_component(o,0,n),o},component_from_hex:function(t,i){return t>>i*8&255},hex_with_component:function(t,i,n){return n<<(na=i*8)|t&~(255<<na)}},Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ke=function(){function e(t,i){for(var n=0;n<i.length;n++){var o=i[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Et=function e(t,i,n){t===null&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,i);if(o===void 0){var r=Object.getPrototypeOf(t);return r===null?void 0:e(r,i,n)}else{if("value"in o)return o.value;var a=o.get;return a===void 0?void 0:a.call(n)}},It=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Ct=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},le=function(){function e(){if(qe(this,e),this.__state=Yr.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return ke(e,[{key:"toString",value:function(){return ai(this)}},{key:"toHexString",value:function(){return ai(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();function go(e,t,i){Object.defineProperty(e,t,{get:function(){return this.__state.space==="RGB"?this.__state[t]:(le.recalculateRGB(this,t,i),this.__state[t])},set:function(o){this.__state.space!=="RGB"&&(le.recalculateRGB(this,t,i),this.__state.space="RGB"),this.__state[t]=o}})}function _o(e,t){Object.defineProperty(e,t,{get:function(){return this.__state.space==="HSV"?this.__state[t]:(le.recalculateHSV(this),this.__state[t])},set:function(n){this.__state.space!=="HSV"&&(le.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=n}})}le.recalculateRGB=function(e,t,i){if(e.__state.space==="HEX")e.__state[t]=yn.component_from_hex(e.__state.hex,i);else if(e.__state.space==="HSV")R.extend(e.__state,yn.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v));else throw new Error("Corrupted color state")};le.recalculateHSV=function(e){var t=yn.rgb_to_hsv(e.r,e.g,e.b);R.extend(e.__state,{s:t.s,v:t.v}),R.isNaN(t.h)?R.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h};le.COMPONENTS=["r","g","b","h","s","v","hex","a"];go(le.prototype,"r",2);go(le.prototype,"g",1);go(le.prototype,"b",0);_o(le.prototype,"h");_o(le.prototype,"s");_o(le.prototype,"v");Object.defineProperty(le.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}});Object.defineProperty(le.prototype,"hex",{get:function(){return this.__state.space!=="HEX"&&(this.__state.hex=yn.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var Xt=function(){function e(t,i){qe(this,e),this.initialValue=t[i],this.domElement=document.createElement("div"),this.object=t,this.property=i,this.__onChange=void 0,this.__onFinishChange=void 0}return ke(e,[{key:"onChange",value:function(i){return this.__onChange=i,this}},{key:"onFinishChange",value:function(i){return this.__onFinishChange=i,this}},{key:"setValue",value:function(i){return this.object[this.property]=i,this.__onChange&&this.__onChange.call(this,i),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),zl={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},$s={};R.each(zl,function(e,t){R.each(e,function(i){$s[i]=t})});var Wl=/(\d+(\.\d+)?)px/;function Be(e){if(e==="0"||R.isUndefined(e))return 0;var t=e.match(Wl);return R.isNull(t)?0:parseFloat(t[1])}var S={makeSelectable:function(t,i){t===void 0||t.style===void 0||(t.onselectstart=i?function(){return!1}:function(){},t.style.MozUserSelect=i?"auto":"none",t.style.KhtmlUserSelect=i?"auto":"none",t.unselectable=i?"on":"off")},makeFullscreen:function(t,i,n){var o=n,r=i;R.isUndefined(r)&&(r=!0),R.isUndefined(o)&&(o=!0),t.style.position="absolute",r&&(t.style.left=0,t.style.right=0),o&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,i,n,o){var r=n||{},a=$s[i];if(!a)throw new Error("Event type "+i+" not supported.");var u=document.createEvent(a);switch(a){case"MouseEvents":{var f=r.x||r.clientX||0,h=r.y||r.clientY||0;u.initMouseEvent(i,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,f,h,!1,!1,!1,!1,0,null);break}case"KeyboardEvents":{var p=u.initKeyboardEvent||u.initKeyEvent;R.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),p(i,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break}default:{u.initEvent(i,r.bubbles||!1,r.cancelable||!0);break}}R.defaults(u,o),t.dispatchEvent(u)},bind:function(t,i,n,o){var r=o||!1;return t.addEventListener?t.addEventListener(i,n,r):t.attachEvent&&t.attachEvent("on"+i,n),S},unbind:function(t,i,n,o){var r=o||!1;return t.removeEventListener?t.removeEventListener(i,n,r):t.detachEvent&&t.detachEvent("on"+i,n),S},addClass:function(t,i){if(t.className===void 0)t.className=i;else if(t.className!==i){var n=t.className.split(/ +/);n.indexOf(i)===-1&&(n.push(i),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return S},removeClass:function(t,i){if(i)if(t.className===i)t.removeAttribute("class");else{var n=t.className.split(/ +/),o=n.indexOf(i);o!==-1&&(n.splice(o,1),t.className=n.join(" "))}else t.className=void 0;return S},hasClass:function(t,i){return new RegExp("(?:^|\\s+)"+i+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var i=getComputedStyle(t);return Be(i["border-left-width"])+Be(i["border-right-width"])+Be(i["padding-left"])+Be(i["padding-right"])+Be(i.width)},getHeight:function(t){var i=getComputedStyle(t);return Be(i["border-top-width"])+Be(i["border-bottom-width"])+Be(i["padding-top"])+Be(i["padding-bottom"])+Be(i.height)},getOffset:function(t){var i=t,n={left:0,top:0};if(i.offsetParent)do n.left+=i.offsetLeft,n.top+=i.offsetTop,i=i.offsetParent;while(i);return n},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},eu=function(e){It(t,e);function t(i,n){qe(this,t);var o=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n)),r=o;o.__prev=o.getValue(),o.__checkbox=document.createElement("input"),o.__checkbox.setAttribute("type","checkbox");function a(){r.setValue(!r.__prev)}return S.bind(o.__checkbox,"change",a,!1),o.domElement.appendChild(o.__checkbox),o.updateDisplay(),o}return ke(t,[{key:"setValue",value:function(n){var o=Et(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,n);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),o}},{key:"updateDisplay",value:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),Et(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(Xt),Yl=function(e){It(t,e);function t(i,n,o){qe(this,t);var r=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n)),a=o,u=r;if(r.__select=document.createElement("select"),R.isArray(a)){var f={};R.each(a,function(h){f[h]=h}),a=f}return R.each(a,function(h,p){var s=document.createElement("option");s.innerHTML=p,s.setAttribute("value",h),u.__select.appendChild(s)}),r.updateDisplay(),S.bind(r.__select,"change",function(){var h=this.options[this.selectedIndex].value;u.setValue(h)}),r.domElement.appendChild(r.__select),r}return ke(t,[{key:"setValue",value:function(n){var o=Et(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,n);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),o}},{key:"updateDisplay",value:function(){return S.isActive(this.__select)?this:(this.__select.value=this.getValue(),Et(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(Xt),Jl=function(e){It(t,e);function t(i,n){qe(this,t);var o=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n)),r=o;function a(){r.setValue(r.__input.value)}function u(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),S.bind(o.__input,"keyup",a),S.bind(o.__input,"change",a),S.bind(o.__input,"blur",u),S.bind(o.__input,"keydown",function(f){f.keyCode===13&&this.blur()}),o.updateDisplay(),o.domElement.appendChild(o.__input),o}return ke(t,[{key:"updateDisplay",value:function(){return S.isActive(this.__input)||(this.__input.value=this.getValue()),Et(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(Xt);function ra(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var tu=function(e){It(t,e);function t(i,n,o){qe(this,t);var r=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n)),a=o||{};return r.__min=a.min,r.__max=a.max,r.__step=a.step,R.isUndefined(r.__step)?r.initialValue===0?r.__impliedStep=1:r.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(r.initialValue))/Math.LN10))/10:r.__impliedStep=r.__step,r.__precision=ra(r.__impliedStep),r}return ke(t,[{key:"setValue",value:function(n){var o=n;return this.__min!==void 0&&o<this.__min?o=this.__min:this.__max!==void 0&&o>this.__max&&(o=this.__max),this.__step!==void 0&&o%this.__step!==0&&(o=Math.round(o/this.__step)*this.__step),Et(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,o)}},{key:"min",value:function(n){return this.__min=n,this}},{key:"max",value:function(n){return this.__max=n,this}},{key:"step",value:function(n){return this.__step=n,this.__impliedStep=n,this.__precision=ra(n),this}}]),t}(Xt);function Ql(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}var vn=function(e){It(t,e);function t(i,n,o){qe(this,t);var r=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n,o));r.__truncationSuspended=!1;var a=r,u=void 0;function f(){var m=parseFloat(a.__input.value);R.isNaN(m)||a.setValue(m)}function h(){a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}function p(){h()}function s(m){var _=u-m.clientY;a.setValue(a.getValue()+_*a.__impliedStep),u=m.clientY}function l(){S.unbind(window,"mousemove",s),S.unbind(window,"mouseup",l),h()}function c(m){S.bind(window,"mousemove",s),S.bind(window,"mouseup",l),u=m.clientY}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),S.bind(r.__input,"change",f),S.bind(r.__input,"blur",p),S.bind(r.__input,"mousedown",c),S.bind(r.__input,"keydown",function(m){m.keyCode===13&&(a.__truncationSuspended=!0,this.blur(),a.__truncationSuspended=!1,h())}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return ke(t,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():Ql(this.getValue(),this.__precision),Et(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(tu);function oa(e,t,i,n,o){return n+(o-n)*((e-t)/(i-t))}var Jr=function(e){It(t,e);function t(i,n,o,r,a){qe(this,t);var u=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n,{min:o,max:r,step:a})),f=u;u.__background=document.createElement("div"),u.__foreground=document.createElement("div"),S.bind(u.__background,"mousedown",h),S.bind(u.__background,"touchstart",l),S.addClass(u.__background,"slider"),S.addClass(u.__foreground,"slider-fg");function h(_){document.activeElement.blur(),S.bind(window,"mousemove",p),S.bind(window,"mouseup",s),p(_)}function p(_){_.preventDefault();var E=f.__background.getBoundingClientRect();return f.setValue(oa(_.clientX,E.left,E.right,f.__min,f.__max)),!1}function s(){S.unbind(window,"mousemove",p),S.unbind(window,"mouseup",s),f.__onFinishChange&&f.__onFinishChange.call(f,f.getValue())}function l(_){_.touches.length===1&&(S.bind(window,"touchmove",c),S.bind(window,"touchend",m),c(_))}function c(_){var E=_.touches[0].clientX,A=f.__background.getBoundingClientRect();f.setValue(oa(E,A.left,A.right,f.__min,f.__max))}function m(){S.unbind(window,"touchmove",c),S.unbind(window,"touchend",m),f.__onFinishChange&&f.__onFinishChange.call(f,f.getValue())}return u.updateDisplay(),u.__background.appendChild(u.__foreground),u.domElement.appendChild(u.__background),u}return ke(t,[{key:"updateDisplay",value:function(){var n=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=n*100+"%",Et(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(tu),iu=function(e){It(t,e);function t(i,n,o){qe(this,t);var r=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n)),a=r;return r.__button=document.createElement("div"),r.__button.innerHTML=o===void 0?"Fire":o,S.bind(r.__button,"click",function(u){return u.preventDefault(),a.fire(),!1}),S.addClass(r.__button,"button"),r.domElement.appendChild(r.__button),r}return ke(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(Xt),Qr=function(e){It(t,e);function t(i,n){qe(this,t);var o=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n));o.__color=new le(o.getValue()),o.__temp=new le(0);var r=o;o.domElement=document.createElement("div"),S.makeSelectable(o.domElement,!1),o.__selector=document.createElement("div"),o.__selector.className="selector",o.__saturation_field=document.createElement("div"),o.__saturation_field.className="saturation-field",o.__field_knob=document.createElement("div"),o.__field_knob.className="field-knob",o.__field_knob_border="2px solid ",o.__hue_knob=document.createElement("div"),o.__hue_knob.className="hue-knob",o.__hue_field=document.createElement("div"),o.__hue_field.className="hue-field",o.__input=document.createElement("input"),o.__input.type="text",o.__input_textShadow="0 1px 1px ",S.bind(o.__input,"keydown",function(_){_.keyCode===13&&s.call(this)}),S.bind(o.__input,"blur",s),S.bind(o.__selector,"mousedown",function(){S.addClass(this,"drag").bind(window,"mouseup",function(){S.removeClass(r.__selector,"drag")})}),S.bind(o.__selector,"touchstart",function(){S.addClass(this,"drag").bind(window,"touchend",function(){S.removeClass(r.__selector,"drag")})});var a=document.createElement("div");R.extend(o.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),R.extend(o.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:o.__field_knob_border+(o.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),R.extend(o.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),R.extend(o.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),R.extend(a.style,{width:"100%",height:"100%",background:"none"}),aa(a,"top","rgba(0,0,0,0)","#000"),R.extend(o.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),$l(o.__hue_field),R.extend(o.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:o.__input_textShadow+"rgba(0,0,0,0.7)"}),S.bind(o.__saturation_field,"mousedown",u),S.bind(o.__saturation_field,"touchstart",u),S.bind(o.__field_knob,"mousedown",u),S.bind(o.__field_knob,"touchstart",u),S.bind(o.__hue_field,"mousedown",f),S.bind(o.__hue_field,"touchstart",f);function u(_){c(_),S.bind(window,"mousemove",c),S.bind(window,"touchmove",c),S.bind(window,"mouseup",h),S.bind(window,"touchend",h)}function f(_){m(_),S.bind(window,"mousemove",m),S.bind(window,"touchmove",m),S.bind(window,"mouseup",p),S.bind(window,"touchend",p)}function h(){S.unbind(window,"mousemove",c),S.unbind(window,"touchmove",c),S.unbind(window,"mouseup",h),S.unbind(window,"touchend",h),l()}function p(){S.unbind(window,"mousemove",m),S.unbind(window,"touchmove",m),S.unbind(window,"mouseup",p),S.unbind(window,"touchend",p),l()}function s(){var _=Yr(this.value);_!==!1?(r.__color.__state=_,r.setValue(r.__color.toOriginal())):this.value=r.__color.toString()}function l(){r.__onFinishChange&&r.__onFinishChange.call(r,r.__color.toOriginal())}o.__saturation_field.appendChild(a),o.__selector.appendChild(o.__field_knob),o.__selector.appendChild(o.__saturation_field),o.__selector.appendChild(o.__hue_field),o.__hue_field.appendChild(o.__hue_knob),o.domElement.appendChild(o.__input),o.domElement.appendChild(o.__selector),o.updateDisplay();function c(_){_.type.indexOf("touch")===-1&&_.preventDefault();var E=r.__saturation_field.getBoundingClientRect(),A=_.touches&&_.touches[0]||_,v=A.clientX,g=A.clientY,w=(v-E.left)/(E.right-E.left),I=1-(g-E.top)/(E.bottom-E.top);return I>1?I=1:I<0&&(I=0),w>1?w=1:w<0&&(w=0),r.__color.v=I,r.__color.s=w,r.setValue(r.__color.toOriginal()),!1}function m(_){_.type.indexOf("touch")===-1&&_.preventDefault();var E=r.__hue_field.getBoundingClientRect(),A=_.touches&&_.touches[0]||_,v=A.clientY,g=1-(v-E.top)/(E.bottom-E.top);return g>1?g=1:g<0&&(g=0),r.__color.h=g*360,r.setValue(r.__color.toOriginal()),!1}return o}return ke(t,[{key:"updateDisplay",value:function(){var n=Yr(this.getValue());if(n!==!1){var o=!1;R.each(le.COMPONENTS,function(u){if(!R.isUndefined(n[u])&&!R.isUndefined(this.__color.__state[u])&&n[u]!==this.__color.__state[u])return o=!0,{}},this),o&&R.extend(this.__color.__state,n)}R.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var r=this.__color.v<.5||this.__color.s>.5?255:0,a=255-r;R.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+r+","+r+","+r+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,aa(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),R.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+r+","+r+","+r+")",textShadow:this.__input_textShadow+"rgba("+a+","+a+","+a+",.7)"})}}]),t}(Xt),Kl=["-moz-","-o-","-webkit-","-ms-",""];function aa(e,t,i,n){e.style.background="",R.each(Kl,function(o){e.style.cssText+="background: "+o+"linear-gradient("+t+", "+i+" 0%, "+n+" 100%); "})}function $l(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var ef={load:function(t,i){var n=i||document,o=n.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=t,n.getElementsByTagName("head")[0].appendChild(o)},inject:function(t,i){var n=i||document,o=document.createElement("style");o.type="text/css",o.innerHTML=t;var r=n.getElementsByTagName("head")[0];try{r.appendChild(o)}catch{}}},tf=`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.

    </div>

  </div>

</div>`,nf=function(t,i){var n=t[i];return R.isArray(arguments[2])||R.isObject(arguments[2])?new Yl(t,i,arguments[2]):R.isNumber(n)?R.isNumber(arguments[2])&&R.isNumber(arguments[3])?R.isNumber(arguments[4])?new Jr(t,i,arguments[2],arguments[3],arguments[4]):new Jr(t,i,arguments[2],arguments[3]):R.isNumber(arguments[4])?new vn(t,i,{min:arguments[2],max:arguments[3],step:arguments[4]}):new vn(t,i,{min:arguments[2],max:arguments[3]}):R.isString(n)?new Jl(t,i):R.isFunction(n)?new iu(t,i,""):R.isBoolean(n)?new eu(t,i):null};function rf(e){setTimeout(e,1e3/60)}var of=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||rf,af=function(){function e(){qe(this,e),this.backgroundElement=document.createElement("div"),R.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),S.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),R.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;S.bind(this.backgroundElement,"click",function(){t.hide()})}return ke(e,[{key:"show",value:function(){var i=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),R.defer(function(){i.backgroundElement.style.opacity=1,i.domElement.style.opacity=1,i.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var i=this,n=function o(){i.domElement.style.display="none",i.backgroundElement.style.display="none",S.unbind(i.domElement,"webkitTransitionEnd",o),S.unbind(i.domElement,"transitionend",o),S.unbind(i.domElement,"oTransitionEnd",o)};S.bind(this.domElement,"webkitTransitionEnd",n),S.bind(this.domElement,"transitionend",n),S.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-S.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-S.getHeight(this.domElement)/2+"px"}}]),e}(),sf=Gl(`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`);ef.inject(sf);var sa="dg",ua=72,la=20,ki="Default",Ii=function(){try{return!!window.localStorage}catch{return!1}}(),Li=void 0,fa=!0,ni=void 0,Hn=!1,nu=[],K=function e(t){var i=this,n=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),S.addClass(this.domElement,sa),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],n=R.defaults(n,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),n=R.defaults(n,{resizable:n.autoPlace,hideable:n.autoPlace}),R.isUndefined(n.load)?n.load={preset:ki}:n.preset&&(n.load.preset=n.preset),R.isUndefined(n.parent)&&n.hideable&&nu.push(this),n.resizable=R.isUndefined(n.parent)&&n.resizable,n.autoPlace&&R.isUndefined(n.scrollable)&&(n.scrollable=!0);var o=Ii&&localStorage.getItem(ri(this,"isLocal"))==="true",r=void 0,a=void 0;if(Object.defineProperties(this,{parent:{get:function(){return n.parent}},scrollable:{get:function(){return n.scrollable}},autoPlace:{get:function(){return n.autoPlace}},closeOnTop:{get:function(){return n.closeOnTop}},preset:{get:function(){return i.parent?i.getRoot().preset:n.load.preset},set:function(l){i.parent?i.getRoot().preset=l:n.load.preset=l,cf(this),i.revert()}},width:{get:function(){return n.width},set:function(l){n.width=l,eo(i,l)}},name:{get:function(){return n.name},set:function(l){n.name=l,a&&(a.innerHTML=n.name)}},closed:{get:function(){return n.closed},set:function(l){n.closed=l,n.closed?S.addClass(i.__ul,e.CLASS_CLOSED):S.removeClass(i.__ul,e.CLASS_CLOSED),this.onResize(),i.__closeButton&&(i.__closeButton.innerHTML=l?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return n.load}},useLocalStorage:{get:function(){return o},set:function(l){Ii&&(o=l,l?S.bind(window,"unload",r):S.unbind(window,"unload",r),localStorage.setItem(ri(i,"isLocal"),l))}}}),R.isUndefined(n.parent)){if(this.closed=n.closed||!1,S.addClass(this.domElement,e.CLASS_MAIN),S.makeSelectable(this.domElement,!1),Ii&&o){i.useLocalStorage=!0;var u=localStorage.getItem(ri(this,"gui"));u&&(n.load=JSON.parse(u))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,S.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),n.closeOnTop?(S.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(S.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),S.bind(this.__closeButton,"click",function(){i.closed=!i.closed})}else{n.closed===void 0&&(n.closed=!0);var f=document.createTextNode(n.name);S.addClass(f,"controller-name"),a=yo(i,f);var h=function(l){return l.preventDefault(),i.closed=!i.closed,!1};S.addClass(this.__ul,e.CLASS_CLOSED),S.addClass(a,"title"),S.bind(a,"click",h),n.closed||(this.closed=!1)}n.autoPlace&&(R.isUndefined(n.parent)&&(fa&&(ni=document.createElement("div"),S.addClass(ni,sa),S.addClass(ni,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ni),fa=!1),ni.appendChild(this.domElement),S.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||eo(i,n.width)),this.__resizeHandler=function(){i.onResizeDebounced()},S.bind(window,"resize",this.__resizeHandler),S.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),S.bind(this.__ul,"transitionend",this.__resizeHandler),S.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),n.resizable&&ff(this),r=function(){Ii&&localStorage.getItem(ri(i,"isLocal"))==="true"&&localStorage.setItem(ri(i,"gui"),JSON.stringify(i.getSaveObject()))},this.saveToLocalStorageIfPossible=r;function p(){var s=i.getRoot();s.width+=1,R.defer(function(){s.width-=1})}n.parent||p()};K.toggleHide=function(){Hn=!Hn,R.each(nu,function(e){e.domElement.style.display=Hn?"none":""})};K.CLASS_AUTO_PLACE="a";K.CLASS_AUTO_PLACE_CONTAINER="ac";K.CLASS_MAIN="main";K.CLASS_CONTROLLER_ROW="cr";K.CLASS_TOO_TALL="taller-than-window";K.CLASS_CLOSED="closed";K.CLASS_CLOSE_BUTTON="close-button";K.CLASS_CLOSE_TOP="close-top";K.CLASS_CLOSE_BOTTOM="close-bottom";K.CLASS_DRAG="drag";K.DEFAULT_WIDTH=245;K.TEXT_CLOSED="Close Controls";K.TEXT_OPEN="Open Controls";K._keydownHandler=function(e){document.activeElement.type!=="text"&&(e.which===ua||e.keyCode===ua)&&K.toggleHide()};S.bind(window,"keydown",K._keydownHandler,!1);R.extend(K.prototype,{add:function(t,i){return Di(this,t,i,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,i){return Di(this,t,i,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var i=this;R.defer(function(){i.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&ni.removeChild(this.domElement);var t=this;R.each(this.__folders,function(i){t.removeFolder(i)}),S.unbind(window,"keydown",K._keydownHandler,!1),ca(this)},addFolder:function(t){if(this.__folders[t]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+t+'"');var i={name:t,parent:this};i.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(i.closed=this.load.folders[t].closed,i.load=this.load.folders[t]);var n=new K(i);this.__folders[t]=n;var o=yo(this,n.domElement);return S.addClass(o,"folder"),n},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],ca(t);var i=this;R.each(t.__folders,function(n){t.removeFolder(n)}),R.defer(function(){i.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var t=this.getRoot();if(t.scrollable){var i=S.getOffset(t.__ul).top,n=0;R.each(t.__ul.childNodes,function(o){t.autoPlace&&o===t.__save_row||(n+=S.getHeight(o))}),window.innerHeight-i-la<n?(S.addClass(t.domElement,K.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-i-la+"px"):(S.removeClass(t.domElement,K.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&R.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:R.debounce(function(){this.onResize()},50),remember:function(){if(R.isUndefined(Li)&&(Li=new af,Li.domElement.innerHTML=tf),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;R.each(Array.prototype.slice.call(arguments),function(i){t.__rememberedObjects.length===0&&lf(t),t.__rememberedObjects.indexOf(i)===-1&&t.__rememberedObjects.push(i)}),this.autoPlace&&eo(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=$i(this)),t.folders={},R.each(this.__folders,function(i,n){t.folders[n]=i.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=$i(this),Kr(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[ki]=$i(this,!0)),this.load.remembered[t]=$i(this),this.preset=t,$r(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){R.each(this.__controllers,function(i){this.getRoot().load.remembered?ru(t||this.getRoot(),i):i.setValue(i.initialValue),i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())},this),R.each(this.__folders,function(i){i.revert(i)}),t||Kr(this.getRoot(),!1)},listen:function(t){var i=this.__listening.length===0;this.__listening.push(t),i&&ou(this.__listening)},updateDisplay:function(){R.each(this.__controllers,function(t){t.updateDisplay()}),R.each(this.__folders,function(t){t.updateDisplay()})}});function yo(e,t,i){var n=document.createElement("li");return t&&n.appendChild(t),i?e.__ul.insertBefore(n,i):e.__ul.appendChild(n),e.onResize(),n}function ca(e){S.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&S.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function Kr(e,t){var i=e.__preset_select[e.__preset_select.selectedIndex];t?i.innerHTML=i.value+"*":i.innerHTML=i.value}function uf(e,t,i){if(i.__li=t,i.__gui=e,R.extend(i,{options:function(a){if(arguments.length>1){var u=i.__li.nextElementSibling;return i.remove(),Di(e,i.object,i.property,{before:u,factoryArgs:[R.toArray(arguments)]})}if(R.isArray(a)||R.isObject(a)){var f=i.__li.nextElementSibling;return i.remove(),Di(e,i.object,i.property,{before:f,factoryArgs:[a]})}},name:function(a){return i.__li.firstElementChild.firstElementChild.innerHTML=a,i},listen:function(){return i.__gui.listen(i),i},remove:function(){return i.__gui.remove(i),i}}),i instanceof Jr){var n=new vn(i.object,i.property,{min:i.__min,max:i.__max,step:i.__step});R.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(r){var a=i[r],u=n[r];i[r]=n[r]=function(){var f=Array.prototype.slice.call(arguments);return u.apply(n,f),a.apply(i,f)}}),S.addClass(t,"has-slider"),i.domElement.insertBefore(n.domElement,i.domElement.firstElementChild)}else if(i instanceof vn){var o=function(a){if(R.isNumber(i.__min)&&R.isNumber(i.__max)){var u=i.__li.firstElementChild.firstElementChild.innerHTML,f=i.__gui.__listening.indexOf(i)>-1;i.remove();var h=Di(e,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[i.__min,i.__max,i.__step]});return h.name(u),f&&h.listen(),h}return a};i.min=R.compose(o,i.min),i.max=R.compose(o,i.max)}else i instanceof eu?(S.bind(t,"click",function(){S.fakeEvent(i.__checkbox,"click")}),S.bind(i.__checkbox,"click",function(r){r.stopPropagation()})):i instanceof iu?(S.bind(t,"click",function(){S.fakeEvent(i.__button,"click")}),S.bind(t,"mouseover",function(){S.addClass(i.__button,"hover")}),S.bind(t,"mouseout",function(){S.removeClass(i.__button,"hover")})):i instanceof Qr&&(S.addClass(t,"color"),i.updateDisplay=R.compose(function(r){return t.style.borderLeftColor=i.__color.toString(),r},i.updateDisplay),i.updateDisplay());i.setValue=R.compose(function(r){return e.getRoot().__preset_select&&i.isModified()&&Kr(e.getRoot(),!0),r},i.setValue)}function ru(e,t){var i=e.getRoot(),n=i.__rememberedObjects.indexOf(t.object);if(n!==-1){var o=i.__rememberedObjectIndecesToControllers[n];if(o===void 0&&(o={},i.__rememberedObjectIndecesToControllers[n]=o),o[t.property]=t,i.load&&i.load.remembered){var r=i.load.remembered,a=void 0;if(r[e.preset])a=r[e.preset];else if(r[ki])a=r[ki];else return;if(a[n]&&a[n][t.property]!==void 0){var u=a[n][t.property];t.initialValue=u,t.setValue(u)}}}}function Di(e,t,i,n){if(t[i]===void 0)throw new Error('Object "'+t+'" has no property "'+i+'"');var o=void 0;if(n.color)o=new Qr(t,i);else{var r=[t,i].concat(n.factoryArgs);o=nf.apply(e,r)}n.before instanceof Xt&&(n.before=n.before.__li),ru(e,o),S.addClass(o.domElement,"c");var a=document.createElement("span");S.addClass(a,"property-name"),a.innerHTML=o.property;var u=document.createElement("div");u.appendChild(a),u.appendChild(o.domElement);var f=yo(e,u,n.before);return S.addClass(f,K.CLASS_CONTROLLER_ROW),o instanceof Qr?S.addClass(f,"color"):S.addClass(f,Xl(o.getValue())),uf(e,f,o),e.__controllers.push(o),o}function ri(e,t){return document.location.href+"."+t}function $r(e,t,i){var n=document.createElement("option");n.innerHTML=t,n.value=t,e.__preset_select.appendChild(n),i&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function ha(e,t){t.style.display=e.useLocalStorage?"block":"none"}function lf(e){var t=e.__save_row=document.createElement("li");S.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),S.addClass(t,"save-row");var i=document.createElement("span");i.innerHTML="&nbsp;",S.addClass(i,"button gears");var n=document.createElement("span");n.innerHTML="Save",S.addClass(n,"button"),S.addClass(n,"save");var o=document.createElement("span");o.innerHTML="New",S.addClass(o,"button"),S.addClass(o,"save-as");var r=document.createElement("span");r.innerHTML="Revert",S.addClass(r,"button"),S.addClass(r,"revert");var a=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?R.each(e.load.remembered,function(s,l){$r(e,l,l===e.preset)}):$r(e,ki,!1),S.bind(a,"change",function(){for(var s=0;s<e.__preset_select.length;s++)e.__preset_select[s].innerHTML=e.__preset_select[s].value;e.preset=this.value}),t.appendChild(a),t.appendChild(i),t.appendChild(n),t.appendChild(o),t.appendChild(r),Ii){var u=document.getElementById("dg-local-explain"),f=document.getElementById("dg-local-storage"),h=document.getElementById("dg-save-locally");h.style.display="block",localStorage.getItem(ri(e,"isLocal"))==="true"&&f.setAttribute("checked","checked"),ha(e,u),S.bind(f,"change",function(){e.useLocalStorage=!e.useLocalStorage,ha(e,u)})}var p=document.getElementById("dg-new-constructor");S.bind(p,"keydown",function(s){s.metaKey&&(s.which===67||s.keyCode===67)&&Li.hide()}),S.bind(i,"click",function(){p.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),Li.show(),p.focus(),p.select()}),S.bind(n,"click",function(){e.save()}),S.bind(o,"click",function(){var s=prompt("Enter a new preset name.");s&&e.saveAs(s)}),S.bind(r,"click",function(){e.revert()})}function ff(e){var t=void 0;e.__resize_handle=document.createElement("div"),R.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});function i(r){return r.preventDefault(),e.width+=t-r.clientX,e.onResize(),t=r.clientX,!1}function n(){S.removeClass(e.__closeButton,K.CLASS_DRAG),S.unbind(window,"mousemove",i),S.unbind(window,"mouseup",n)}function o(r){return r.preventDefault(),t=r.clientX,S.addClass(e.__closeButton,K.CLASS_DRAG),S.bind(window,"mousemove",i),S.bind(window,"mouseup",n),!1}S.bind(e.__resize_handle,"mousedown",o),S.bind(e.__closeButton,"mousedown",o),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function eo(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function $i(e,t){var i={};return R.each(e.__rememberedObjects,function(n,o){var r={},a=e.__rememberedObjectIndecesToControllers[o];R.each(a,function(u,f){r[f]=t?u.initialValue:u.getValue()}),i[o]=r}),i}function cf(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}function ou(e){e.length!==0&&of.call(window,function(){ou(e)}),R.each(e,function(t){t.updateDisplay()})}var hf=K,H=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ln(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function n(){if(this instanceof n){var o=[null];o.push.apply(o,arguments);var r=Function.bind.apply(t,o);return new r}return t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(i,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),i}var Ci={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var s=this||i;return s._counter=1e3,s._html5AudioPool=[],s.html5PoolSize=10,s._codecs={},s._howls=[],s._muted=!1,s._volume=1,s._canPlayEvent="canplaythrough",s._navigator=typeof window<"u"&&window.navigator?window.navigator:null,s.masterGain=null,s.noAudio=!1,s.usingWebAudio=!0,s.autoSuspend=!0,s.ctx=null,s.autoUnlock=!0,s._setup(),s},volume:function(s){var l=this||i;if(s=parseFloat(s),l.ctx||p(),typeof s<"u"&&s>=0&&s<=1){if(l._volume=s,l._muted)return l;l.usingWebAudio&&l.masterGain.gain.setValueAtTime(s,i.ctx.currentTime);for(var c=0;c<l._howls.length;c++)if(!l._howls[c]._webAudio)for(var m=l._howls[c]._getSoundIds(),_=0;_<m.length;_++){var E=l._howls[c]._soundById(m[_]);E&&E._node&&(E._node.volume=E._volume*s)}return l}return l._volume},mute:function(s){var l=this||i;l.ctx||p(),l._muted=s,l.usingWebAudio&&l.masterGain.gain.setValueAtTime(s?0:l._volume,i.ctx.currentTime);for(var c=0;c<l._howls.length;c++)if(!l._howls[c]._webAudio)for(var m=l._howls[c]._getSoundIds(),_=0;_<m.length;_++){var E=l._howls[c]._soundById(m[_]);E&&E._node&&(E._node.muted=s?!0:E._muted)}return l},stop:function(){for(var s=this||i,l=0;l<s._howls.length;l++)s._howls[l].stop();return s},unload:function(){for(var s=this||i,l=s._howls.length-1;l>=0;l--)s._howls[l].unload();return s.usingWebAudio&&s.ctx&&typeof s.ctx.close<"u"&&(s.ctx.close(),s.ctx=null,p()),s},codecs:function(s){return(this||i)._codecs[s.replace(/^x-/,"")]},_setup:function(){var s=this||i;if(s.state=s.ctx&&s.ctx.state||"suspended",s._autoSuspend(),!s.usingWebAudio)if(typeof Audio<"u")try{var l=new Audio;typeof l.oncanplaythrough>"u"&&(s._canPlayEvent="canplay")}catch{s.noAudio=!0}else s.noAudio=!0;try{var l=new Audio;l.muted&&(s.noAudio=!0)}catch{}return s.noAudio||s._setupCodecs(),s},_setupCodecs:function(){var s=this||i,l=null;try{l=typeof Audio<"u"?new Audio:null}catch{return s}if(!l||typeof l.canPlayType!="function")return s;var c=l.canPlayType("audio/mpeg;").replace(/^no$/,""),m=s._navigator?s._navigator.userAgent:"",_=m.match(/OPR\/([0-6].)/g),E=_&&parseInt(_[0].split("/")[1],10)<33,A=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,v=m.match(/Version\/(.*?) /),g=A&&v&&parseInt(v[1],10)<15;return s._codecs={mp3:!!(!E&&(c||l.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!c,opus:!!l.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(l.canPlayType('audio/wav; codecs="1"')||l.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!l.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!l.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(l.canPlayType("audio/x-m4a;")||l.canPlayType("audio/m4a;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(l.canPlayType("audio/x-m4b;")||l.canPlayType("audio/m4b;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(l.canPlayType("audio/x-mp4;")||l.canPlayType("audio/mp4;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!g&&l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!g&&l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!l.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(l.canPlayType("audio/x-flac;")||l.canPlayType("audio/flac;")).replace(/^no$/,"")},s},_unlockAudio:function(){var s=this||i;if(!(s._audioUnlocked||!s.ctx)){s._audioUnlocked=!1,s.autoUnlock=!1,!s._mobileUnloaded&&s.ctx.sampleRate!==44100&&(s._mobileUnloaded=!0,s.unload()),s._scratchBuffer=s.ctx.createBuffer(1,1,22050);var l=function(c){for(;s._html5AudioPool.length<s.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,s._releaseHtml5Audio(m)}catch{s.noAudio=!0;break}for(var _=0;_<s._howls.length;_++)if(!s._howls[_]._webAudio)for(var E=s._howls[_]._getSoundIds(),A=0;A<E.length;A++){var v=s._howls[_]._soundById(E[A]);v&&v._node&&!v._node._unlocked&&(v._node._unlocked=!0,v._node.load())}s._autoResume();var g=s.ctx.createBufferSource();g.buffer=s._scratchBuffer,g.connect(s.ctx.destination),typeof g.start>"u"?g.noteOn(0):g.start(0),typeof s.ctx.resume=="function"&&s.ctx.resume(),g.onended=function(){g.disconnect(0),s._audioUnlocked=!0,document.removeEventListener("touchstart",l,!0),document.removeEventListener("touchend",l,!0),document.removeEventListener("click",l,!0),document.removeEventListener("keydown",l,!0);for(var w=0;w<s._howls.length;w++)s._howls[w]._emit("unlock")}};return document.addEventListener("touchstart",l,!0),document.addEventListener("touchend",l,!0),document.addEventListener("click",l,!0),document.addEventListener("keydown",l,!0),s}},_obtainHtml5Audio:function(){var s=this||i;if(s._html5AudioPool.length)return s._html5AudioPool.pop();var l=new Audio().play();return l&&typeof Promise<"u"&&(l instanceof Promise||typeof l.then=="function")&&l.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(s){var l=this||i;return s._unlocked&&l._html5AudioPool.push(s),l},_autoSuspend:function(){var s=this;if(!(!s.autoSuspend||!s.ctx||typeof s.ctx.suspend>"u"||!i.usingWebAudio)){for(var l=0;l<s._howls.length;l++)if(s._howls[l]._webAudio){for(var c=0;c<s._howls[l]._sounds.length;c++)if(!s._howls[l]._sounds[c]._paused)return s}return s._suspendTimer&&clearTimeout(s._suspendTimer),s._suspendTimer=setTimeout(function(){if(s.autoSuspend){s._suspendTimer=null,s.state="suspending";var m=function(){s.state="suspended",s._resumeAfterSuspend&&(delete s._resumeAfterSuspend,s._autoResume())};s.ctx.suspend().then(m,m)}},3e4),s}},_autoResume:function(){var s=this;if(!(!s.ctx||typeof s.ctx.resume>"u"||!i.usingWebAudio))return s.state==="running"&&s.ctx.state!=="interrupted"&&s._suspendTimer?(clearTimeout(s._suspendTimer),s._suspendTimer=null):s.state==="suspended"||s.state==="running"&&s.ctx.state==="interrupted"?(s.ctx.resume().then(function(){s.state="running";for(var l=0;l<s._howls.length;l++)s._howls[l]._emit("resume")}),s._suspendTimer&&(clearTimeout(s._suspendTimer),s._suspendTimer=null)):s.state==="suspending"&&(s._resumeAfterSuspend=!0),s}};var i=new t,n=function(s){var l=this;if(!s.src||s.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}l.init(s)};n.prototype={init:function(s){var l=this;return i.ctx||p(),l._autoplay=s.autoplay||!1,l._format=typeof s.format!="string"?s.format:[s.format],l._html5=s.html5||!1,l._muted=s.mute||!1,l._loop=s.loop||!1,l._pool=s.pool||5,l._preload=typeof s.preload=="boolean"||s.preload==="metadata"?s.preload:!0,l._rate=s.rate||1,l._sprite=s.sprite||{},l._src=typeof s.src!="string"?s.src:[s.src],l._volume=s.volume!==void 0?s.volume:1,l._xhr={method:s.xhr&&s.xhr.method?s.xhr.method:"GET",headers:s.xhr&&s.xhr.headers?s.xhr.headers:null,withCredentials:s.xhr&&s.xhr.withCredentials?s.xhr.withCredentials:!1},l._duration=0,l._state="unloaded",l._sounds=[],l._endTimers={},l._queue=[],l._playLock=!1,l._onend=s.onend?[{fn:s.onend}]:[],l._onfade=s.onfade?[{fn:s.onfade}]:[],l._onload=s.onload?[{fn:s.onload}]:[],l._onloaderror=s.onloaderror?[{fn:s.onloaderror}]:[],l._onplayerror=s.onplayerror?[{fn:s.onplayerror}]:[],l._onpause=s.onpause?[{fn:s.onpause}]:[],l._onplay=s.onplay?[{fn:s.onplay}]:[],l._onstop=s.onstop?[{fn:s.onstop}]:[],l._onmute=s.onmute?[{fn:s.onmute}]:[],l._onvolume=s.onvolume?[{fn:s.onvolume}]:[],l._onrate=s.onrate?[{fn:s.onrate}]:[],l._onseek=s.onseek?[{fn:s.onseek}]:[],l._onunlock=s.onunlock?[{fn:s.onunlock}]:[],l._onresume=[],l._webAudio=i.usingWebAudio&&!l._html5,typeof i.ctx<"u"&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(l),l._autoplay&&l._queue.push({event:"play",action:function(){l.play()}}),l._preload&&l._preload!=="none"&&l.load(),l},load:function(){var s=this,l=null;if(i.noAudio){s._emit("loaderror",null,"No audio support.");return}typeof s._src=="string"&&(s._src=[s._src]);for(var c=0;c<s._src.length;c++){var m,_;if(s._format&&s._format[c])m=s._format[c];else{if(_=s._src[c],typeof _!="string"){s._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(_),m||(m=/\.([^.]+)$/.exec(_.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&i.codecs(m)){l=s._src[c];break}}if(!l){s._emit("loaderror",null,"No codec support for selected audio sources.");return}return s._src=l,s._state="loading",window.location.protocol==="https:"&&l.slice(0,5)==="http:"&&(s._html5=!0,s._webAudio=!1),new o(s),s._webAudio&&a(s),s},play:function(s,l){var c=this,m=null;if(typeof s=="number")m=s,s=null;else{if(typeof s=="string"&&c._state==="loaded"&&!c._sprite[s])return null;if(typeof s>"u"&&(s="__default",!c._playLock)){for(var _=0,E=0;E<c._sounds.length;E++)c._sounds[E]._paused&&!c._sounds[E]._ended&&(_++,m=c._sounds[E]._id);_===1?s=null:m=null}}var A=m?c._soundById(m):c._inactiveSound();if(!A)return null;if(m&&!s&&(s=A._sprite||"__default"),c._state!=="loaded"){A._sprite=s,A._ended=!1;var v=A._id;return c._queue.push({event:"play",action:function(){c.play(v)}}),v}if(m&&!A._paused)return l||c._loadQueue("play"),A._id;c._webAudio&&i._autoResume();var g=Math.max(0,A._seek>0?A._seek:c._sprite[s][0]/1e3),w=Math.max(0,(c._sprite[s][0]+c._sprite[s][1])/1e3-g),I=w*1e3/Math.abs(A._rate),N=c._sprite[s][0]/1e3,L=(c._sprite[s][0]+c._sprite[s][1])/1e3;A._sprite=s,A._ended=!1;var C=function(){A._paused=!1,A._seek=g,A._start=N,A._stop=L,A._loop=!!(A._loop||c._sprite[s][2])};if(g>=L){c._ended(A);return}var d=A._node;if(c._webAudio){var x=function(){c._playLock=!1,C(),c._refreshBuffer(A);var F=A._muted||c._muted?0:A._volume;d.gain.setValueAtTime(F,i.ctx.currentTime),A._playStart=i.ctx.currentTime,typeof d.bufferSource.start>"u"?A._loop?d.bufferSource.noteGrainOn(0,g,86400):d.bufferSource.noteGrainOn(0,g,w):A._loop?d.bufferSource.start(0,g,86400):d.bufferSource.start(0,g,w),I!==1/0&&(c._endTimers[A._id]=setTimeout(c._ended.bind(c,A),I)),l||setTimeout(function(){c._emit("play",A._id),c._loadQueue()},0)};i.state==="running"&&i.ctx.state!=="interrupted"?x():(c._playLock=!0,c.once("resume",x),c._clearTimer(A._id))}else{var T=function(){d.currentTime=g,d.muted=A._muted||c._muted||i._muted||d.muted,d.volume=A._volume*i.volume(),d.playbackRate=A._rate;try{var F=d.play();if(F&&typeof Promise<"u"&&(F instanceof Promise||typeof F.then=="function")?(c._playLock=!0,C(),F.then(function(){c._playLock=!1,d._unlocked=!0,l?c._loadQueue():c._emit("play",A._id)}).catch(function(){c._playLock=!1,c._emit("playerror",A._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),A._ended=!0,A._paused=!0})):l||(c._playLock=!1,C(),c._emit("play",A._id)),d.playbackRate=A._rate,d.paused){c._emit("playerror",A._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}s!=="__default"||A._loop?c._endTimers[A._id]=setTimeout(c._ended.bind(c,A),I):(c._endTimers[A._id]=function(){c._ended(A),d.removeEventListener("ended",c._endTimers[A._id],!1)},d.addEventListener("ended",c._endTimers[A._id],!1))}catch(B){c._emit("playerror",A._id,B)}};d.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(d.src=c._src,d.load());var D=window&&window.ejecta||!d.readyState&&i._navigator.isCocoonJS;if(d.readyState>=3||D)T();else{c._playLock=!0,c._state="loading";var P=function(){c._state="loaded",T(),d.removeEventListener(i._canPlayEvent,P,!1)};d.addEventListener(i._canPlayEvent,P,!1),c._clearTimer(A._id)}}return A._id},pause:function(s){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"pause",action:function(){l.pause(s)}}),l;for(var c=l._getSoundIds(s),m=0;m<c.length;m++){l._clearTimer(c[m]);var _=l._soundById(c[m]);if(_&&!_._paused&&(_._seek=l.seek(c[m]),_._rateSeek=0,_._paused=!0,l._stopFade(c[m]),_._node))if(l._webAudio){if(!_._node.bufferSource)continue;typeof _._node.bufferSource.stop>"u"?_._node.bufferSource.noteOff(0):_._node.bufferSource.stop(0),l._cleanBuffer(_._node)}else(!isNaN(_._node.duration)||_._node.duration===1/0)&&_._node.pause();arguments[1]||l._emit("pause",_?_._id:null)}return l},stop:function(s,l){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"stop",action:function(){c.stop(s)}}),c;for(var m=c._getSoundIds(s),_=0;_<m.length;_++){c._clearTimer(m[_]);var E=c._soundById(m[_]);E&&(E._seek=E._start||0,E._rateSeek=0,E._paused=!0,E._ended=!0,c._stopFade(m[_]),E._node&&(c._webAudio?E._node.bufferSource&&(typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),c._cleanBuffer(E._node)):(!isNaN(E._node.duration)||E._node.duration===1/0)&&(E._node.currentTime=E._start||0,E._node.pause(),E._node.duration===1/0&&c._clearSound(E._node))),l||c._emit("stop",E._id))}return c},mute:function(s,l){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"mute",action:function(){c.mute(s,l)}}),c;if(typeof l>"u")if(typeof s=="boolean")c._muted=s;else return c._muted;for(var m=c._getSoundIds(l),_=0;_<m.length;_++){var E=c._soundById(m[_]);E&&(E._muted=s,E._interval&&c._stopFade(E._id),c._webAudio&&E._node?E._node.gain.setValueAtTime(s?0:E._volume,i.ctx.currentTime):E._node&&(E._node.muted=i._muted?!0:s),c._emit("mute",E._id))}return c},volume:function(){var s=this,l=arguments,c,m;if(l.length===0)return s._volume;if(l.length===1||l.length===2&&typeof l[1]>"u"){var _=s._getSoundIds(),E=_.indexOf(l[0]);E>=0?m=parseInt(l[0],10):c=parseFloat(l[0])}else l.length>=2&&(c=parseFloat(l[0]),m=parseInt(l[1],10));var A;if(typeof c<"u"&&c>=0&&c<=1){if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"volume",action:function(){s.volume.apply(s,l)}}),s;typeof m>"u"&&(s._volume=c),m=s._getSoundIds(m);for(var v=0;v<m.length;v++)A=s._soundById(m[v]),A&&(A._volume=c,l[2]||s._stopFade(m[v]),s._webAudio&&A._node&&!A._muted?A._node.gain.setValueAtTime(c,i.ctx.currentTime):A._node&&!A._muted&&(A._node.volume=c*i.volume()),s._emit("volume",A._id))}else return A=m?s._soundById(m):s._sounds[0],A?A._volume:0;return s},fade:function(s,l,c,m){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"fade",action:function(){_.fade(s,l,c,m)}}),_;s=Math.min(Math.max(0,parseFloat(s)),1),l=Math.min(Math.max(0,parseFloat(l)),1),c=parseFloat(c),_.volume(s,m);for(var E=_._getSoundIds(m),A=0;A<E.length;A++){var v=_._soundById(E[A]);if(v){if(m||_._stopFade(E[A]),_._webAudio&&!v._muted){var g=i.ctx.currentTime,w=g+c/1e3;v._volume=s,v._node.gain.setValueAtTime(s,g),v._node.gain.linearRampToValueAtTime(l,w)}_._startFadeInterval(v,s,l,c,E[A],typeof m>"u")}}return _},_startFadeInterval:function(s,l,c,m,_,E){var A=this,v=l,g=c-l,w=Math.abs(g/.01),I=Math.max(4,w>0?m/w:m),N=Date.now();s._fadeTo=c,s._interval=setInterval(function(){var L=(Date.now()-N)/m;N=Date.now(),v+=g*L,v=Math.round(v*100)/100,g<0?v=Math.max(c,v):v=Math.min(c,v),A._webAudio?s._volume=v:A.volume(v,s._id,!0),E&&(A._volume=v),(c<l&&v<=c||c>l&&v>=c)&&(clearInterval(s._interval),s._interval=null,s._fadeTo=null,A.volume(c,s._id),A._emit("fade",s._id))},I)},_stopFade:function(s){var l=this,c=l._soundById(s);return c&&c._interval&&(l._webAudio&&c._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(c._interval),c._interval=null,l.volume(c._fadeTo,s),c._fadeTo=null,l._emit("fade",s)),l},loop:function(){var s=this,l=arguments,c,m,_;if(l.length===0)return s._loop;if(l.length===1)if(typeof l[0]=="boolean")c=l[0],s._loop=c;else return _=s._soundById(parseInt(l[0],10)),_?_._loop:!1;else l.length===2&&(c=l[0],m=parseInt(l[1],10));for(var E=s._getSoundIds(m),A=0;A<E.length;A++)_=s._soundById(E[A]),_&&(_._loop=c,s._webAudio&&_._node&&_._node.bufferSource&&(_._node.bufferSource.loop=c,c&&(_._node.bufferSource.loopStart=_._start||0,_._node.bufferSource.loopEnd=_._stop,s.playing(E[A])&&(s.pause(E[A],!0),s.play(E[A],!0)))));return s},rate:function(){var s=this,l=arguments,c,m;if(l.length===0)m=s._sounds[0]._id;else if(l.length===1){var _=s._getSoundIds(),E=_.indexOf(l[0]);E>=0?m=parseInt(l[0],10):c=parseFloat(l[0])}else l.length===2&&(c=parseFloat(l[0]),m=parseInt(l[1],10));var A;if(typeof c=="number"){if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"rate",action:function(){s.rate.apply(s,l)}}),s;typeof m>"u"&&(s._rate=c),m=s._getSoundIds(m);for(var v=0;v<m.length;v++)if(A=s._soundById(m[v]),A){s.playing(m[v])&&(A._rateSeek=s.seek(m[v]),A._playStart=s._webAudio?i.ctx.currentTime:A._playStart),A._rate=c,s._webAudio&&A._node&&A._node.bufferSource?A._node.bufferSource.playbackRate.setValueAtTime(c,i.ctx.currentTime):A._node&&(A._node.playbackRate=c);var g=s.seek(m[v]),w=(s._sprite[A._sprite][0]+s._sprite[A._sprite][1])/1e3-g,I=w*1e3/Math.abs(A._rate);(s._endTimers[m[v]]||!A._paused)&&(s._clearTimer(m[v]),s._endTimers[m[v]]=setTimeout(s._ended.bind(s,A),I)),s._emit("rate",A._id)}}else return A=s._soundById(m),A?A._rate:s._rate;return s},seek:function(){var s=this,l=arguments,c,m;if(l.length===0)s._sounds.length&&(m=s._sounds[0]._id);else if(l.length===1){var _=s._getSoundIds(),E=_.indexOf(l[0]);E>=0?m=parseInt(l[0],10):s._sounds.length&&(m=s._sounds[0]._id,c=parseFloat(l[0]))}else l.length===2&&(c=parseFloat(l[0]),m=parseInt(l[1],10));if(typeof m>"u")return 0;if(typeof c=="number"&&(s._state!=="loaded"||s._playLock))return s._queue.push({event:"seek",action:function(){s.seek.apply(s,l)}}),s;var A=s._soundById(m);if(A)if(typeof c=="number"&&c>=0){var v=s.playing(m);v&&s.pause(m,!0),A._seek=c,A._ended=!1,s._clearTimer(m),!s._webAudio&&A._node&&!isNaN(A._node.duration)&&(A._node.currentTime=c);var g=function(){v&&s.play(m,!0),s._emit("seek",m)};if(v&&!s._webAudio){var w=function(){s._playLock?setTimeout(w,0):g()};setTimeout(w,0)}else g()}else if(s._webAudio){var I=s.playing(m)?i.ctx.currentTime-A._playStart:0,N=A._rateSeek?A._rateSeek-A._seek:0;return A._seek+(N+I*Math.abs(A._rate))}else return A._node.currentTime;return s},playing:function(s){var l=this;if(typeof s=="number"){var c=l._soundById(s);return c?!c._paused:!1}for(var m=0;m<l._sounds.length;m++)if(!l._sounds[m]._paused)return!0;return!1},duration:function(s){var l=this,c=l._duration,m=l._soundById(s);return m&&(c=l._sprite[m._sprite][1]/1e3),c},state:function(){return this._state},unload:function(){for(var s=this,l=s._sounds,c=0;c<l.length;c++)l[c]._paused||s.stop(l[c]._id),s._webAudio||(s._clearSound(l[c]._node),l[c]._node.removeEventListener("error",l[c]._errorFn,!1),l[c]._node.removeEventListener(i._canPlayEvent,l[c]._loadFn,!1),l[c]._node.removeEventListener("ended",l[c]._endFn,!1),i._releaseHtml5Audio(l[c]._node)),delete l[c]._node,s._clearTimer(l[c]._id);var m=i._howls.indexOf(s);m>=0&&i._howls.splice(m,1);var _=!0;for(c=0;c<i._howls.length;c++)if(i._howls[c]._src===s._src||s._src.indexOf(i._howls[c]._src)>=0){_=!1;break}return r&&_&&delete r[s._src],i.noAudio=!1,s._state="unloaded",s._sounds=[],s=null,null},on:function(s,l,c,m){var _=this,E=_["_on"+s];return typeof l=="function"&&E.push(m?{id:c,fn:l,once:m}:{id:c,fn:l}),_},off:function(s,l,c){var m=this,_=m["_on"+s],E=0;if(typeof l=="number"&&(c=l,l=null),l||c)for(E=0;E<_.length;E++){var A=c===_[E].id;if(l===_[E].fn&&A||!l&&A){_.splice(E,1);break}}else if(s)m["_on"+s]=[];else{var v=Object.keys(m);for(E=0;E<v.length;E++)v[E].indexOf("_on")===0&&Array.isArray(m[v[E]])&&(m[v[E]]=[])}return m},once:function(s,l,c){var m=this;return m.on(s,l,c,1),m},_emit:function(s,l,c){for(var m=this,_=m["_on"+s],E=_.length-1;E>=0;E--)(!_[E].id||_[E].id===l||s==="load")&&(setTimeout(function(A){A.call(this,l,c)}.bind(m,_[E].fn),0),_[E].once&&m.off(s,_[E].fn,_[E].id));return m._loadQueue(s),m},_loadQueue:function(s){var l=this;if(l._queue.length>0){var c=l._queue[0];c.event===s&&(l._queue.shift(),l._loadQueue()),s||c.action()}return l},_ended:function(s){var l=this,c=s._sprite;if(!l._webAudio&&s._node&&!s._node.paused&&!s._node.ended&&s._node.currentTime<s._stop)return setTimeout(l._ended.bind(l,s),100),l;var m=!!(s._loop||l._sprite[c][2]);if(l._emit("end",s._id),!l._webAudio&&m&&l.stop(s._id,!0).play(s._id),l._webAudio&&m){l._emit("play",s._id),s._seek=s._start||0,s._rateSeek=0,s._playStart=i.ctx.currentTime;var _=(s._stop-s._start)*1e3/Math.abs(s._rate);l._endTimers[s._id]=setTimeout(l._ended.bind(l,s),_)}return l._webAudio&&!m&&(s._paused=!0,s._ended=!0,s._seek=s._start||0,s._rateSeek=0,l._clearTimer(s._id),l._cleanBuffer(s._node),i._autoSuspend()),!l._webAudio&&!m&&l.stop(s._id,!0),l},_clearTimer:function(s){var l=this;if(l._endTimers[s]){if(typeof l._endTimers[s]!="function")clearTimeout(l._endTimers[s]);else{var c=l._soundById(s);c&&c._node&&c._node.removeEventListener("ended",l._endTimers[s],!1)}delete l._endTimers[s]}return l},_soundById:function(s){for(var l=this,c=0;c<l._sounds.length;c++)if(s===l._sounds[c]._id)return l._sounds[c];return null},_inactiveSound:function(){var s=this;s._drain();for(var l=0;l<s._sounds.length;l++)if(s._sounds[l]._ended)return s._sounds[l].reset();return new o(s)},_drain:function(){var s=this,l=s._pool,c=0,m=0;if(!(s._sounds.length<l)){for(m=0;m<s._sounds.length;m++)s._sounds[m]._ended&&c++;for(m=s._sounds.length-1;m>=0;m--){if(c<=l)return;s._sounds[m]._ended&&(s._webAudio&&s._sounds[m]._node&&s._sounds[m]._node.disconnect(0),s._sounds.splice(m,1),c--)}}},_getSoundIds:function(s){var l=this;if(typeof s>"u"){for(var c=[],m=0;m<l._sounds.length;m++)c.push(l._sounds[m]._id);return c}else return[s]},_refreshBuffer:function(s){var l=this;return s._node.bufferSource=i.ctx.createBufferSource(),s._node.bufferSource.buffer=r[l._src],s._panner?s._node.bufferSource.connect(s._panner):s._node.bufferSource.connect(s._node),s._node.bufferSource.loop=s._loop,s._loop&&(s._node.bufferSource.loopStart=s._start||0,s._node.bufferSource.loopEnd=s._stop||0),s._node.bufferSource.playbackRate.setValueAtTime(s._rate,i.ctx.currentTime),l},_cleanBuffer:function(s){var l=this,c=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&s.bufferSource&&(s.bufferSource.onended=null,s.bufferSource.disconnect(0),c))try{s.bufferSource.buffer=i._scratchBuffer}catch{}return s.bufferSource=null,l},_clearSound:function(s){var l=/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent);l||(s.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(s){this._parent=s,this.init()};o.prototype={init:function(){var s=this,l=s._parent;return s._muted=l._muted,s._loop=l._loop,s._volume=l._volume,s._rate=l._rate,s._seek=0,s._paused=!0,s._ended=!0,s._sprite="__default",s._id=++i._counter,l._sounds.push(s),s.create(),s},create:function(){var s=this,l=s._parent,c=i._muted||s._muted||s._parent._muted?0:s._volume;return l._webAudio?(s._node=typeof i.ctx.createGain>"u"?i.ctx.createGainNode():i.ctx.createGain(),s._node.gain.setValueAtTime(c,i.ctx.currentTime),s._node.paused=!0,s._node.connect(i.masterGain)):i.noAudio||(s._node=i._obtainHtml5Audio(),s._errorFn=s._errorListener.bind(s),s._node.addEventListener("error",s._errorFn,!1),s._loadFn=s._loadListener.bind(s),s._node.addEventListener(i._canPlayEvent,s._loadFn,!1),s._endFn=s._endListener.bind(s),s._node.addEventListener("ended",s._endFn,!1),s._node.src=l._src,s._node.preload=l._preload===!0?"auto":l._preload,s._node.volume=c*i.volume(),s._node.load()),s},reset:function(){var s=this,l=s._parent;return s._muted=l._muted,s._loop=l._loop,s._volume=l._volume,s._rate=l._rate,s._seek=0,s._rateSeek=0,s._paused=!0,s._ended=!0,s._sprite="__default",s._id=++i._counter,s},_errorListener:function(){var s=this;s._parent._emit("loaderror",s._id,s._node.error?s._node.error.code:0),s._node.removeEventListener("error",s._errorFn,!1)},_loadListener:function(){var s=this,l=s._parent;l._duration=Math.ceil(s._node.duration*10)/10,Object.keys(l._sprite).length===0&&(l._sprite={__default:[0,l._duration*1e3]}),l._state!=="loaded"&&(l._state="loaded",l._emit("load"),l._loadQueue()),s._node.removeEventListener(i._canPlayEvent,s._loadFn,!1)},_endListener:function(){var s=this,l=s._parent;l._duration===1/0&&(l._duration=Math.ceil(s._node.duration*10)/10,l._sprite.__default[1]===1/0&&(l._sprite.__default[1]=l._duration*1e3),l._ended(s)),s._node.removeEventListener("ended",s._endFn,!1)}};var r={},a=function(s){var l=s._src;if(r[l]){s._duration=r[l].duration,h(s);return}if(/^data:[^;]+;base64,/.test(l)){for(var c=atob(l.split(",")[1]),m=new Uint8Array(c.length),_=0;_<c.length;++_)m[_]=c.charCodeAt(_);f(m.buffer,s)}else{var E=new XMLHttpRequest;E.open(s._xhr.method,l,!0),E.withCredentials=s._xhr.withCredentials,E.responseType="arraybuffer",s._xhr.headers&&Object.keys(s._xhr.headers).forEach(function(A){E.setRequestHeader(A,s._xhr.headers[A])}),E.onload=function(){var A=(E.status+"")[0];if(A!=="0"&&A!=="2"&&A!=="3"){s._emit("loaderror",null,"Failed loading audio file with status: "+E.status+".");return}f(E.response,s)},E.onerror=function(){s._webAudio&&(s._html5=!0,s._webAudio=!1,s._sounds=[],delete r[l],s.load())},u(E)}},u=function(s){try{s.send()}catch{s.onerror()}},f=function(s,l){var c=function(){l._emit("loaderror",null,"Decoding audio data failed.")},m=function(_){_&&l._sounds.length>0?(r[l._src]=_,h(l,_)):c()};typeof Promise<"u"&&i.ctx.decodeAudioData.length===1?i.ctx.decodeAudioData(s).then(m).catch(c):i.ctx.decodeAudioData(s,m,c)},h=function(s,l){l&&!s._duration&&(s._duration=l.duration),Object.keys(s._sprite).length===0&&(s._sprite={__default:[0,s._duration*1e3]}),s._state!=="loaded"&&(s._state="loaded",s._emit("load"),s._loadQueue())},p=function(){if(i.usingWebAudio){try{typeof AudioContext<"u"?i.ctx=new AudioContext:typeof webkitAudioContext<"u"?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch{i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var s=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),l=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),c=l?parseInt(l[1],10):null;if(s&&c&&c<9){var m=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!m&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=typeof i.ctx.createGain>"u"?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};e.Howler=i,e.Howl=n,typeof H<"u"?(H.HowlerGlobal=t,H.Howler=i,H.Howl=n,H.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=i,window.Howl=n,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(i){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var o=n._howls.length-1;o>=0;o--)n._howls[o].stereo(i);return n},HowlerGlobal.prototype.pos=function(i,n,o){var r=this;if(!r.ctx||!r.ctx.listener)return r;if(n=typeof n!="number"?r._pos[1]:n,o=typeof o!="number"?r._pos[2]:o,typeof i=="number")r._pos=[i,n,o],typeof r.ctx.listener.positionX<"u"?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]);else return r._pos;return r},HowlerGlobal.prototype.orientation=function(i,n,o,r,a,u){var f=this;if(!f.ctx||!f.ctx.listener)return f;var h=f._orientation;if(n=typeof n!="number"?h[1]:n,o=typeof o!="number"?h[2]:o,r=typeof r!="number"?h[3]:r,a=typeof a!="number"?h[4]:a,u=typeof u!="number"?h[5]:u,typeof i=="number")f._orientation=[i,n,o,r,a,u],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(i,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(u,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(i,n,o,r,a,u);else return h;return f},Howl.prototype.init=function(i){return function(n){var o=this;return o._orientation=n.orientation||[1,0,0],o._stereo=n.stereo||null,o._pos=n.pos||null,o._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},o._onstereo=n.onstereo?[{fn:n.onstereo}]:[],o._onpos=n.onpos?[{fn:n.onpos}]:[],o._onorientation=n.onorientation?[{fn:n.onorientation}]:[],i.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(i,n){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(i,n)}}),o;var r=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof i=="number")o._stereo=i,o._pos=[i,0,0];else return o._stereo;for(var a=o._getSoundIds(n),u=0;u<a.length;u++){var f=o._soundById(a[u]);if(f)if(typeof i=="number")f._stereo=i,f._pos=[i,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,r),r==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(i,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(i,0,0):f._panner.pan.setValueAtTime(i,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(i,n,o,r){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(i,n,o,r)}}),a;if(n=typeof n!="number"?0:n,o=typeof o!="number"?-.5:o,typeof r>"u")if(typeof i=="number")a._pos=[i,n,o];else return a._pos;for(var u=a._getSoundIds(r),f=0;f<u.length;f++){var h=a._soundById(u[f]);if(h)if(typeof i=="number")h._pos=[i,n,o],h._node&&((!h._panner||h._panner.pan)&&t(h,"spatial"),typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(i,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):h._panner.setPosition(i,n,o)),a._emit("pos",h._id);else return h._pos}return a},Howl.prototype.orientation=function(i,n,o,r){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(i,n,o,r)}}),a;if(n=typeof n!="number"?a._orientation[1]:n,o=typeof o!="number"?a._orientation[2]:o,typeof r>"u")if(typeof i=="number")a._orientation=[i,n,o];else return a._orientation;for(var u=a._getSoundIds(r),f=0;f<u.length;f++){var h=a._soundById(u[f]);if(h)if(typeof i=="number")h._orientation=[i,n,o],h._node&&(h._panner||(h._pos||(h._pos=a._pos||[0,0,-.5]),t(h,"spatial")),typeof h._panner.orientationX<"u"?(h._panner.orientationX.setValueAtTime(i,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):h._panner.setOrientation(i,n,o)),a._emit("orientation",h._id);else return h._orientation}return a},Howl.prototype.pannerAttr=function(){var i=this,n=arguments,o,r,a;if(!i._webAudio)return i;if(n.length===0)return i._pannerAttr;if(n.length===1)if(typeof n[0]=="object")o=n[0],typeof r>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),i._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:i._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:i._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:i._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:i._panningModel});else return a=i._soundById(parseInt(n[0],10)),a?a._pannerAttr:i._pannerAttr;else n.length===2&&(o=n[0],r=parseInt(n[1],10));for(var u=i._getSoundIds(r),f=0;f<u.length;f++)if(a=i._soundById(u[f]),a){var h=a._pannerAttr;h={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:h.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:h.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:h.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:h.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:h.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:h.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:h.panningModel};var p=a._panner;p?(p.coneInnerAngle=h.coneInnerAngle,p.coneOuterAngle=h.coneOuterAngle,p.coneOuterGain=h.coneOuterGain,p.distanceModel=h.distanceModel,p.maxDistance=h.maxDistance,p.refDistance=h.refDistance,p.rolloffFactor=h.rolloffFactor,p.panningModel=h.panningModel):(a._pos||(a._pos=i._pos||[0,0,-.5]),t(a,"spatial"))}return i},Sound.prototype.init=function(i){return function(){var n=this,o=n._parent;n._orientation=o._orientation,n._stereo=o._stereo,n._pos=o._pos,n._pannerAttr=o._pannerAttr,i.call(this),n._stereo?o.stereo(n._stereo):n._pos&&o.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(i){return function(){var n=this,o=n._parent;return n._orientation=o._orientation,n._stereo=o._stereo,n._pos=o._pos,n._pannerAttr=o._pannerAttr,n._stereo?o.stereo(n._stereo):n._pos?o.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,o._refreshBuffer(n)),i.call(this)}}(Sound.prototype.reset);var t=function(i,n){n=n||"spatial",n==="spatial"?(i._panner=Howler.ctx.createPanner(),i._panner.coneInnerAngle=i._pannerAttr.coneInnerAngle,i._panner.coneOuterAngle=i._pannerAttr.coneOuterAngle,i._panner.coneOuterGain=i._pannerAttr.coneOuterGain,i._panner.distanceModel=i._pannerAttr.distanceModel,i._panner.maxDistance=i._pannerAttr.maxDistance,i._panner.refDistance=i._pannerAttr.refDistance,i._panner.rolloffFactor=i._pannerAttr.rolloffFactor,i._panner.panningModel=i._pannerAttr.panningModel,typeof i._panner.positionX<"u"?(i._panner.positionX.setValueAtTime(i._pos[0],Howler.ctx.currentTime),i._panner.positionY.setValueAtTime(i._pos[1],Howler.ctx.currentTime),i._panner.positionZ.setValueAtTime(i._pos[2],Howler.ctx.currentTime)):i._panner.setPosition(i._pos[0],i._pos[1],i._pos[2]),typeof i._panner.orientationX<"u"?(i._panner.orientationX.setValueAtTime(i._orientation[0],Howler.ctx.currentTime),i._panner.orientationY.setValueAtTime(i._orientation[1],Howler.ctx.currentTime),i._panner.orientationZ.setValueAtTime(i._orientation[2],Howler.ctx.currentTime)):i._panner.setOrientation(i._orientation[0],i._orientation[1],i._orientation[2])):(i._panner=Howler.ctx.createStereoPanner(),i._panner.pan.setValueAtTime(i._stereo,Howler.ctx.currentTime)),i._panner.connect(i._node),i._paused||i._parent.pause(i._id,!0).play(i._id,!0)}})()})(Ci);var au={exports:{}};(function(e,t){/** @preserve SAT.js - Version 0.9.0 - Copyright 2012 - 2021 - Jim Riecken <jimr@jimr.ca> - released under the MIT License. https://github.com/jriecken/sat-js */(function(i,n){e.exports=n()})(H,function(){var i={};function n(d,x){this.x=d||0,this.y=x||0}i.Vector=n,i.V=n,n.prototype.copy=n.prototype.copy=function(d){return this.x=d.x,this.y=d.y,this},n.prototype.clone=n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.perp=n.prototype.perp=function(){var d=this.x;return this.x=this.y,this.y=-d,this},n.prototype.rotate=n.prototype.rotate=function(d){var x=this.x,T=this.y;return this.x=x*Math.cos(d)-T*Math.sin(d),this.y=x*Math.sin(d)+T*Math.cos(d),this},n.prototype.reverse=n.prototype.reverse=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.normalize=n.prototype.normalize=function(){var d=this.len();return d>0&&(this.x=this.x/d,this.y=this.y/d),this},n.prototype.add=n.prototype.add=function(d){return this.x+=d.x,this.y+=d.y,this},n.prototype.sub=n.prototype.sub=function(d){return this.x-=d.x,this.y-=d.y,this},n.prototype.scale=n.prototype.scale=function(d,x){return this.x*=d,this.y*=typeof x<"u"?x:d,this},n.prototype.project=n.prototype.project=function(d){var x=this.dot(d)/d.len2();return this.x=x*d.x,this.y=x*d.y,this},n.prototype.projectN=n.prototype.projectN=function(d){var x=this.dot(d);return this.x=x*d.x,this.y=x*d.y,this},n.prototype.reflect=n.prototype.reflect=function(d){var x=this.x,T=this.y;return this.project(d).scale(2),this.x-=x,this.y-=T,this},n.prototype.reflectN=n.prototype.reflectN=function(d){var x=this.x,T=this.y;return this.projectN(d).scale(2),this.x-=x,this.y-=T,this},n.prototype.dot=n.prototype.dot=function(d){return this.x*d.x+this.y*d.y},n.prototype.len2=n.prototype.len2=function(){return this.dot(this)},n.prototype.len=n.prototype.len=function(){return Math.sqrt(this.len2())};function o(d,x){this.pos=d||new n,this.r=x||0,this.offset=new n}i.Circle=o,o.prototype.getAABBAsBox=o.prototype.getAABBAsBox=function(){var d=this.r,x=this.pos.clone().add(this.offset).sub(new n(d,d));return new a(x,d*2,d*2)},o.prototype.getAABB=o.prototype.getAABB=function(){return this.getAABBAsBox().toPolygon()},o.prototype.setOffset=o.prototype.setOffset=function(d){return this.offset=d,this};function r(d,x){this.pos=d||new n,this.angle=0,this.offset=new n,this.setPoints(x||[])}i.Polygon=r,r.prototype.setPoints=r.prototype.setPoints=function(d){var x=!this.points||this.points.length!==d.length;if(x){var T,D=this.calcPoints=[],P=this.edges=[],F=this.normals=[];for(T=0;T<d.length;T++){var B=d[T],k=T<d.length-1?d[T+1]:d[0];if(B!==k&&B.x===k.x&&B.y===k.y){d.splice(T,1),T-=1;continue}D.push(new n),P.push(new n),F.push(new n)}}return this.points=d,this._recalc(),this},r.prototype.setAngle=r.prototype.setAngle=function(d){return this.angle=d,this._recalc(),this},r.prototype.setOffset=r.prototype.setOffset=function(d){return this.offset=d,this._recalc(),this},r.prototype.rotate=r.prototype.rotate=function(d){for(var x=this.points,T=x.length,D=0;D<T;D++)x[D].rotate(d);return this._recalc(),this},r.prototype.translate=r.prototype.translate=function(d,x){for(var T=this.points,D=T.length,P=0;P<D;P++)T[P].x+=d,T[P].y+=x;return this._recalc(),this},r.prototype._recalc=function(){var d=this.calcPoints,x=this.edges,T=this.normals,D=this.points,P=this.offset,F=this.angle,B=D.length,k;for(k=0;k<B;k++){var j=d[k].copy(D[k]);j.x+=P.x,j.y+=P.y,F!==0&&j.rotate(F)}for(k=0;k<B;k++){var ie=d[k],ne=k<B-1?d[k+1]:d[0],_e=x[k].copy(ne).sub(ie);T[k].copy(_e).perp().normalize()}return this},r.prototype.getAABBAsBox=r.prototype.getAABBAsBox=function(){for(var d=this.calcPoints,x=d.length,T=d[0].x,D=d[0].y,P=d[0].x,F=d[0].y,B=1;B<x;B++){var k=d[B];k.x<T?T=k.x:k.x>P&&(P=k.x),k.y<D?D=k.y:k.y>F&&(F=k.y)}return new a(this.pos.clone().add(new n(T,D)),P-T,F-D)},r.prototype.getAABB=r.prototype.getAABB=function(){return this.getAABBAsBox().toPolygon()},r.prototype.getCentroid=r.prototype.getCentroid=function(){for(var d=this.calcPoints,x=d.length,T=0,D=0,P=0,F=0;F<x;F++){var B=d[F],k=F===x-1?d[0]:d[F+1],j=B.x*k.y-k.x*B.y;T+=(B.x+k.x)*j,D+=(B.y+k.y)*j,P+=j}return P=P*3,T=T/P,D=D/P,new n(T,D)};function a(d,x,T){this.pos=d||new n,this.w=x||0,this.h=T||0}i.Box=a,a.prototype.toPolygon=a.prototype.toPolygon=function(){var d=this.pos,x=this.w,T=this.h;return new r(new n(d.x,d.y),[new n,new n(x,0),new n(x,T),new n(0,T)])};function u(){this.a=null,this.b=null,this.overlapN=new n,this.overlapV=new n,this.clear()}i.Response=u,u.prototype.clear=u.prototype.clear=function(){return this.aInB=!0,this.bInA=!0,this.overlap=Number.MAX_VALUE,this};for(var f=[],h=0;h<10;h++)f.push(new n);for(var p=[],h=0;h<5;h++)p.push([]);var s=new u,l=new a(new n,1e-6,1e-6).toPolygon();function c(d,x,T){for(var D=Number.MAX_VALUE,P=-Number.MAX_VALUE,F=d.length,B=0;B<F;B++){var k=d[B].dot(x);k<D&&(D=k),k>P&&(P=k)}T[0]=D,T[1]=P}function m(d,x,T,D,P,F){var B=p.pop(),k=p.pop(),j=f.pop().copy(x).sub(d),ie=j.dot(P);if(c(T,P,B),c(D,P,k),k[0]+=ie,k[1]+=ie,B[0]>k[1]||k[0]>B[1])return f.push(j),p.push(B),p.push(k),!0;if(F){var ne=0;if(B[0]<k[0])if(F.aInB=!1,B[1]<k[1])ne=B[1]-k[0],F.bInA=!1;else{var _e=B[1]-k[0],pe=k[1]-B[0];ne=_e<pe?_e:-pe}else if(F.bInA=!1,B[1]>k[1])ne=B[0]-k[1],F.aInB=!1;else{var _e=B[1]-k[0],pe=k[1]-B[0];ne=_e<pe?_e:-pe}var be=Math.abs(ne);be<F.overlap&&(F.overlap=be,F.overlapN.copy(P),ne<0&&F.overlapN.reverse())}return f.push(j),p.push(B),p.push(k),!1}i.isSeparatingAxis=m;function _(d,x){var T=d.len2(),D=x.dot(d);return D<0?E:D>T?v:A}var E=-1,A=0,v=1;function g(d,x){var T=f.pop().copy(d).sub(x.pos).sub(x.offset),D=x.r*x.r,P=T.len2();return f.push(T),P<=D}i.pointInCircle=g;function w(d,x){l.pos.copy(d),s.clear();var T=C(l,x,s);return T&&(T=s.aInB),T}i.pointInPolygon=w;function I(d,x,T){var D=f.pop().copy(x.pos).add(x.offset).sub(d.pos).sub(d.offset),P=d.r+x.r,F=P*P,B=D.len2();if(B>F)return f.push(D),!1;if(T){var k=Math.sqrt(B);T.a=d,T.b=x,T.overlap=P-k,T.overlapN.copy(D.normalize()),T.overlapV.copy(D).scale(T.overlap),T.aInB=d.r<=x.r&&k<=x.r-d.r,T.bInA=x.r<=d.r&&k<=d.r-x.r}return f.push(D),!0}i.testCircleCircle=I;function N(d,x,T){for(var D=f.pop().copy(x.pos).add(x.offset).sub(d.pos),P=x.r,F=P*P,B=d.calcPoints,k=B.length,j=f.pop(),ie=f.pop(),ne=0;ne<k;ne++){var _e=ne===k-1?0:ne+1,pe=ne===0?k-1:ne-1,be=0,St=null;j.copy(d.edges[ne]),ie.copy(D).sub(B[ne]),T&&ie.len2()>F&&(T.aInB=!1);var ze=_(j,ie);if(ze===E){j.copy(d.edges[pe]);var Kt=f.pop().copy(D).sub(B[pe]);if(ze=_(j,Kt),ze===v){var Ce=ie.len();if(Ce>P)return f.push(D),f.push(j),f.push(ie),f.push(Kt),!1;T&&(T.bInA=!1,St=ie.normalize(),be=P-Ce)}f.push(Kt)}else if(ze===v){if(j.copy(d.edges[_e]),ie.copy(D).sub(B[_e]),ze=_(j,ie),ze===E){var Ce=ie.len();if(Ce>P)return f.push(D),f.push(j),f.push(ie),!1;T&&(T.bInA=!1,St=ie.normalize(),be=P-Ce)}}else{var b=j.perp().normalize(),Ce=ie.dot(b),y=Math.abs(Ce);if(Ce>0&&y>P)return f.push(D),f.push(b),f.push(ie),!1;T&&(St=b,be=P-Ce,(Ce>=0||be<2*P)&&(T.bInA=!1))}St&&T&&Math.abs(be)<Math.abs(T.overlap)&&(T.overlap=be,T.overlapN.copy(St))}return T&&(T.a=d,T.b=x,T.overlapV.copy(T.overlapN).scale(T.overlap)),f.push(D),f.push(j),f.push(ie),!0}i.testPolygonCircle=N;function L(d,x,T){var D=N(x,d,T);if(D&&T){var P=T.a,F=T.aInB;T.overlapN.reverse(),T.overlapV.reverse(),T.a=T.b,T.b=P,T.aInB=T.bInA,T.bInA=F}return D}i.testCirclePolygon=L;function C(d,x,T){for(var D=d.calcPoints,P=D.length,F=x.calcPoints,B=F.length,k=0;k<P;k++)if(m(d.pos,x.pos,D,F,d.normals[k],T))return!1;for(var k=0;k<B;k++)if(m(d.pos,x.pos,D,F,x.normals[k],T))return!1;return T&&(T.a=d,T.b=x,T.overlapV.copy(T.overlapN).scale(T.overlap)),!0}return i.testPolygonPolygon=C,i})})(au);var V=au.exports;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Oi(e,t,i,n){function o(r){return r instanceof i?r:new i(function(a){a(r)})}return new(i||(i=Promise))(function(r,a){function u(p){try{h(n.next(p))}catch(s){a(s)}}function f(p){try{h(n.throw(p))}catch(s){a(s)}}function h(p){p.done?r(p.value):o(p.value).then(u,f)}h((n=n.apply(e,t||[])).next())})}function Ye(e,t,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(e):n?n.value:t.get(e)}function df(e,t,i,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,i):o?o.value=i:t.set(e,i),i}var ht;(function(e){e.CUSTOM="custom",e.IMAGE_LAYER="imagelayer",e.LAYER="layer",e.OBJECT_GROUP="objectgroup",e.PROPERTIES="properties",e.TILESET="tileset"})(ht||(ht={}));var Mi;(function(e){e.NON_COLLIDING="noCollide",e.INVISIBLE="invisible",e.ONE_WAY="oneWay"})(Mi||(Mi={}));var me;(function(e){e.BLACK="#000",e.BLACK1="#000000FF",e.BLACK0="#00000000",e.LIGHT="#FADC96CC",e.BLUE="#7CF",e.DARK_GREY="#222",e.DARK_RED="#D00",e.GREEN="#0F0",e.LIGHT_RED="#F00",e.PURPLE="#F0F",e.WHITE="#FFF",e.WHITE_25="#FFFFFF19",e.WHITE_50="#FFFFFF80"})(me||(me={}));var to;(function(e){e.BOX="box",e.POLYGON="polygon"})(to||(to={}));var gt;(function(e){e[e.DIAGONALLY=536870912]="DIAGONALLY",e[e.HORIZONTALLY=2147483648]="HORIZONTALLY",e[e.VERTICALLY=1073741824]="VERTICALLY"})(gt||(gt={}));const io=()=>{};function pf(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function He(){return typeof performance<"u"&&performance.now()||0}function An(e){return!!(e&&e.length)}function mf(e){return{H:!!(e&gt.HORIZONTALLY),V:!!(e&gt.VERTICALLY),D:!!(e&gt.DIAGONALLY)}}const gf=e=>e.replace(/^.*[\\\/]/,""),_f=(e,t,i)=>Math.max(t,Math.min(i,e)),Ei=(e,t)=>e.pos.x<t.pos.x+t.w&&e.pos.x+e.w>t.pos.x&&e.pos.y<t.pos.y+t.h&&e.pos.y+e.h>t.pos.y;function su(e,t,i){for(;e<t;)e+=i-t;for(;e>=i;)e-=i-t;return e}class yf{constructor(t){this.game=t,this.isRunning=!1,this.duration=0,this.progress=0,this.elapsed=0,this.intensity=new V.Vector,this.offset=new V.Vector}start(t,i){this.isRunning=!0,this.duration=t,this.intensity=new V.Vector(i.x,i.y),this.offset=new V.Vector(0,0),this.progress=0,this.elapsed=0}update(){if(!this.isRunning)return;const{delta:t,resolution:i}=this.game;this.elapsed+=t*1e3,this.progress=_f(this.elapsed/this.duration,0,1),this.elapsed<this.duration?this.offset=new V.Vector(Math.random()*this.intensity.x*i.x*2-this.intensity.x*i.x,Math.random()*this.intensity.y*i.y*2-this.intensity.y*i.y):this.reset()}reset(){this.isRunning=!1,this.offset=new V.Vector(0,0)}}class vf{constructor(t){this.game=t,this.pos=new V.Vector,this.offset=new V.Vector,this.anchor=new V.Vector,this.speed=new V.Vector(1,1),this.shaker=new yf(t)}moveTo(t,i){const n=this.getBounds(),o=Math.max(n.pos.x,Math.min(t,n.w)),r=Math.max(n.pos.y,Math.min(i,n.h));this.pos=new V.Vector(-o+this.game.resolution.x/2,-r+this.game.resolution.y/2),this.anchor=this.pos.clone()}center(){this.follow?this.moveTo(this.follow.pos.x+this.follow.width/2,this.follow.pos.y+this.follow.height/2):this.moveTo(this.game.resolution.x/2,this.game.resolution.y/2)}getBounds(){return this.bounds||this.setBounds(0,0,1/0,1/0),this.bounds}setBounds(t,i,n,o){this.bounds=new V.Box(new V.Vector(t,i),n,o)}setSpeed(t,i=t){this.speed=new V.Vector(t,i)}setOffset(t,i){this.offset=new V.Vector(-t,-i)}setFollow(t,i=!0){this.follow=t,i&&this.center()}unfollow(){this.follow=void 0}shake(t,i){this.shaker.start(t,i)}update(){if(this.follow){const{speed:t,follow:i}=this,{x:n,y:o}=this.game.resolution,{w:r,h:a}=this.getBounds(),u=new V.Vector(-n/2+i.pos.x+i.force.x+i.width/2,-o/2+i.pos.y+i.force.y+i.height/2),f=new V.Vector((u.x+this.pos.x-this.offset.x-this.shaker.offset.x)*t.x,(u.y+this.pos.y-this.offset.y-this.shaker.offset.y)*t.y);this.pos=this.pos.sub(new V.Vector(Math.round(f.x/this.game.scale),Math.round(f.y/this.game.scale))),this.pos.x-n<-r&&(this.pos.x=-r+n),this.pos.y-o<-a&&(this.pos.y=-a+o),this.pos.x>0&&(this.pos.x=0),this.pos.y>0&&(this.pos.y=0)}else this.pos.x=this.anchor.x-Math.round(this.offset.x-this.shaker.offset.x),this.pos.y=this.anchor.y-Math.round(this.offset.y-this.shaker.offset.y);this.shaker.update()}}var Oe;class Pe{constructor(t,i){this.game=i,this.width=0,this.height=0,this.pos=new V.Vector,this.expectedPos=new V.Vector,this.initialPos=new V.Vector,this.force=new V.Vector,this.shape=to.BOX,this.collisionLayers=[],this.collisions=!1,this.solid=!1,this.visible=!0,this.active=!0,this.dead=!1,Oe.set(this,void 0),this.onGround=()=>this.pos.y<this.expectedPos.y,this.onCeiling=()=>this.pos.y>this.expectedPos.y,this.onRightWall=()=>this.pos.x<this.expectedPos.x,this.onLeftWall=()=>this.pos.x>this.expectedPos.x,this.id=t.id&&`${t.id}`||pf(),this.gid=t.gid,this.pos=new V.Vector(t.x,t.y-(t.gid?t.height:0)),this.color=t.color,this.type=t.type,this.width=t.width||this.width,this.height=t.height||this.height,this.properties=t.properties,this.rotatation=t.rotation,this.layerId=t.layerId,this.visible=t.visible!==void 0?t.visible:!0,this.initialPos=this.pos.clone()}collide(t){}setCollisionArea(...t){if(t.length===4){const[i,n,o,r]=t;this.bounds=new V.Box(new V.Vector(i,n),o,r)}else this.bounds=new V.Box(new V.Vector,this.width,this.height)}getCollisionArea(){return this.bounds||new V.Box(new V.Vector,this.width,this.height)}getBoundingBox(t=this.pos.x,i=this.pos.y){if(this.bounds){const{pos:n,w:o,h:r}=this.bounds;return new V.Box(new V.Vector(n.x+t,n.y+i),o,r)}else return new V.Box(new V.Vector(t,i),this.width,this.height)}draw(){if(this.visible&&this.onScreen()){const{ctx:t}=this.game,{camera:i,debug:n}=this.game.getCurrentScene(),o=new V.Vector(Math.floor(this.pos.x+i.pos.x),Math.floor(this.pos.y+i.pos.y));Ye(this,Oe,"f")?Ye(this,Oe,"f").draw(o,this.flips):this.color&&(t.save(),t.fillStyle=this.color,t.beginPath(),t.rect(this.pos.x+i.pos.x,this.pos.y+i.pos.y,this.width,this.height),t.fill(),t.closePath(),t.restore()),n&&this.displayDebug()}}addSprite(t){df(this,Oe,t,"f")}animate(t,i,n=io){Ye(this,Oe,"f")&&Ye(this,Oe,"f").animate&&(this.flips=i,Ye(this,Oe,"f").animate(t),n(Ye(this,Oe,"f").animFrame)),t!==this.animation&&t.bounds&&An(t.bounds)&&this.setCollisionArea(...t.bounds),this.animation=t}getAnimationFrame(){var t;return((t=Ye(this,Oe,"f"))===null||t===void 0?void 0:t.animFrame)||0}setAnimationFrame(t){Ye(this,Oe,"f")&&(Ye(this,Oe,"f").animFrame=t)}kill(){this.dead=!0}show(){this.visible=!0}hide(){this.visible=!1}approach(t,i,n,o=1){return t<i?Math.min(t+n*o,i*o):Math.max(t-n*o,i*o)}update(){this.move()}move(t=this.force){if(this.expectedPos=new V.Vector(this.pos.x+t.x,this.pos.y+t.y),this.collisions&&(this.force.x!==0||this.force.y!==0)){const i=this.game.getCurrentScene(),n=this.getCollisionArea(),o=i.camera.getBounds(),{tilewidth:r,tileheight:a}=i;(this.expectedPos.x+n.pos.x<=o.pos.x||this.expectedPos.x+n.pos.x+n.w>=o.pos.x+o.w)&&(t.x=0),(this.expectedPos.y+n.pos.y<=o.pos.y||this.expectedPos.y+n.pos.y+n.h>=o.pos.y+o.h)&&(t.y=0);const u=this.pos.x+n.pos.x,f=this.pos.y+n.pos.y,h=Math.ceil((this.expectedPos.x+n.pos.x)/r)-1,p=Math.ceil((this.expectedPos.y+n.pos.y)/a)-1,s=Math.ceil((this.expectedPos.x+n.pos.x+n.w)/r),l=Math.ceil((this.expectedPos.y+n.pos.y+n.h)/a),c=this.getBoundingBox(this.expectedPos.x,this.pos.y),m=this.getBoundingBox(this.pos.x,this.expectedPos.y);if(An(this.collisionLayers))for(const _ of this.collisionLayers){const E=i.getLayer(_);switch(E.type){case ht.LAYER:for(let A=p;A<l;A++)for(let v=h;v<s;v++){const g=i.getTile(v,A,E.id);if(g&&g.isSolid()){const w=g.getBounds(v,A);Ei(w,c)&&Math.abs(t.x)>0&&!g.isOneWay()&&(t.x=t.x<0?w.pos.x+g.width-u:w.pos.x-n.w-u),Ei(w,m)&&(!g.isOneWay()&&Math.abs(t.y)>0?t.y=t.y<0?w.pos.y+g.height-f:w.pos.y-n.h-f:t.y>=0&&g.isOneWay()&&this.pos.y+n.pos.y+n.h<=w.pos.y&&(t.y=w.pos.y-n.h-f))}}break;case ht.OBJECT_GROUP:i.objects.forEach(A=>{const v=A.getBoundingBox(A.pos.x,A.pos.y);A.id!==this.id&&A.collisions&&A.layerId===_&&A.collisionLayers.includes(this.layerId)&&(A.solid&&(Ei(v,m)&&Math.abs(t.y)>0&&(t.y=t.y<0?v.pos.y+A.height-f:v.pos.y-n.h-f),Ei(v,c)&&Math.abs(t.x)>0&&(t.x=t.x<0?v.pos.x+A.width-u:v.pos.x-n.w-u)),Ei(v,this.getBoundingBox(this.expectedPos.x,this.expectedPos.y))&&(this.collide(A),A.collide(this)))});break}}}this.pos=this.pos.add(t)}onScreen(){const t=this.game.getCurrentScene(),{camera:i,tilewidth:n,tileheight:o}=t,{pos:r,w:a,h:u}=this.getCollisionArea(),{x:f,y:h}=this.game.resolution,p=this.pos.x+r.x,s=this.pos.y+r.y;return p+a+n>-i.pos.x&&s+u+o>-i.pos.y&&p-n<-i.pos.x+f&&s-o<-i.pos.y+h}displayDebug(){const{draw:t}=this.game,{camera:i}=this.game.getCurrentScene(),{width:n,height:o,type:r,visible:a,force:u}=this,[f,h]=[Math.floor(this.pos.x+i.pos.x),Math.floor(this.pos.y+i.pos.y)],[p,s]=[f+n+4,h+o/2];t.outline(new V.Box(new V.Vector(f,h),n,o),a?me.WHITE_50:me.PURPLE,.25),t.outline(this.getBoundingBox(f,h),a?me.GREEN:me.PURPLE,.5),t.fillText(`${r}`,f,h-10,me.WHITE),t.fillText(`x:${Math.floor(this.pos.x)}`,f,h-6,me.LIGHT_RED),t.fillText(`y:${Math.floor(this.pos.y)}`,f,h-2,me.LIGHT_RED),u.x!==0&&t.fillText(`${u.x.toFixed(2)}`,p,s-2,me.LIGHT_RED),u.y!==0&&t.fillText(`${u.y.toFixed(2)}`,p,s+2,me.LIGHT_RED)}}Oe=new WeakMap;class li{constructor(t,i){this.game=i,this.width=0,this.height=0,this.type=ht.CUSTOM,this.properties={},this.visible=!0,t?(this.id=t.id,this.name=t.name,this.type=t.type,this.width=t.width,this.height=t.height,this.visible=t.visible===void 0?!0:!!t.visible,this.properties=t?.properties||{},this.data=t?.data):(this.type=ht.CUSTOM,this.id=0)}update(){}isInRange(t,i){return t>=0&&i>=0&&t<this.width&&i<this.height}get(t,i){return this.isInRange(t,i)&&this.data&&this.data[t+this.width*i]||null}put(t,i,n){this.data&&this.isInRange(t,i)&&(this.data[t+this.width*i]=n)}clear(t,i){this.data&&this.isInRange(t,i)&&(this.data[t+this.width*i]=null)}toggleVisibility(t){this.visible=t}draw(){const t=this.game.getCurrentScene();if(this.visible)switch(this.type){case ht.LAYER:t.forEachVisibleTile(this,(i,n,o)=>i?.draw(n,o));break;case ht.OBJECT_GROUP:t.forEachVisibleObject(i=>i.visible&&i.draw(),this.id);break}}}class Af{constructor(t,i,n,o){this.id=t,this.width=i,this.height=n,this.game=o,this.animFrame=0,this.then=He(),this.frameStart=He()}animate(t=this.animation){if(t){this.animFrame=this.animFrame||0,this.frameStart=He(),this.animation!==t&&(this.animation=t,this.animFrame=0);const i=t.strip?t.strip.duration:t.frames&&t.frames[this.animFrame][2]||0,n=t.strip?t.strip.frames:t.frames&&t.frames.length||0;this.frameStart-this.then>i&&(this.animFrame<=n&&t.loop?this.animFrame=su(this.animFrame+1,0,n):this.animFrame<n-1&&!t.loop&&(this.animFrame+=1),this.then=He())}}draw(t,i){const{id:n,animation:o,animFrame:r,width:a,height:u}=this,{ctx:f}=this.game,h=this.game.getImage(n),p=i?.H?-1:1,s=i?.V?-1:1,l=i?.H?a*-1:0,c=i?.V?u*-1:0,m=i?.H||i?.V,[_,E]=[(t.x-l)*p,(t.y-c)*s];if(f.save(),m&&f.scale(p,s),o){const{frames:A,strip:v}=o,g=A&&A[r]||[0,0],w=v?v.x+r*o.width:g[0],I=v?v.y:g[1];f.drawImage(h,w,I,o.width,o.height,_,E,o.width,o.height)}else h&&f.drawImage(h,0,0,a,u,_,E,a,u);f.restore()}}class wf{constructor(t,i,n){this.id=t,this.tileset=i,this.game=n,this.animFrame=0,this.then=He(),this.frameStart=He(),this.isSolid=()=>this.type!==Mi.NON_COLLIDING,this.isOneWay=()=>this.type===Mi.ONE_WAY,this.isInvisible=()=>this.type===Mi.INVISIBLE,this.properties=this.getTileProperties(t,this.tileset),this.type=this.properties&&this.properties.type||null,this.width=this.tileset.tilewidth,this.height=this.tileset.tileheight,this.terrain=this.getTerrain()}getTileProperties(t,i){const{firstgid:n,tiles:o}=i;return An(o)&&o.filter(r=>r.id===t-n)[0]||{}}getBounds(t,i){return new V.Box(new V.Vector(t*this.width,i*this.height),this.width,this.height)}getTerrain(){const{terrain:t}=this.properties;return t&&t.split(",").map(i=>i?parseInt(i):null)}getNextGid(){if(this.properties&&this.properties.animation){this.frameStart=He();const{frames:t}=this.properties.animation;return this.frameStart-this.then>t[this.animFrame].duration&&(this.animFrame<=t.length&&(this.animFrame=su(this.animFrame+1,0,t.length)),this.then=He()),t[this.animFrame].tileid+this.tileset.firstgid}else return this.id}draw(t,i){if(!this.isInvisible()){const{ctx:n,draw:o}=this.game,{image:r,columns:a,firstgid:u,tilewidth:f,tileheight:h}=this.tileset,p=this.getNextGid(),s=(p-u)%a*f,l=(Math.ceil((p-u+1)/a)-1)*h,c=i?.H?-1:1,m=i?.V?-1:1,_=i?.H?f*-1:0,E=i?.V?h*-1:0,A=i?.H||i?.V,[v,g]=[(t.x-_)*c,(t.y-E)*m];n.save(),A&&n.scale(c,m),n.drawImage(this.game.getImage(r.source),s,l,f,h,v,g,f,h),n.restore(),this.game.getCurrentScene().debug&&(o.fillText(`${this.id}`,t.x+2,t.y+6,me.WHITE_50),o.outline(new V.Box(t,f,h),me.WHITE_25,.1))}}}class no{constructor(t){this.entities={},this.layers=[],this.tiles={},this.objects=[],this.tilewidth=0,this.tileheight=0,this.width=0,this.height=0,this.debug=!1,this.game=t,this.camera=new vf(t),t.debug&&t.gui&&t.gui.add(this,"debug").listen()}init(){return Oi(this,void 0,void 0,function*(){})}update(){for(const t of this.layers)t instanceof li&&t.update();for(const t of this.objects)t.active&&(t.update(),t.dead&&this.removeObject(t));this.camera.update()}draw(){const{ctx:t,colors:i,draw:n,width:o,height:r,scale:a}=this.game;t.imageSmoothingEnabled=!1,t.save(),t.scale(a,a),t.clearRect(0,0,o/a,r/a),i.backgroundColor&&(t.fillStyle=i.backgroundColor,t.fillRect(0,0,o/a,r/a));for(const u of this.layers)u instanceof li&&u.draw();this.debug&&(n.fillText("CAMERA",4,8,me.WHITE),n.fillText(`x:${Math.floor(this.camera.pos.x)}`,4,12,me.LIGHT_RED),n.fillText(`y:${Math.floor(this.camera.pos.y)}`,4,16,me.LIGHT_RED)),t.restore()}setDimensions(t,i,n,o){this.tilewidth=n,this.tileheight=o,this.width=t,this.height=i,this.camera.setBounds(0,0,t*n,i*o)}createLayers(t){this.layers=[],t.forEach(i=>this.addLayer(i))}addLayer(t){typeof t=="function"?this.layers.push(new t(null,this.game)):(this.layers.push(new li(t,this.game)),t.objects&&t.objects.forEach(i=>this.addObject(i.type,Object.assign(Object.assign({},i),{layerId:t.id}))))}addObject(t,i,n){const o=this.game.objectClasses[t],r=o?new o(i,this.game):new Pe(i,this.game);return r.image?r.addSprite(this.createSprite(r.image,r.width,r.height)):r.gid&&r.addSprite(this.tiles[r.gid]),n!==void 0?this.objects.splice(n,0,r):this.objects.push(r),r}removeObject(t){this.objects.splice(this.objects.indexOf(t),1)}addTileset(t,i){const n=Object.assign(Object.assign({},t),{image:Object.assign(Object.assign({},t.image),{source:i})});for(let o=0;o<n.tilecount;o++)this.tiles[o+n.firstgid]=new wf(o+n.firstgid,n,this.game)}createTilesets(t){t.map(i=>{const n=gf(i.image.source);Object.keys(this.game.assets).includes(n)&&this.addTileset(i,n)})}forEachVisibleObject(t=io,i){for(const n of this.objects)(i===void 0||n.layerId===i)&&n.visible&&t(n)}forEachVisibleTile(t,i=io){const{camera:n,tilewidth:o,tileheight:r}=this,{resolution:a}=this.game;let u=Math.floor(n.pos.y%r),f=Math.floor(-n.pos.y/r);for(;u<=a.y;){let h=Math.floor(n.pos.x%o),p=Math.floor(-n.pos.x/o);for(;h<=a.x;){const s=t?.get(p,f);s&&i(this.getTileObject(s),new V.Vector(h,u),mf(s)),h+=o,p++}u+=r,f++}}createSprite(t,i,n){return new Af(t,i,n,this.game)}getLayer(t){return this.layers.find(i=>i.id===t)||{}}getObjects(){return this.objects}getObjectById(t){return this.objects.find(i=>i.id===t)}getObjectByType(t){return this.objects.find(i=>i.type===t)}getObjectsByType(t){return this.objects.filter(i=>i.type===t)}getObjectLayers(){return this.layers.filter(t=>An(t.objects))}getObjectGridPos(t){return new V.Vector(Math.floor(t.pos.x/this.tilewidth),Math.floor(t.pos.y/this.tileheight))}getTile(t,i,n){return this.getTileObject(this.getLayer(n).get(t,i)||0)}getTileObject(t){const i=t&=~(gt.HORIZONTALLY|gt.VERTICALLY|gt.DIAGONALLY);return this.tiles[i]}removeLayer(t){this.layers.splice(t,1)}showLayer(t){this.getLayer(t).toggleVisibility(!0)}hideLayer(t){this.getLayer(t).toggleVisibility(!1)}}class bf{constructor(t){this.ctx=t}preloader(t,i,n,o){const{ctx:r}=this,a=.15,u=Math.round(i.x*n)*a,f=Math.round(i.x*n-u*2),h=Math.round(i.y/2*n);r.fillStyle=o.backgroundColor,r.fillRect(0,0,i.x*n,i.y*n),r.fillStyle=o.preloaderColor,r.fillRect(u,h-5*n,f,10*n),r.fillStyle=o.backgroundColor,r.fillRect(u+1*n,h-4*n,f-2*n,8*n),r.fillStyle=o.preloaderColor,r.fillRect(u+2*n,h-3*n,(f-4*n)*t,6*n)}outline(t,i,n=1){const{ctx:o}=this,{pos:r,w:a,h:u}=t;o.save(),o.strokeStyle=i,o.lineWidth=n,o.beginPath(),o.moveTo(r.x,r.y),o.lineTo(r.x+a,r.y),o.lineTo(r.x+a,r.y+u),o.lineTo(r.x,r.y+u),o.lineTo(r.x,r.y),o.stroke(),o.restore()}stroke(t,i,n,o){const{ctx:r}=this;r.save(),r.strokeStyle=o,r.beginPath(),r.moveTo(n[0].x+t,n[0].y+i),n.map(a=>r.lineTo(t+a.x,i+a.y)),r.lineTo(n[0].x+t,n[0].y+i),r.stroke(),r.restore()}fillText(t,i,n,o,r=4){const{ctx:a}=this;a.font=`${r}px Courier`,a.fillStyle=o,a.fillText(t,i,n)}createPixelFontRenderer(t,i,n){return(o,r,a)=>{o.split(`
`).reverse().map((u,f)=>{for(let h=0;h<u.length;h++){const p=u.charCodeAt(h);this.ctx.drawImage(t,p%n*i,Math.ceil((p+1)/n-1)*i,i,i,Math.floor(r+h*i),Math.floor(a-f*(i+1)),i,i)}})}}}const da=["left","middle","right","back","forward"];class Ef{constructor(t){this.resolution=new V.Vector,this.then=He(),this.assets={},this.soundFiles={},this.sounds={},this.objectClasses={},this.sceneClasses=[],this.scenes=[],this.events={},this.mouseEvents={},this.keyStates={},this.timeouts={},this.mouseStates={},this.mousePos=new V.Vector,this.mouseDeltaPos=new V.Vector,this.mouseStarted=!1,this.isMouseMoved=!1,this.width=window.innerWidth,this.height=window.innerHeight,this.scale=1,this.debug=!1,this.paused=!1,this.loaded=!1,this.stoped=!0,this.currentScene=0,this.lastFrameTime=0,this.frameTime=0,this.lastLoop=0,this.delta=0,this.fps=60,this.ctx=t.canvas.getContext("2d"),this.sceneClasses=t.scenes,this.objectClasses=t.entities,this.width=t?.width||t.canvas.width,this.height=t?.height||t.canvas.height,this.scale=t?.scale||1,this.debug=!!t.debug,this.colors={backgroundColor:t?.backgroundColor||"#000",preloaderColor:t?.preloaderColor||"#222"},this.draw=new bf(this.ctx),this.debug&&this.datGui(),document.addEventListener("keydown",i=>this.onKey(!0,i),!1),document.addEventListener("keyup",i=>this.onKey(!1,i),!1),document.addEventListener("mousedown",i=>this.onMouseDown(i)),document.addEventListener("mousemove",i=>this.onMouseMove(i)),document.addEventListener("mouseup",i=>this.onMouseUp(i)),t.global&&(window.Platfuse=this)}onLoad(t){return Oi(this,void 0,void 0,function*(){this.assets=t,this.scenes=yield Promise.all(this.sceneClasses.map(i=>Oi(this,void 0,void 0,function*(){const n=new i(this);return yield n.init(),n}))),this.loaded=!0})}preload(t){return Oi(this,void 0,void 0,function*(){this.loaded=!1;let i=0;const n=Object.keys(t).length,o=f=>this.draw.preloader(f,this.resolution,this.scale,this.colors),r=f=>{const h=t[f];return new Promise(p=>{if(/\.(gif|jpe?g|png|webp|bmp)$/i.test(h)||/(data:image\/[^;]+;base64[^"]+)$/i.test(h)){const s=new Image;s.src=h,s.onload=()=>(o(++i/n),p(s))}else if(/\.(webm|mp3|wav)$/i.test(h)||/(data:audio\/[^;]+;base64[^"]+)$/i.test(h)){const s=new Audio;s.addEventListener("canplaythrough",()=>(o(++i/n),this.soundFiles[f]=h,p(s)),!1),s.src=h}else return Promise.resolve()})},a=Object.keys(t).map(f=>Oi(this,void 0,void 0,function*(){return{[f]:yield r(f)}})),u=Object.assign({},...yield Promise.all(a));return yield this.onLoad(u),Promise.resolve(u)})}frame(t){if(this.loaded&&!this.stoped){const i=He();this.delta=(t-this.lastFrameTime)/1e3,this.frameTime+=(i-this.lastLoop-this.frameTime)/100,this.fps=1e3/this.frameTime,this.lastLoop=i,!this.paused&&this.delta<.2&&this.loop(),this.lastFrameTime=t,this.animationFrame=requestAnimationFrame(n=>this.frame(n))}}loop(){const t=this.getCurrentScene();t instanceof no&&(this.fireEvents(),t.update(),t.draw())}start(){this.stoped=!1,this.animationFrame=requestAnimationFrame(t=>this.frame(t))}stop(){this.stoped=!0,this.animationFrame&&cancelAnimationFrame(this.animationFrame)}restart(){this.stop(),this.start()}fireEvents(){Object.keys(this.keyStates).map(t=>{typeof this.events[t]=="function"&&this.events[t]()})}fireMouseEvent(t){typeof this.mouseEvents[t]=="function"&&this.mouseEvents[t](this.mousePos)}setMousePos(t,i){const n=new V.Vector(Math.floor(t/this.scale),Math.floor(i/this.scale));this.mouseStarted&&(this.mouseDeltaPos=n.sub(this.mousePos)),this.mousePos=n,this.mouseStarted=!0,this.isMouseMoved=!0}onMouseDown(t){const i=da[t.button];i&&(this.mouseStates[i]="pressed",this.fireMouseEvent(t.type))}onMouseMove(t){this.setMousePos(t.offsetX,t.offsetY),this.fireMouseEvent(t.type)}onMouseUp(t){const i=da[t.button];i&&(this.mouseStates[i]="released",this.fireMouseEvent(t.type))}onKey(t,i){t?this.keyStates[i.code]=t:delete this.keyStates[i.code],i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()}onKeyDown(t,i){this.events=Array.isArray(t)?Object.assign({},this.events,...t.map(n=>({[n]:i}))):Object.assign(Object.assign({},this.events),{[t]:i})}onMouseEvent(t,i){this.mouseEvents=Array.isArray(t)?Object.assign({},this.mouseEvents,...t.map(n=>({[n]:i}))):Object.assign(Object.assign({},this.mouseEvents),{[t]:i}),console.info(this.mouseEvents)}getCurrentScene(){if(this.scenes[this.currentScene]instanceof no)return this.scenes[this.currentScene];throw new Error("No current scene!")}getImage(t){if(this.assets[t]instanceof HTMLImageElement)return this.assets[t];throw new Error("Invalid image!")}playScene(t){this.currentScene=t,this.restart()}setScale(t){this.scale=t,this.resolution.x=Math.round(this.width/this.scale),this.resolution.y=Math.round(this.height/this.scale)}setSize(t,i,n){this.width=t,this.height=i,this.setScale(n||this.scale)}wait(t,i,n){this.timeouts[t]||(this.timeouts[t]=setTimeout(()=>{this.cancelWait(t),typeof i=="function"&&i()},n))}cancelWait(t){this.timeouts[t]&&(clearTimeout(this.timeouts[t]),delete this.timeouts[t])}datGui(){this.gui&&this.gui.destroy(),this.gui=new hf,this.gui.add(this,"fps").listen()}setAudioVolume(t){Ci.Howler.volume(t)}playSound(t){if(this.sounds[t]instanceof Ci.Howl)this.sounds[t].play();else if(this.soundFiles[t])this.sounds[t]=new Ci.Howl({src:this.soundFiles[t]}),this.sounds[t].play();else throw new Error("Invalid sound!")}loopSound(t,i=1){if(this.soundFiles[t])this.sounds[t]=new Ci.Howl({src:this.soundFiles[t],loop:!0,volume:i}),this.sounds[t].play();else throw new Error("Invalid sound!")}}var J=(e=>(e[e.CUSTOM_BACKGROUND=0]="CUSTOM_BACKGROUND",e[e.BACKGROUND=1]="BACKGROUND",e[e.MAIN=2]="MAIN",e[e.OBJECTS=3]="OBJECTS",e[e.FOREGROUND=4]="FOREGROUND",e[e.FLASH=5]="FLASH",e[e.DARKNESS=6]="DARKNESS",e[e.CUSTOM_OVERLAY=7]="CUSTOM_OVERLAY",e))(J||{}),De=(e=>(e.UP="up",e.RIGHT="right",e.DOWN="down",e.LEFT="left",e))(De||{}),Ot=(e=>(e.ENEMIES="enemies",e.PARTICLES="particles",e.TRAPS="traps",e))(Ot||{}),G=(e=>(e.AMMO="ammo",e.BAT="bat",e.BULLET="bullet",e.COIN="coin",e.DUST="dust",e.PARTICLE="particle",e.EMITTER="emitter",e.HEALTH="health",e.PLAYER="player",e.ITEM="item",e.SPIDER="spider",e.SPIKES="spikes",e.ZOMBIE="zombie",e))(G||{}),Dn=(e=>(e.BLACK="#000",e.BLUE_SKY="#7CF",e.BONUS="rgba(255,32,32,0.2)",e.DARK_GREY="#222",e.DARK_RED="#D00",e.GREEN="#0F0",e.LIGHT_RED="#F00",e.PURPLE="#F0F",e.FLASH="rgba(255,255,255,0.6)",e.SPIDER_WEB="rgba(255,255,255,0.5)",e.TORCH="rgba(255,243,115,0.1)",e.TRANS_WHITE="rgba(255,255,255,0.15)",e.WATER="rgba(66,100,245,0.1)",e))(Dn||{});const en={IDLE:{strip:{x:168,y:0,frames:1,duration:0},width:28,height:20,bounds:[5,0,18,14],loop:!1},RIGHT:{strip:{x:0,y:0,frames:6,duration:60},width:28,height:20,bounds:[5,0,18,14],loop:!0},LEFT:{strip:{x:0,y:20,frames:6,duration:60},width:28,height:20,bounds:[5,0,18,14],loop:!0},FALL:{strip:{x:168,y:20,frames:1,duration:0},width:28,height:20,bounds:[5,0,18,14],loop:!1}},fi={AMMO:187,COIN:182,HEALTH:177};let xf=class extends Pe{type=G.ITEM;layerId=J.OBJECTS;collisionLayers=[J.MAIN,J.OBJECTS];collisions=!0;constructor(t,i){super({...t,width:16,height:16},i)}collide(t){if(t.type===G.PLAYER&&!this.dead){const i=t;switch(this.gid){case fi.AMMO:i.ammo[1]++;break;case fi.COIN:i.points+=100;break;case fi.HEALTH:i.energy[0]=i.energy[1];break}this.game.playSound("powerup.mp3"),this.kill()}}update(){if(super.update(),this.onGround())Math.abs(this.force.y)>.1&&(this.force.y*=-.6);else{const{gravity:t}=this.game.getCurrentScene();this.force.y+=this.force.y>0?t:t/2}this.force.x=this.approach(this.force.x,0,.2)}};function uu(e,t){const i=e.getCurrentScene(),n=[0,0,0,0,0,0,0,0,0,0,1,1,1,1,2],o=Math.floor(Math.random()*n.length),r=[fi.COIN,fi.AMMO,fi.HEALTH][n[o]];i.addObject(G.ITEM,{x:t.x,y:t.y,gid:r})}const{LEFT:tn,RIGHT:nn}=De;class Tf extends Pe{image="bat.png";family=Ot.ENEMIES;layerId=J.OBJECTS;collisionLayers=[J.MAIN,J.OBJECTS];direction=tn;activated=!1;collisions=!0;turning=!1;damage=0;energy=[10,10];state=0;update(){super.update();const t=this.game.getCurrentScene(),i=t.getObjectByType(G.PLAYER);switch(this.state){case 0:this.onScreen()&&(this.activated=!0,this.animate(en.IDLE),this.game.wait(`bat-${this.id}-awake`,()=>this.state=1,1e3));break;case 1:this.damage=10,this.force.y+=this.pos.y>i.pos.y+24?-.1:.02,this.force.x=this.approach(this.force.x,this.direction===tn?-1:1,.1),(this.expectedPos.x!==this.pos.x||this.pos.x<=Math.abs(t.camera.pos.x)&&this.direction===tn||this.pos.x>=Math.abs(t.camera.pos.x-this.game.resolution.x)&&this.direction===nn)&&this.turnAround(),this.animate(this.direction===nn?en.RIGHT:en.LEFT);break;case 2:this.damage=0,this.force.x=0,this.force.y+=.2,this.animate(en.FALL),this.onGround()&&(uu(this.game,new V.Vector(this.pos.x+this.width/2,this.pos.y-16)),this.kill());break}}hit(t){this.energy[0]-=t,this.force.x*=-1,this.energy[0]<=0&&(this.state=2)}collide(t){if(t.collisions)switch(t.type){case G.BULLET:const i=t;this.hit(i.damage);break;case G.PLAYER:t.hit(this.damage);break}}turnAround(){this.turning||(this.turning=!0,this.force.x*=-.6,this.force.y-=.05,this.direction=this.direction===nn?tn:nn,this.game.wait(`bat-${this.id}-turn`,()=>this.turning=!1,500))}}function $e(e,t){return e+Math.random()*(t-e)}function ge(e,t){return Math.round($e(e,t))}class If extends Pe{family=Ot.PARTICLES;collisionLayers=[J.MAIN];collisions=!0;mass;life;constructor(t,i){super(t,i);const n=ge(0,2)*Math.PI,o=ge(.5,1);this.mass=t.mass||ge(.3,1),this.life=t.life||ge(60,120),this.force=t.force||{x:Math.cos(n)*o,y:Math.sin(n)*o}}update(){this.dead||(super.update(),(this.pos.y!==this.expectedPos.y||this.pos.x!==this.expectedPos.x)&&(this.force.y*=-.8,this.force.x*=.9),this.force.y+=this.mass,this.life--),this.life<0&&this.kill()}}function lu(e,t,i){const n=e.getCurrentScene(),{count:o,radius:r}=i;for(let a=0;a<o;a++)n.addObject(G.PARTICLE,{x:t.x-r/2+ge(0,r),y:t.y-r/2+ge(0,r),force:i.forceVector(),life:i.ttl(),...i})}const ro={BLOOD:{type:G.PARTICLE,layerId:J.OBJECTS,width:1,height:1,mass:.5,count:10,radius:8,color:`rgb(${128+ge(0,32)*4}, 0, 0)`,ttl:()=>ge(60,120),forceVector:()=>({x:Math.cos($e(0,2)*Math.PI)*.5+$e(0,1),y:Math.cos($e(0,2)*Math.PI)*.5+$e(0,1)})},DIRT:{type:G.PARTICLE,layerId:J.OBJECTS,mass:.3,width:2,height:2,count:10,radius:8,color:"#000",ttl:()=>ge(60,120),forceVector:()=>({x:Math.cos(ge(0,2)*Math.PI)*.8+ge(0,1),y:ge(-1,-4)})},RUBBLE:{type:G.PARTICLE,layerId:J.OBJECTS,width:2,height:2,mass:.5,count:10,radius:8,color:"#000",ttl:()=>ge(60,120),forceVector:()=>({x:Math.cos($e(0,2)*Math.PI)*.5+$e(0,1),y:Math.cos($e(0,2)*Math.PI)*.5+$e(0,1)})}},fu={DUST:{strip:{x:0,y:0,frames:9,duration:60},width:16,height:16,loop:!1}};class Cf extends Pe{image="bullet.png";animations=fu;direction=De.RIGHT;type=G.BULLET;layerId=J.OBJECTS;particle=ro.RUBBLE;collisionLayers=[J.MAIN,J.OBJECTS];collisions=!0;width=8;height=8;damage=10;constructor(t,i){super(t,i),this.direction=t.direction,this.setCollisionArea(4,2,4,2)}collide(t){t.collisions&&t.family===Ot.ENEMIES&&(this.particle=ro.BLOOD,this.explode())}explode(){lu(this.game,this.pos,this.particle),this.kill()}update(){super.update(),this.force.x=this.approach(this.force.x,this.direction===De.LEFT?-10:10,5),this.flips={H:this.direction===De.LEFT},(!this.onScreen()||this.pos.x!==this.expectedPos.x)&&this.explode()}}class Of extends Pe{image="dust.png";layerId=J.OBJECTS;type=G.DUST;direction=De.RIGHT;width=16;height=16;constructor(t,i){super(t,i),this.direction=t.direction}update(){this.animate(fu.DUST,{H:this.direction===De.LEFT},t=>{t===8&&this.kill()})}}class Sf extends Pe{family=Ot.ENEMIES;count=0;emitted=0;emit(){const t=this.game.getCurrentScene(),i=ge(0,(this.width-50)/50)*50;t.addObject(G.ZOMBIE,{x:this.pos.x+i,y:this.pos.y-52,pid:this.id}),this.emitted++}update(){super.update();const i=this.game.getCurrentScene().getObjectsByType(G.ZOMBIE);this.count=i?i.filter(n=>n.pid===this.id).length:0,this.emitted>=this.properties.max&&this.kill(),this.onScreen()&&this.count<this.properties.volume&&this.game.wait(`emmiter--${this.id}`,()=>this.emit(),1e3)}}const Lt={IDLE:{strip:{x:0,y:0,frames:4,duration:200},width:53,height:53,bounds:[18,16,18,37],loop:!0},WALK:{strip:{x:212,y:0,frames:8,duration:80},width:53,height:53,bounds:[18,16,18,37],loop:!0},JUMP:{strip:{x:636,y:0,frames:5,duration:100},width:53,height:53,bounds:[18,16,18,37],loop:!1},FALL:{strip:{x:848,y:0,frames:1,duration:0},width:53,height:53,bounds:[18,16,18,37],loop:!1},SHOOT:{strip:{x:901,y:0,frames:5,duration:80},width:53,height:53,bounds:[18,16,18,37],loop:!1},HURT:{strip:{x:1325,y:0,frames:3,duration:100},width:53,height:53,bounds:[18,16,18,37],loop:!0},RELOAD:{strip:{x:1484,y:0,frames:3,duration:300},width:53,height:53,bounds:[18,16,18,37],loop:!0}},{UP:Lf,LEFT:Gn,RIGHT:ei}=De;class Df extends Pe{image="player.png";collisionLayers=[J.MAIN,J.OBJECTS];facing=ei;energy=[100,100];ammo=[5,5];points=0;collisions=!0;invincible=!1;isJumping=!1;isShooting=!1;isReloading=!1;isHurt=!1;update(){super.update();const t=this.game,{gravity:i}=t.getCurrentScene();this.isJumping&&this.onGround()&&(this.isJumping=!1,this.dust(Gn),this.dust(ei)),this.force.y+=this.force.y>0?i:i/2,this.force.x=this.approach(this.force.x,0,.1),this.energy[0]>0&&!this.isShooting&&(this.force.x===0&&!this.isJumping&&this.ammo[0]<this.ammo[1]?t.wait("countToReload",()=>this.countToReload(),1e3):this.cancelReloading());let n=Lt.IDLE;this.isHurt?n=Lt.HURT:this.isJumping?n=this.force.y<=0?Lt.JUMP:Lt.FALL:this.isShooting?n=Lt.SHOOT:Math.abs(this.force.x)>0?n=Lt.WALK:this.isReloading&&(n=Lt.RELOAD),this.animate(n,{H:this.facing===Gn})}moveTo(t){if(!this.isShooting&&this.energy[0]>0)switch(t){case Lf:!this.isJumping&&this.onGround()&&(this.isJumping=!0,this.force.y=-6);break;case Gn:case ei:t!==this.facing&&this.onGround()&&this.dust(t),this.force.x=this.approach(this.force.x,t===ei?1:-1,.3),this.facing=t;break}}shoot(){if(!this.isShooting&&!this.isHurt&&this.ammo[0]>0&&this.onGround()){const t=this.game.getCurrentScene();this.ammo[0]>this.ammo[1]&&(this.ammo[0]=this.ammo[1]),this.ammo[0]-=1,this.force.x=0,this.isShooting=!0,this.bullet(t),this.cancelReloading(),this.game.wait("shoot",()=>this.isShooting=!1,500),this.game.wait("shootDelay",()=>{t.flash=!0,this.game.wait("shootFlash",()=>t.flash=!1,60)},30),this.setAnimationFrame(0),this.game.playSound("shoot.mp3")}}reloading(){this.isReloading=!0,this.ammo[0]+=1,this.game.playSound("reload.mp3")}countToReload(){this.isReloading=!0,this.game.wait("reloading",()=>this.reloading(),600)}cancelReloading(){this.game.cancelWait("countToReload"),this.game.cancelWait("reloading"),this.isReloading=!1}bullet(t){const i=this.facing===ei?this.pos.x+this.width-4:this.pos.x+8,n=this.pos.y+31;t.addObject(G.BULLET,{x:i,y:n,direction:this.facing})}dust(t){if(this.onGround()){const i=this.game.getCurrentScene(),n=t===ei?this.pos.x+8:this.pos.x+this.width-24,o=this.pos.y+this.height-16;i.addObject(G.DUST,{x:n,y:o,direction:t})}}respawn(){const t=this.game.getCurrentScene(),i=t.getLayer(J.CUSTOM_OVERLAY);this.isHurt=!1,this.visible=!0,this.energy[0]=this.energy[1],this.pos=this.initialPos.clone(),t.camera.moveTo(0,0),i.fadeIn()}hit(t){const i=this.game.getCurrentScene(),n=i.getLayer(J.CUSTOM_OVERLAY);this.energy[0]>0&&!this.isHurt&&(this.invincible||(this.energy[0]-=t,this.isHurt=!0,this.force.x=0,this.game.cancelWait("countToReload"),this.energy[0]<=0?(this.visible=!1,n.fadeOut(),this.game.wait("playerRespawn",()=>this.respawn(),3e3)):this.game.wait("playerHurt",()=>this.isHurt=!1,500),lu(this.game,new V.Vector(this.pos.x+this.width/2,this.pos.y+18),ro.BLOOD),i.camera.shake(500,new V.Vector(.1,.1))))}}const Mf={DEFAULT:{strip:{x:0,y:0,frames:2,duration:500},width:16,height:23,bounds:[4,0,8,18],loop:!0}};class Nf extends Pe{image="spider.png";family=Ot.ENEMIES;collisionLayers=[J.MAIN,J.OBJECTS];collisions=!0;fall=!1;rise=!1;startPos;energy=[20,20];damage=10;constructor(t,i){super(t,i),this.startPos=new V.Vector(t.x+t.width/2,t.y)}draw(){const{camera:t}=this.game.getCurrentScene(),{ctx:i}=this.game;i.beginPath(),i.strokeStyle=Dn.SPIDER_WEB,i.moveTo(this.startPos.x+t.pos.x,this.startPos.y+t.pos.y),i.lineTo(this.startPos.x+t.pos.x,this.pos.y+t.pos.y),i.stroke(),this.collisions&&super.draw()}update(){if(this.onScreen()){super.update();const{gravity:t}=this.game.getCurrentScene();this.rise?this.force.y=-1:this.fall?this.force.y+=t:this.force.y=0,this.energy[0]<=0?(this.damage=0,this.rise=!1,this.fall=!1,this.collisions=!1,this.game.cancelWait(`spider-${this.id}-fall`)):(this.onGround()&&this.fall&&(this.fall=!1,this.rise=!0),this.pos.y<=this.startPos.y&&(this.rise=!1,this.fall=!1,this.game.wait(`spider-${this.id}-fall`,()=>this.fall=!0,500))),this.animate(Mf.DEFAULT)}}hit(t){this.energy[0]-=t}collide(t){switch(t.type){case G.BULLET:const i=t;this.hit(i.damage);break;case G.PLAYER:t.hit(this.damage);break}}}const Rf={DEFAULT:{strip:{x:0,y:0,frames:5,duration:40},width:8,height:8,loop:!1}};class qf extends Pe{image="shine.png";animation=Rf.DEFAULT;family=Ot.TRAPS;collisionLayers=[J.MAIN,J.OBJECTS];collisions=!0;canAnimate=!0;damage=1e3;shineX=0;draw(){const{ctx:t}=this.game,{camera:i}=this.game.getCurrentScene(),{width:n,height:o,strip:{x:r,y:a}}=this.animation;t.drawImage(this.game.getImage(this.image),r+this.getAnimationFrame()*n,a,n,o,this.pos.x+this.shineX+i.pos.x,this.pos.y+i.pos.y-10,n,o)}update(){this.onScreen()&&(this.canAnimate&&this.getAnimationFrame()===this.animation.strip.frames-1&&(this.canAnimate=!1,this.game.wait(`spikes-${this.id}-shine`,()=>{this.canAnimate=!0,this.setAnimationFrame(0),this.shineX=ge(0,(this.width-8)/8)*8},1e3)),this.animate(this.animation))}collide(t){switch(t.type){case G.PLAYER:t.hit(this.damage);break}}}const st={IDLE:{strip:{x:0,y:0,frames:9,duration:100},width:58,height:46,bounds:[24,12,10,30],loop:!0},WALK:{strip:{x:522,y:0,frames:12,duration:100},width:58,height:46,bounds:[24,12,10,30],loop:!0},RUN:{strip:{x:1218,y:0,frames:8,duration:100},width:58,height:46,bounds:[24,12,10,30],loop:!0},ATTACK:{strip:{x:1682,y:0,frames:11,duration:100},width:58,height:46,bounds:[24,12,10,30],loop:!0},HURT1:{strip:{x:2320,y:0,frames:13,duration:100},width:58,height:46,bounds:[24,32,10,10],loop:!1},HURT2:{strip:{x:3074,y:0,frames:15,duration:100},width:58,height:46,bounds:[24,32,10,10],loop:!1},RISE:{strip:{x:3944,y:0,frames:9,duration:100},width:58,height:46,bounds:[24,32,10,10],loop:!1}},{LEFT:Dt,RIGHT:xi}=De;var cu=(e=>(e[e.RISE=0]="RISE",e[e.IDLE=1]="IDLE",e[e.WALK=2]="WALK",e[e.RUN=3]="RUN",e[e.ATTACK=4]="ATTACK",e[e.HURT=5]="HURT",e[e.DEFEAT=6]="DEFEAT",e))(cu||{});class kf extends Pe{image="zombie.png";state=0;family=Ot.ENEMIES;type=G.ZOMBIE;layerId=J.OBJECTS;collisionLayers=[J.MAIN,J.OBJECTS];collisions=!0;direction=Dt;pid;damage=0;energy=[20,20];speed={a:.1,d:.1,m:.4};activated=!1;turning=!1;constructor(t,i){super({...t,width:58,height:46},i),this.pid=t.pid}update(){super.update();const t=this.game.getCurrentScene(),{a:i,d:n,m:o}=this.speed,{RISE:r,IDLE:a,WALK:u,RUN:f,ATTACK:h,HURT:p,DEFEAT:s}=cu,l=t.getObjectByType(G.PLAYER);let c=st.IDLE;switch(this.state){case r:c=st.RISE,this.direction=this.pos.x>l.pos.x?Dt:xi,this.onScreen()&&this.getAnimationFrame()===c.strip.frames-1&&(this.activated=!0,this.state=a);break;case a:c=st.IDLE,this.onScreen()&&this.game.wait(`zombie-${this.id}-awake`,()=>this.state=u,1500);break;case u:c=st.WALK,this.speed.m=.4,this.game.wait(`zombie-${this.id}-run`,()=>{this.onScreen()&&this.isFacingPlayer(l)&&(this.state=f)},2e3);break;case f:c=st.RUN,this.speed.m=1,this.isFacingPlayer(l)||(this.state=u);break;case h:c=st.ATTACK,this.direction=this.pos.x>l.pos.x?Dt:xi,this.game.wait(`zombie-${this.id}-run`,()=>this.state=u,1e3);break;case p:const m=this.energy[0]<=0;this.game.cancelWait(`zombie-${this.id}-awake`),this.game.cancelWait(`zombie-${this.id}-run`),c=!this.isFacingPlayer(l)||m?st.HURT1:st.HURT2,m&&this.getAnimationFrame()===5?(uu(this.game,new V.Vector(this.pos.x+this.width/2,this.pos.y)),this.state=s):this.getAnimationFrame()===c.strip.frames-1&&(!this.isFacingPlayer(l)&&this.turnAround(),this.state=f);break;case s:this.game.wait(`zombie-${this.id}-defeat`,()=>this.kill(),500),this.activated=!1;break}this.onGround()?Math.abs(this.force.y)<=.2&&(this.force.y=0):this.force.y+=this.force.y>0?t.gravity:t.gravity/2,this.force.x=this.state===u||this.state===f?this.approach(this.force.x,this.direction===Dt?-o:o,i):this.approach(this.force.x,0,n),(this.expectedPos.x!==this.pos.x||Math.abs(this.pos.x-this.initialPos.x)>100&&!this.isFacingPlayer(l))&&this.turnAround(),this.state!==s&&this.animate(c,{H:this.direction===Dt})}hit(t){this.state!==5&&this.state!==6&&(this.setAnimationFrame(0),this.state=5),this.energy[0]-=t}collide(t){if(this.activated&&t.visible)switch(t.type){case G.BULLET:const i=t;this.hit(i.damage);break;case G.PLAYER:const n=t;this.state=4,this.damage=this.getAnimationFrame()===3?20:10,n.hit(this.damage);break}}isFacingPlayer(t){return this.direction===Dt&&this.pos.x>t.pos.x||this.direction===xi&&this.pos.x<t.pos.x}turnAround(){this.turning||(this.direction=this.direction===xi?Dt:xi,this.force.x*=-.6,this.turning=!0),this.game.wait(`zombie-${this.id}-turn`,()=>this.turning=!1,500)}}const Pf=""+new URL("assets/shoot-ec31e1fc.mp3",import.meta.url).href,Ff=""+new URL("assets/powerup-8f187977.mp3",import.meta.url).href,Bf="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI2LjEwMAAAAAAAAAAAAAAA//uQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAHAAANDgA/Pz8/Pz8/Pz8/Pz8/P19fX19fX19fX19fX19ff39/f39/f39/f39/f3+fn5+fn5+fn5+fn5+fn5+/v7+/v7+/v7+/v7+/v9/f39/f39/f39/f39/f//////////////////8AAAAATGF2YzU4LjQ2AAAAAAAAAAAAAAAAJAN/AAAAAAAADQ4Bx9HoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQZAAI8pIbyZmJGbAAAA0gAAABDfjlNLT0AAAAADSCgAAEAAJLleWqwkHROZ2THQBk5GswoSYT9w4uvX99EL7pXc9Cc+9EHxOD7y7xOQeXLg/BDUcLg/7QQBM/6wsc2A+H/LreTE5TrPkIfnznreGKgwDjpDIAi3CShpjHThHCbocdIVhNQT56Lpdn8sOBYkMogTBIJRCmxd3Pe5upYgd/fMI+kh3Iu5Z8slF2Lu4fvcLynL8LaccOYsV88oiJURX/ln3A+D4Pg/YLh8PPeoEAfehgJhfjFODEoGIgB8nJwQtbEGhEQgByCCCVBkHQVjQNhNXMNGLPByEhCE0cUKNgbopokXLBYYglLkgIOvgtCMg0gnmPIeqDBY0BNJeRq6jiCFAInoWsjUHOi+4kde8pkbtpgNo4NBD0ML0dYmOJANaRWYNdCYccNecpfCM0U1VvCzErGkNpDDxr/fx+Iagdw7NaV0s5RSlg7/wVCLeUgzgdy5/uHNc/PlNV5cr36Stdjc3Wxp7/bF23Scwq2cOZZ5Zd/LWGct1hvuN7sSil//uSZF2AByFlUv5rAAIAAA0gwAAAHGWVW7mMAAAAADSDAAAAPK8L2f/rl2m7VlVNv995vnPdyPUuqSxy3T2+17dfVJvLefe2/p5yphSAZK7m0VE420gSKi2s0W8kbBcy3sHhEFvOkuAdGeFLBQGymYOVBcBfpZTWYyiwu5/3WbWJW7CPrX3kbC/UEdgqbilgDHVISAV7cQHO0ymxYis5/YzKooxtUdWZlsC0tq9NSCpSVXfbFHX4uQJN1q0q3+Euiffu3LiwlOyeIQVVh+ikUslFPKrkqp6LDGWX+4dtvstR94bdR337hE93sqtbw138uZ15dL7Vuzv88W2dmBoIgmRyztJ8xSz1mXVLMopKlFT93eyy5nYva+zer7zx/GzLabeOFW3eytXshH////4BBlUkkgAEiRFAAAAAJMiviASPARugMUlywtSQrHbi9CQ0bljvqXjLDiIAZCIiggsOE2hb4LwUgQ0RoFoAWiFZMSohxqXzIiAzArwcwG11jmk6REiZOE+xkwXaDQAFQHcZkFIMbJGxAVmZqizoEMGYJwcw0P/7kmQ4gAYZZlZmZkAAAAANIMAAABgxlWFZh4AIAAA0gwAAAGZIM5gfNqloapobl8zMCGDgMThFi6yzFFF/qdRWJxjxfSL6ROKWXVGxeXSv/9EXOUikSqRLkyRMn0FamS9Gir//zM8gs+YHi4dPp6zOW////w8+uiACCAAAQSW29aJAsBkZdFr0wXdlDkzMWVI/jyLIpWlAnjeXTbFazTMoWV8UKHvZDqH6ryPDVNatTCwwyztxwx0maTUcqiJYA6EJtg5rqpmonnLDCONzQxdp1mrqJr1ZmpbRVJG2LmF29TEspBg4qK6gIV6e1q7en8ss+5n9bafq6PiPPNAavbwHN0y0v6tGoc0aK4K+SE83vONwm628eJujFiNBYaR8d7msNZZmSBWSkO28PHdIHp9z7pv302zb4jGgAAAAADhKVcbQ7l4cBelauCUDjJwccBVowyz9LyS5DYUhYC/p4TBEGQMNBWMlClCmD2oxsSRJgfLEj1ejWBOsWGRRNCORqKVDOha4Xbnl2/WlXGlbW+ExWxfcTN6YgNnxS+I6kev3KA//+5JkNQL0ljTUZz3gAAAADSDgAAEUJYlFTCR8iAAANIAAAATltrDjWLUSqckOgaJXpSwvfyQQawwYa1Ue46dqGMNhVihSSLgn3uDQdN4IAAuHsUNJhMratKmNP/IVsOmjyXRmn2i0pch6KGM2KBdUKijvO6ockM06/Go87V2gZVCoZZbAjLnuqzL8w7DLOYzSzT7LCspfiAnujshnoZnpU/1dkyRHwq18y0MYe8lKUkSKJUwFhNyIm0q0iFRM0s1Kv/7+xjLsqiaq1WY4fxo3qWmFXgExqJJQpM5UoexsyozeRKZeWzMpfBWi4/IbAXAAATL4VASzDRe5kzw1F3Pw7TaNs57/HEdLwYQsQ8o6BSpMcrCkFOESHcGEQoeo+z4WU9MtoS+Tz8/Z10mS6m5Ek2XYrJEWdCuXRpItWxE6jYgkcemRSZadUeycXVG0WZvQm5DqOquBlW7zLu+MzwciCgxSQCLMFB7BTpW1y3alegvlV1or1gpUEEAWztYAg2q2G2HMvXI//uLMOk7c8yGd43Z3J9+ZS4C7n2pFModf5y30//uSZFoC9D87TENvM3AAAA0gAAABEVFjLY0kdwgAADSAAAAEdaXYQzVrKDwoNhZKaFXCbTFGzJxkPmOQkcCOB+e6u5ZVZKdw2W+XvLjrP9sbE6hTYfjfQoMTD1PsoWl6xicSpCqvI2TdK8Ztjvnfew5PhHdY6iZxcVJN/HQM7z8xewoQ6QAAO0ISIR7jENvCwWUsuht2J666kZlMdgp3Z+RyiVuLQVpuJxpZcZMpdo/E+TIkaDYU0HkKHFjbJAGRcU2Zk6KGdNPOqpRyIWoR1qzmTjBWZqTlBPBhIOFxUYATO4xSdS+bsCrrhRFC9LpnIMH2qxZTkmSEyWbABq0OlrKHHcVjgGtPUo0HoeAgPh4YEwD4vL7ohoeOE58+F3Ci3IS6hGFwHFaPEAoDelACEjFo23slcOKRmjYQVGa838kMOQkLrPOJCU+TCa3n3OGQIk2hxdxfGYQNrTsaJT72+TEGL2JRu1ipBJoIEExBTUUzLjk5LjWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqgG4miADBq8Ac//7kmSPg/O1MslDSR0wAAANIAAAAQ5MkSUNsSVAAAA0gAAABJprlLs/naeP8+y2pwXJfUiOeqaInlc/TqtVrLE/mhJSwVGt7goBAKLEY0jCUtYMmi241EpZIiqiyOTJoCBp7jrVHjpI849AT1uJFgrIzup7ISe1XW+9Z37+jorTViJRurINoGTYmeJAJeDiBaMtwIwZKDRkVvZY68Ukcmv36WVUKBtz2UKU8isqWOlzBMQnFzBMQkJYqcKlg+Hg+MjBGw/xWKnUDbmlVk1Ib/rKIhGhojJDZkmFIiGQ+QNu32saaVcb3Yt43P//9mpoiDCQMEJoLRJAoopNSSJI0UBnoLypZ8yna82Tjiyri4vMp2eNmqLi41EkaaYGLJSg5apMQU1FMy45OS41qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+5Jkw4LzPSXJWy8w8AAADSAAAAETtX7SDSTRyAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",Uf="data:image/png;base64,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",jf="data:image/png;base64,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",Vf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAEs2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgdGlmZjpJbWFnZUxlbmd0aD0iOCIKICAgdGlmZjpJbWFnZVdpZHRoPSI4IgogICB0aWZmOlJlc29sdXRpb25Vbml0PSIyIgogICB0aWZmOlhSZXNvbHV0aW9uPSI3Mi4wIgogICB0aWZmOllSZXNvbHV0aW9uPSI3Mi4wIgogICBleGlmOlBpeGVsWERpbWVuc2lvbj0iOCIKICAgZXhpZjpQaXhlbFlEaW1lbnNpb249IjgiCiAgIGV4aWY6Q29sb3JTcGFjZT0iMSIKICAgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIKICAgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIgogICB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNi0yM1QxNDoxNToxMSswMjowMCIKICAgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNi0yM1QxNDoxNToxMSswMjowMCI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InByb2R1Y2VkIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZmZpbml0eSBQaG90byAoTWFyIDMxIDIwMjApIgogICAgICBzdEV2dDp3aGVuPSIyMDIwLTA2LTIzVDE0OjE1OjExKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cjw/eHBhY2tldCBlbmQ9InIiPz4Km+eqAAABgmlDQ1BzUkdCIElFQzYxOTY2LTIuMQAAKJF1kctLQkEUhz+1Fz0oKKhFhIS10ugBUZsgJSyQEDPotdGbj0Dtcq8S0jZoKxREbXot6i+obdA6CIoiiFYtWhe1qbidycCInGHO+eY3c87MnAF7OKWlzYpeSGeyRsjvdc7MzjmrH6milRqgI6KZ+mgwGKBse7vBpvyVR+Uqv+/fVrcYMzWwqbNGNN3ICo8LB1ayuuJN4RYtGVkUPhZ2G3JB4WulR4v8pDhR5A/FRjjkA3uTsDPxi6O/WEsaaWF5Oa50Kqf93Ee9pD6WmZ4S3ymjHZMQfrw4mWAMH4P0MSx2EA/99MiMMvG93/GTLEusJlYnj8ESCZJkcYuak+wx8XHRY9JT5FX9/9bVjA/0F7PXe6HywbJeuqB6Az4LlvW+b1mfB+C4h7NMKX55D4ZeRS+UNNcuNK7ByXlJi27B6Tq03ekRI/ItOWTY43F4PoKGWWi+hNr5Ys1+1jm8hfCqfNUFbO9At+xvXPgCBt1nupdr0VQAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA/SURBVBiVY2CgGKz6/59t////LPX//zP9//+fEV0eLlBUVNTAzc1dz8XF1VhZWdkAE2fCYmh9e3t7AxZxWgEAHCAShF433pMAAAAASUVORK5CYII=",Hf=""+new URL("assets/images/bg1-20e1ce46.png",import.meta.url).href,Gf=""+new URL("assets/images/bg2-6557f552.png",import.meta.url).href,Zf=""+new URL("assets/images/clouds-b9584007.png",import.meta.url).href,Xf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAAgCAYAAAD9jPHNAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gMNDQc6owduAgAAArxJREFUeNrtWsuRgzAMxZltgCYogE5ySgFpIVdOXNNCCsgpnVAATVACe9KORmtjP9kEQvRm9rC7SEbW0wdbVWUwGAwGg8FgMBgMn4rX8zFrZbv+Pnf9fX73O5/Mbfsgwev5mIdxqnJI0Hc3ZwQq4ECfE1McQ7JaJ9K6GvlhnP5IoJHfgjxVVVVuzxF8vlwdJ0BskyRxuDyyLnemJots6dCvzkCSAPx3lDyxTCD/h5AtpuNbyLMagagUIP1A6FltOaJMkJryKXsgGcSno21qVT/ka4JzmmptKd2cQKEsojXGR4SYc0mmbepkJ5wvV0fOJ/1IENBztDZid9ff57ap/9kVC4IYUd6RCX/WXkA2hylGpW6cJAB3Ns8EiI4QIRBZbocmk6EE2LJkOiSjpPQJoY1He5gleR8RfZmC60hdn2zkUY3KfhNOyJcJUoZkBiDZkA6++b6oX3IoJ+0wTtX5cnVIFuPytE7f3Rz9oLJoyedyqI4tDg/hDIREcsyomLxWFskYsTW18iSXWqqRIwqDwWAwGAwGg8FgMGyBEtcbJT/9bR7ow5w/jFOWntLHBYckkC/C0Mtdn84cHfROOfLkfM1Vz1okcnslADcSvU6JRT6qg5zPT9dzdBzpymOXGShEnlAEI3M/UoemH9AQgGw62n3Z6gRKnQ2KOXrp76njHdp0zksH2oPICQG0hMnn0SZ47buyVQgUqvdLm+dzZG6t5wNeGl2c+PR+SAmS+yBnhVLgm0pomzqZGKEAKUUstwZ5+KWivJVHUrg0Eu1B5DQBySMEQGVCOo466uFiG5+zcT7nh/TJxnmJPCnvxeV9w2Updvlu+EvM/hxpfugUOmvQnF2EZn5SpgOXyCNTObrxfEYIKSNyJojvTc7nuFaHnBvaw8y0i0Wu9nM15/yhhI7UjJJjm3bmR84PlTjq2Aq/pFfKwCSAztsAAAAASUVORK5CYII=",zf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAECAYAAAD8kH0gAAAFSGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpDb2xvclNwYWNlPSIxIgogICBleGlmOlBpeGVsWERpbWVuc2lvbj0iNDAiCiAgIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSI0IgogICBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIgogICBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiCiAgIHRpZmY6SW1hZ2VMZW5ndGg9IjQiCiAgIHRpZmY6SW1hZ2VXaWR0aD0iNDAiCiAgIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiCiAgIHRpZmY6WFJlc29sdXRpb249IjcyLjAiCiAgIHRpZmY6WVJlc29sdXRpb249IjcyLjAiCiAgIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDYtMjVUMTE6NDA6NDMrMDI6MDAiCiAgIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA2LTI1VDExOjQwOjQzKzAyOjAwIj4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHhtcE1NOmFjdGlvbj0icHJvZHVjZWQiCiAgICAgIHhtcE1NOnNvZnR3YXJlQWdlbnQ9IkFmZmluaXR5IFBob3RvIChNYXIgMzEgMjAyMCkiCiAgICAgIHhtcE1NOndoZW49IjIwMjAtMDYtMjVUMTE6Mjg6MTkrMDI6MDAiLz4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0icHJvZHVjZWQiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFmZmluaXR5IFBob3RvIChNYXIgMzEgMjAyMCkiCiAgICAgIHN0RXZ0OndoZW49IjIwMjAtMDYtMjVUMTE6NDA6NDMrMDI6MDAiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0iciI/Ps3M9SIAAAGCaUNDUHNSR0IgSUVDNjE5NjYtMi4xAAAokXWRy0tCQRSHP7UyyjCoRUELCWuVYQZRmyAjLJAQM+i10ZuPQO1yrxLRNmgrFERtei3qL6ht0DoIiiKIVi1aF7UpuZ2bghI5wznnm9/MOcycAWskrWT0Oi9ksjktHPC75uYXXPYXGugUa8AZVXR1LBQKUnN83mMx463HrFX73L+jeTmuK2BpFB5VVC0nPCkcXMupJu8Ityup6LLwmXCfJhcUvjP1WIlfTU6W+NtkLRIeB2ursCtZxbEqVlJaRlhejjuTzivl+5gvccSzszMSu8W60AkTwI+LKSYYZ4gBRsQP4cFHv6yoke/9zZ9mVXIV8SrraKyQJEWOPlHzUj0uMSF6XGaadbP/f/uqJwZ9peoOP9Q/G8Z7D9i3oVgwjK8jwygeg+0JLrOV/NVDGP4QvVDR3Afg3ITzq4oW24WLLeh4VKNa9FeyiVkTCXg7hZZ5aLuBpsVSz8r7nDxAZEO+6hr29qFXzjuXfgDzJWexOMA55gAAAAlwSFlzAAALEwAACxMBAJqcGAAAADJJREFUKJFjZIAC08k7/zMwMDCcznVnHEx8JmQOumMHA58RmXM6133Q8ZmQOci+GCx8AJeKdofbjlxCAAAAAElFTkSuQmCC",Wf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAKCAYAAADlwU2FAAAFVGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjU4IgogICBleGlmOlBpeGVsWURpbWVuc2lvbj0iMTAiCiAgIGV4aWY6Q29sb3JTcGFjZT0iMSIKICAgdGlmZjpJbWFnZVdpZHRoPSI1OCIKICAgdGlmZjpJbWFnZUxlbmd0aD0iMTAiCiAgIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiCiAgIHRpZmY6WFJlc29sdXRpb249IjcyLjAiCiAgIHRpZmY6WVJlc29sdXRpb249IjcyLjAiCiAgIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiCiAgIHBob3Rvc2hvcDpJQ0NQcm9maWxl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",Yf="data:image/png;base64,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",Jf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEEECM7Nt6T+wAAAsVJREFUaN7lmz1vwjAQhnNpQLCAOiDaSp2y8f9/C1umShTEUMECAkE6OTImts++80eEpaqiTUIev6/P54sDRYTWtu0YcxwAXELfC6QETNEBkBtkaHjIHZQbHIYCygUOQ4SlQMMQQSngMHRYV2iICFsjjmlCQ0Ng2JpwbhMCGgLA1sxubTihISbs/daudf8r32DFCa6D5gSuXQDVdtgfi/liZuuAhgpcMcCSQG1uUMBrLHjbtuM+aOCG/dseHmBl1Uzqms6hqK1CU4BrVRH1xjHQunOQ4A0J2BdWVTVn6JI61jCwJigTrGukx7SSqu75eup+fBTGjHHqvC+zlZSLy+pORlMvO/t0Ro/K6GSn4rKyUFgFt8HKlpaPtVn9fmvXiGSl39I+WVWfhU0qY9TVwXM0wQgOwJ1tfn+2awws900jUtLGFq0r6hf6qJqyVb7LPx2oq6q2LIvb1tgo/WBnTlWpgErEtkbr0kdZ07zrmkjEGutsmdbQWsU5finTSyyVX07h4MA+Yzo7YNtCIVVACgJ8vp5QyYZLp2QftDIGtRYDSuQjiu5Cn98fq6ws6rBiAoBLsKCVa47tHbRU68qfc15QlD7jQ9haQMq/ZVi1U3abXbKl4QMwZRuBCXIymnbzcOr5WDB6j2GhslhM2JKP+WJWLL+WbEmJT3mnq3g4VD2elmBq9UN0gFBddYCtPo1JVCi16VL9A3WuE4CY0m2suZe1EN83L+sqmCYbY8e6r5WfLM1tbcwUJeyLLfOwP1tyBO4tqejAdZ0xX8yK3Wb3FNAQqvI8PYwN3RfwZHhOWC0wB7QPuFD8sD8W7x/zlW+QMgXhaHs8MPCWhUnYPR4hoENNO1hYKzABmgM+/j4tJmgX+PQ78Zihgy8O2IBzhg6ymzZH8OD7pXOCjrojPiV4snceYoNn81ZLSPis31vi6IAYb6a9XPsHYmu6Wi6h80YAAAAASUVORK5CYII=",Qf=""+new URL("assets/images/player-a8bc3359.png",import.meta.url).href,Kf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAXCAYAAABqBU3hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEEDBMQUBgGXAAAAMpJREFUSMfNVtEOwyAIBD6u6ef3j+hLs2wTgbu6dCQm1nKI5ymK5OZXY63EawJE/Gm8ycOmQPZdFiD84wwYkHm1SgqvZIBoKyi8ESrXG/ooNeCNCbygFsLrF9AB+nwFPhJhh+JMhBDemsE7k1D4vxGhAkcpYmHAH9suUT9j0d+r17Htr++rP/gk1a/TpiufsZH5RuPRKRkYqDSgk7HOHusE85GINcWihOLbxcgBBTOPk1TEdiPQkoR+8R5gLzJ4Px385ys0I8SFlfqfiG9TiIZ3t5EAAAAASUVORK5CYII=",$f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAICAYAAACLUr1bAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QwcFAAbX7ml4QAAADdJREFUOMtjYBgFqOD/////SVHPRG0LSHUAIcBIruMYGRkZCTkMWQ0hebpFEb1DeMDT4CigFAAA+Uon6PQAbmgAAAAASUVORK5CYII=",ec=""+new URL("assets/images/zombie-b87103f8.png",import.meta.url).href,tc=""+new URL("assets/images/tileset-d74d6f5e.png",import.meta.url).href,ic={"ammo.png":Uf,"bat.png":jf,"bg1.png":Hf,"bg2.png":Gf,"dust.png":Xf,"bullet.png":Vf,"clouds.png":Zf,"energy.png":zf,"estrip.png":Wf,"font.png":Yf,"moon.png":Jf,"player.png":Qf,"spider.png":Kf,"shine.png":$f,"tileset.png":tc,"zombie.png":ec,"shoot.mp3":Pf,"powerup.mp3":Ff,"reload.mp3":Bf},Q=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};var je=[],Se=[],nc=typeof Uint8Array<"u"?Uint8Array:Array,vo=!1;function hu(){vo=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,i=e.length;t<i;++t)je[t]=e[t],Se[e.charCodeAt(t)]=t;Se["-".charCodeAt(0)]=62,Se["_".charCodeAt(0)]=63}function rc(e){vo||hu();var t,i,n,o,r,a,u=e.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");r=e[u-2]==="="?2:e[u-1]==="="?1:0,a=new nc(u*3/4-r),n=r>0?u-4:u;var f=0;for(t=0,i=0;t<n;t+=4,i+=3)o=Se[e.charCodeAt(t)]<<18|Se[e.charCodeAt(t+1)]<<12|Se[e.charCodeAt(t+2)]<<6|Se[e.charCodeAt(t+3)],a[f++]=o>>16&255,a[f++]=o>>8&255,a[f++]=o&255;return r===2?(o=Se[e.charCodeAt(t)]<<2|Se[e.charCodeAt(t+1)]>>4,a[f++]=o&255):r===1&&(o=Se[e.charCodeAt(t)]<<10|Se[e.charCodeAt(t+1)]<<4|Se[e.charCodeAt(t+2)]>>2,a[f++]=o>>8&255,a[f++]=o&255),a}function oc(e){return je[e>>18&63]+je[e>>12&63]+je[e>>6&63]+je[e&63]}function ac(e,t,i){for(var n,o=[],r=t;r<i;r+=3)n=(e[r]<<16)+(e[r+1]<<8)+e[r+2],o.push(oc(n));return o.join("")}function pa(e){vo||hu();for(var t,i=e.length,n=i%3,o="",r=[],a=16383,u=0,f=i-n;u<f;u+=a)r.push(ac(e,u,u+a>f?f:u+a));return n===1?(t=e[i-1],o+=je[t>>2],o+=je[t<<4&63],o+="=="):n===2&&(t=(e[i-2]<<8)+e[i-1],o+=je[t>>10],o+=je[t>>4&63],o+=je[t<<2&63],o+="="),r.push(o),r.join("")}function Mn(e,t,i,n,o){var r,a,u=o*8-n-1,f=(1<<u)-1,h=f>>1,p=-7,s=i?o-1:0,l=i?-1:1,c=e[t+s];for(s+=l,r=c&(1<<-p)-1,c>>=-p,p+=u;p>0;r=r*256+e[t+s],s+=l,p-=8);for(a=r&(1<<-p)-1,r>>=-p,p+=n;p>0;a=a*256+e[t+s],s+=l,p-=8);if(r===0)r=1-h;else{if(r===f)return a?NaN:(c?-1:1)*(1/0);a=a+Math.pow(2,n),r=r-h}return(c?-1:1)*a*Math.pow(2,r-n)}function du(e,t,i,n,o,r){var a,u,f,h=r*8-o-1,p=(1<<h)-1,s=p>>1,l=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=n?0:r-1,m=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=p):(a=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-a))<1&&(a--,f*=2),a+s>=1?t+=l/f:t+=l*Math.pow(2,1-s),t*f>=2&&(a++,f/=2),a+s>=p?(u=0,a=p):a+s>=1?(u=(t*f-1)*Math.pow(2,o),a=a+s):(u=t*Math.pow(2,s-1)*Math.pow(2,o),a=0));o>=8;e[i+c]=u&255,c+=m,u/=256,o-=8);for(a=a<<o|u,h+=o;h>0;e[i+c]=a&255,c+=m,a/=256,h-=8);e[i+c-m]|=_*128}var sc={}.toString,pu=Array.isArray||function(e){return sc.call(e)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var uc=50;M.TYPED_ARRAY_SUPPORT=Q.TYPED_ARRAY_SUPPORT!==void 0?Q.TYPED_ARRAY_SUPPORT:!0;wn();function wn(){return M.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function tt(e,t){if(wn()<t)throw new RangeError("Invalid typed array length");return M.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=M.prototype):(e===null&&(e=new M(t)),e.length=t),e}function M(e,t,i){if(!M.TYPED_ARRAY_SUPPORT&&!(this instanceof M))return new M(e,t,i);if(typeof e=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return Ao(this,e)}return mu(this,e,t,i)}M.poolSize=8192;M._augment=function(e){return e.__proto__=M.prototype,e};function mu(e,t,i,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?cc(e,t,i,n):typeof t=="string"?fc(e,t,i):hc(e,t)}M.from=function(e,t,i){return mu(null,e,t,i)};M.TYPED_ARRAY_SUPPORT&&(M.prototype.__proto__=Uint8Array.prototype,M.__proto__=Uint8Array);function gu(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function lc(e,t,i,n){return gu(t),t<=0?tt(e,t):i!==void 0?typeof n=="string"?tt(e,t).fill(i,n):tt(e,t).fill(i):tt(e,t)}M.alloc=function(e,t,i){return lc(null,e,t,i)};function Ao(e,t){if(gu(t),e=tt(e,t<0?0:wo(t)|0),!M.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}M.allocUnsafe=function(e){return Ao(null,e)};M.allocUnsafeSlow=function(e){return Ao(null,e)};function fc(e,t,i){if((typeof i!="string"||i==="")&&(i="utf8"),!M.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=_u(t,i)|0;e=tt(e,n);var o=e.write(t,i);return o!==n&&(e=e.slice(0,o)),e}function oo(e,t){var i=t.length<0?0:wo(t.length)|0;e=tt(e,i);for(var n=0;n<i;n+=1)e[n]=t[n]&255;return e}function cc(e,t,i,n){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return i===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,i):t=new Uint8Array(t,i,n),M.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=M.prototype):e=oo(e,t),e}function hc(e,t){if(Ge(t)){var i=wo(t.length)|0;return e=tt(e,i),e.length===0||t.copy(e,0,0,i),e}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||Dc(t.length)?tt(e,0):oo(e,t);if(t.type==="Buffer"&&pu(t.data))return oo(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function wo(e){if(e>=wn())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+wn().toString(16)+" bytes");return e|0}M.isBuffer=Mc;function Ge(e){return!!(e!=null&&e._isBuffer)}M.compare=function(t,i){if(!Ge(t)||!Ge(i))throw new TypeError("Arguments must be Buffers");if(t===i)return 0;for(var n=t.length,o=i.length,r=0,a=Math.min(n,o);r<a;++r)if(t[r]!==i[r]){n=t[r],o=i[r];break}return n<o?-1:o<n?1:0};M.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};M.concat=function(t,i){if(!pu(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return M.alloc(0);var n;if(i===void 0)for(i=0,n=0;n<t.length;++n)i+=t[n].length;var o=M.allocUnsafe(i),r=0;for(n=0;n<t.length;++n){var a=t[n];if(!Ge(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,r),r+=a.length}return o};function _u(e,t){if(Ge(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var i=e.length;if(i===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return bn(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return xu(e).length;default:if(n)return bn(e).length;t=(""+t).toLowerCase(),n=!0}}M.byteLength=_u;function dc(e,t,i){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,t>>>=0,i<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return Ec(this,t,i);case"utf8":case"utf-8":return Au(this,t,i);case"ascii":return wc(this,t,i);case"latin1":case"binary":return bc(this,t,i);case"base64":return vc(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xc(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}M.prototype._isBuffer=!0;function Rt(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}M.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<t;i+=2)Rt(this,i,i+1);return this};M.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<t;i+=4)Rt(this,i,i+3),Rt(this,i+1,i+2);return this};M.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<t;i+=8)Rt(this,i,i+7),Rt(this,i+1,i+6),Rt(this,i+2,i+5),Rt(this,i+3,i+4);return this};M.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?Au(this,0,t):dc.apply(this,arguments)};M.prototype.equals=function(t){if(!Ge(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:M.compare(this,t)===0};M.prototype.inspect=function(){var t="",i=uc;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"};M.prototype.compare=function(t,i,n,o,r){if(!Ge(t))throw new TypeError("Argument must be a Buffer");if(i===void 0&&(i=0),n===void 0&&(n=t?t.length:0),o===void 0&&(o=0),r===void 0&&(r=this.length),i<0||n>t.length||o<0||r>this.length)throw new RangeError("out of range index");if(o>=r&&i>=n)return 0;if(o>=r)return-1;if(i>=n)return 1;if(i>>>=0,n>>>=0,o>>>=0,r>>>=0,this===t)return 0;for(var a=r-o,u=n-i,f=Math.min(a,u),h=this.slice(o,r),p=t.slice(i,n),s=0;s<f;++s)if(h[s]!==p[s]){a=h[s],u=p[s];break}return a<u?-1:u<a?1:0};function yu(e,t,i,n,o){if(e.length===0)return-1;if(typeof i=="string"?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=o?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(o)return-1;i=e.length-1}else if(i<0)if(o)i=0;else return-1;if(typeof t=="string"&&(t=M.from(t,n)),Ge(t))return t.length===0?-1:ma(e,t,i,n,o);if(typeof t=="number")return t=t&255,M.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):ma(e,[t],i,n,o);throw new TypeError("val must be string, number or Buffer")}function ma(e,t,i,n,o){var r=1,a=e.length,u=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;r=2,a/=2,u/=2,i/=2}function f(c,m){return r===1?c[m]:c.readUInt16BE(m*r)}var h;if(o){var p=-1;for(h=i;h<a;h++)if(f(e,h)===f(t,p===-1?0:h-p)){if(p===-1&&(p=h),h-p+1===u)return p*r}else p!==-1&&(h-=h-p),p=-1}else for(i+u>a&&(i=a-u),h=i;h>=0;h--){for(var s=!0,l=0;l<u;l++)if(f(e,h+l)!==f(t,l)){s=!1;break}if(s)return h}return-1}M.prototype.includes=function(t,i,n){return this.indexOf(t,i,n)!==-1};M.prototype.indexOf=function(t,i,n){return yu(this,t,i,n,!0)};M.prototype.lastIndexOf=function(t,i,n){return yu(this,t,i,n,!1)};function pc(e,t,i,n){i=Number(i)||0;var o=e.length-i;n?(n=Number(n),n>o&&(n=o)):n=o;var r=t.length;if(r%2!==0)throw new TypeError("Invalid hex string");n>r/2&&(n=r/2);for(var a=0;a<n;++a){var u=parseInt(t.substr(a*2,2),16);if(isNaN(u))return a;e[i+a]=u}return a}function mc(e,t,i,n){return qn(bn(t,e.length-i),e,i,n)}function vu(e,t,i,n){return qn(Sc(t),e,i,n)}function gc(e,t,i,n){return vu(e,t,i,n)}function _c(e,t,i,n){return qn(xu(t),e,i,n)}function yc(e,t,i,n){return qn(Lc(t,e.length-i),e,i,n)}M.prototype.write=function(t,i,n,o){if(i===void 0)o="utf8",n=this.length,i=0;else if(n===void 0&&typeof i=="string")o=i,n=this.length,i=0;else if(isFinite(i))i=i|0,isFinite(n)?(n=n|0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var r=this.length-i;if((n===void 0||n>r)&&(n=r),t.length>0&&(n<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var a=!1;;)switch(o){case"hex":return pc(this,t,i,n);case"utf8":case"utf-8":return mc(this,t,i,n);case"ascii":return vu(this,t,i,n);case"latin1":case"binary":return gc(this,t,i,n);case"base64":return _c(this,t,i,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yc(this,t,i,n);default:if(a)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),a=!0}};M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function vc(e,t,i){return t===0&&i===e.length?pa(e):pa(e.slice(t,i))}function Au(e,t,i){i=Math.min(e.length,i);for(var n=[],o=t;o<i;){var r=e[o],a=null,u=r>239?4:r>223?3:r>191?2:1;if(o+u<=i){var f,h,p,s;switch(u){case 1:r<128&&(a=r);break;case 2:f=e[o+1],(f&192)===128&&(s=(r&31)<<6|f&63,s>127&&(a=s));break;case 3:f=e[o+1],h=e[o+2],(f&192)===128&&(h&192)===128&&(s=(r&15)<<12|(f&63)<<6|h&63,s>2047&&(s<55296||s>57343)&&(a=s));break;case 4:f=e[o+1],h=e[o+2],p=e[o+3],(f&192)===128&&(h&192)===128&&(p&192)===128&&(s=(r&15)<<18|(f&63)<<12|(h&63)<<6|p&63,s>65535&&s<1114112&&(a=s))}}a===null?(a=65533,u=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),o+=u}return Ac(n)}var ga=4096;function Ac(e){var t=e.length;if(t<=ga)return String.fromCharCode.apply(String,e);for(var i="",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=ga));return i}function wc(e,t,i){var n="";i=Math.min(e.length,i);for(var o=t;o<i;++o)n+=String.fromCharCode(e[o]&127);return n}function bc(e,t,i){var n="";i=Math.min(e.length,i);for(var o=t;o<i;++o)n+=String.fromCharCode(e[o]);return n}function Ec(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var o="",r=t;r<i;++r)o+=Oc(e[r]);return o}function xc(e,t,i){for(var n=e.slice(t,i),o="",r=0;r<n.length;r+=2)o+=String.fromCharCode(n[r]+n[r+1]*256);return o}M.prototype.slice=function(t,i){var n=this.length;t=~~t,i=i===void 0?n:~~i,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),i<0?(i+=n,i<0&&(i=0)):i>n&&(i=n),i<t&&(i=t);var o;if(M.TYPED_ARRAY_SUPPORT)o=this.subarray(t,i),o.__proto__=M.prototype;else{var r=i-t;o=new M(r,void 0);for(var a=0;a<r;++a)o[a]=this[a+t]}return o};function fe(e,t,i){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}M.prototype.readUIntLE=function(t,i,n){t=t|0,i=i|0,n||fe(t,i,this.length);for(var o=this[t],r=1,a=0;++a<i&&(r*=256);)o+=this[t+a]*r;return o};M.prototype.readUIntBE=function(t,i,n){t=t|0,i=i|0,n||fe(t,i,this.length);for(var o=this[t+--i],r=1;i>0&&(r*=256);)o+=this[t+--i]*r;return o};M.prototype.readUInt8=function(t,i){return i||fe(t,1,this.length),this[t]};M.prototype.readUInt16LE=function(t,i){return i||fe(t,2,this.length),this[t]|this[t+1]<<8};M.prototype.readUInt16BE=function(t,i){return i||fe(t,2,this.length),this[t]<<8|this[t+1]};M.prototype.readUInt32LE=function(t,i){return i||fe(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};M.prototype.readUInt32BE=function(t,i){return i||fe(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};M.prototype.readIntLE=function(t,i,n){t=t|0,i=i|0,n||fe(t,i,this.length);for(var o=this[t],r=1,a=0;++a<i&&(r*=256);)o+=this[t+a]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*i)),o};M.prototype.readIntBE=function(t,i,n){t=t|0,i=i|0,n||fe(t,i,this.length);for(var o=i,r=1,a=this[t+--o];o>0&&(r*=256);)a+=this[t+--o]*r;return r*=128,a>=r&&(a-=Math.pow(2,8*i)),a};M.prototype.readInt8=function(t,i){return i||fe(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};M.prototype.readInt16LE=function(t,i){i||fe(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};M.prototype.readInt16BE=function(t,i){i||fe(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};M.prototype.readInt32LE=function(t,i){return i||fe(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};M.prototype.readInt32BE=function(t,i){return i||fe(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};M.prototype.readFloatLE=function(t,i){return i||fe(t,4,this.length),Mn(this,t,!0,23,4)};M.prototype.readFloatBE=function(t,i){return i||fe(t,4,this.length),Mn(this,t,!1,23,4)};M.prototype.readDoubleLE=function(t,i){return i||fe(t,8,this.length),Mn(this,t,!0,52,8)};M.prototype.readDoubleBE=function(t,i){return i||fe(t,8,this.length),Mn(this,t,!1,52,8)};function Ae(e,t,i,n,o,r){if(!Ge(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<r)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}M.prototype.writeUIntLE=function(t,i,n,o){if(t=+t,i=i|0,n=n|0,!o){var r=Math.pow(2,8*n)-1;Ae(this,t,i,n,r,0)}var a=1,u=0;for(this[i]=t&255;++u<n&&(a*=256);)this[i+u]=t/a&255;return i+n};M.prototype.writeUIntBE=function(t,i,n,o){if(t=+t,i=i|0,n=n|0,!o){var r=Math.pow(2,8*n)-1;Ae(this,t,i,n,r,0)}var a=n-1,u=1;for(this[i+a]=t&255;--a>=0&&(u*=256);)this[i+a]=t/u&255;return i+n};M.prototype.writeUInt8=function(t,i,n){return t=+t,i=i|0,n||Ae(this,t,i,1,255,0),M.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[i]=t&255,i+1};function Nn(e,t,i,n){t<0&&(t=65535+t+1);for(var o=0,r=Math.min(e.length-i,2);o<r;++o)e[i+o]=(t&255<<8*(n?o:1-o))>>>(n?o:1-o)*8}M.prototype.writeUInt16LE=function(t,i,n){return t=+t,i=i|0,n||Ae(this,t,i,2,65535,0),M.TYPED_ARRAY_SUPPORT?(this[i]=t&255,this[i+1]=t>>>8):Nn(this,t,i,!0),i+2};M.prototype.writeUInt16BE=function(t,i,n){return t=+t,i=i|0,n||Ae(this,t,i,2,65535,0),M.TYPED_ARRAY_SUPPORT?(this[i]=t>>>8,this[i+1]=t&255):Nn(this,t,i,!1),i+2};function Rn(e,t,i,n){t<0&&(t=4294967295+t+1);for(var o=0,r=Math.min(e.length-i,4);o<r;++o)e[i+o]=t>>>(n?o:3-o)*8&255}M.prototype.writeUInt32LE=function(t,i,n){return t=+t,i=i|0,n||Ae(this,t,i,4,4294967295,0),M.TYPED_ARRAY_SUPPORT?(this[i+3]=t>>>24,this[i+2]=t>>>16,this[i+1]=t>>>8,this[i]=t&255):Rn(this,t,i,!0),i+4};M.prototype.writeUInt32BE=function(t,i,n){return t=+t,i=i|0,n||Ae(this,t,i,4,4294967295,0),M.TYPED_ARRAY_SUPPORT?(this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=t&255):Rn(this,t,i,!1),i+4};M.prototype.writeIntLE=function(t,i,n,o){if(t=+t,i=i|0,!o){var r=Math.pow(2,8*n-1);Ae(this,t,i,n,r-1,-r)}var a=0,u=1,f=0;for(this[i]=t&255;++a<n&&(u*=256);)t<0&&f===0&&this[i+a-1]!==0&&(f=1),this[i+a]=(t/u>>0)-f&255;return i+n};M.prototype.writeIntBE=function(t,i,n,o){if(t=+t,i=i|0,!o){var r=Math.pow(2,8*n-1);Ae(this,t,i,n,r-1,-r)}var a=n-1,u=1,f=0;for(this[i+a]=t&255;--a>=0&&(u*=256);)t<0&&f===0&&this[i+a+1]!==0&&(f=1),this[i+a]=(t/u>>0)-f&255;return i+n};M.prototype.writeInt8=function(t,i,n){return t=+t,i=i|0,n||Ae(this,t,i,1,127,-128),M.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[i]=t&255,i+1};M.prototype.writeInt16LE=function(t,i,n){return t=+t,i=i|0,n||Ae(this,t,i,2,32767,-32768),M.TYPED_ARRAY_SUPPORT?(this[i]=t&255,this[i+1]=t>>>8):Nn(this,t,i,!0),i+2};M.prototype.writeInt16BE=function(t,i,n){return t=+t,i=i|0,n||Ae(this,t,i,2,32767,-32768),M.TYPED_ARRAY_SUPPORT?(this[i]=t>>>8,this[i+1]=t&255):Nn(this,t,i,!1),i+2};M.prototype.writeInt32LE=function(t,i,n){return t=+t,i=i|0,n||Ae(this,t,i,4,2147483647,-2147483648),M.TYPED_ARRAY_SUPPORT?(this[i]=t&255,this[i+1]=t>>>8,this[i+2]=t>>>16,this[i+3]=t>>>24):Rn(this,t,i,!0),i+4};M.prototype.writeInt32BE=function(t,i,n){return t=+t,i=i|0,n||Ae(this,t,i,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),M.TYPED_ARRAY_SUPPORT?(this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=t&255):Rn(this,t,i,!1),i+4};function wu(e,t,i,n,o,r){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function bu(e,t,i,n,o){return o||wu(e,t,i,4),du(e,t,i,n,23,4),i+4}M.prototype.writeFloatLE=function(t,i,n){return bu(this,t,i,!0,n)};M.prototype.writeFloatBE=function(t,i,n){return bu(this,t,i,!1,n)};function Eu(e,t,i,n,o){return o||wu(e,t,i,8),du(e,t,i,n,52,8),i+8}M.prototype.writeDoubleLE=function(t,i,n){return Eu(this,t,i,!0,n)};M.prototype.writeDoubleBE=function(t,i,n){return Eu(this,t,i,!1,n)};M.prototype.copy=function(t,i,n,o){if(n||(n=0),!o&&o!==0&&(o=this.length),i>=t.length&&(i=t.length),i||(i=0),o>0&&o<n&&(o=n),o===n||t.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-i<o-n&&(o=t.length-i+n);var r=o-n,a;if(this===t&&n<i&&i<o)for(a=r-1;a>=0;--a)t[a+i]=this[a+n];else if(r<1e3||!M.TYPED_ARRAY_SUPPORT)for(a=0;a<r;++a)t[a+i]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+r),i);return r};M.prototype.fill=function(t,i,n,o){if(typeof t=="string"){if(typeof i=="string"?(o=i,i=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),t.length===1){var r=t.charCodeAt(0);r<256&&(t=r)}if(o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!M.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else typeof t=="number"&&(t=t&255);if(i<0||this.length<i||this.length<n)throw new RangeError("Out of range index");if(n<=i)return this;i=i>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var a;if(typeof t=="number")for(a=i;a<n;++a)this[a]=t;else{var u=Ge(t)?t:bn(new M(t,o).toString()),f=u.length;for(a=0;a<n-i;++a)this[a+i]=u[a%f]}return this};var Tc=/[^+\/0-9A-Za-z-_]/g;function Ic(e){if(e=Cc(e).replace(Tc,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function Cc(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Oc(e){return e<16?"0"+e.toString(16):e.toString(16)}function bn(e,t){t=t||1/0;for(var i,n=e.length,o=null,r=[],a=0;a<n;++a){if(i=e.charCodeAt(a),i>55295&&i<57344){if(!o){if(i>56319){(t-=3)>-1&&r.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&r.push(239,191,189);continue}o=i;continue}if(i<56320){(t-=3)>-1&&r.push(239,191,189),o=i;continue}i=(o-55296<<10|i-56320)+65536}else o&&(t-=3)>-1&&r.push(239,191,189);if(o=null,i<128){if((t-=1)<0)break;r.push(i)}else if(i<2048){if((t-=2)<0)break;r.push(i>>6|192,i&63|128)}else if(i<65536){if((t-=3)<0)break;r.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((t-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return r}function Sc(e){for(var t=[],i=0;i<e.length;++i)t.push(e.charCodeAt(i)&255);return t}function Lc(e,t){for(var i,n,o,r=[],a=0;a<e.length&&!((t-=2)<0);++a)i=e.charCodeAt(a),n=i>>8,o=i%256,r.push(o),r.push(n);return r}function xu(e){return rc(Ic(e))}function qn(e,t,i,n){for(var o=0;o<n&&!(o+i>=t.length||o>=e.length);++o)t[o+i]=e[o];return o}function Dc(e){return e!==e}function Mc(e){return e!=null&&(!!e._isBuffer||Tu(e)||Nc(e))}function Tu(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Nc(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&Tu(e.slice(0,0))}function Iu(){throw new Error("setTimeout has not been defined")}function Cu(){throw new Error("clearTimeout has not been defined")}var ut=Iu,lt=Cu;typeof Q.setTimeout=="function"&&(ut=setTimeout);typeof Q.clearTimeout=="function"&&(lt=clearTimeout);function Ou(e){if(ut===setTimeout)return setTimeout(e,0);if((ut===Iu||!ut)&&setTimeout)return ut=setTimeout,setTimeout(e,0);try{return ut(e,0)}catch{try{return ut.call(null,e,0)}catch{return ut.call(this,e,0)}}}function Rc(e){if(lt===clearTimeout)return clearTimeout(e);if((lt===Cu||!lt)&&clearTimeout)return lt=clearTimeout,clearTimeout(e);try{return lt(e)}catch{try{return lt.call(null,e)}catch{return lt.call(this,e)}}}var it=[],ci=!1,qt,hn=-1;function qc(){!ci||!qt||(ci=!1,qt.length?it=qt.concat(it):hn=-1,it.length&&Su())}function Su(){if(!ci){var e=Ou(qc);ci=!0;for(var t=it.length;t;){for(qt=it,it=[];++hn<t;)qt&&qt[hn].run();hn=-1,t=it.length}qt=null,ci=!1,Rc(e)}}function Ie(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];it.push(new Lu(e,t)),it.length===1&&!ci&&Ou(Su)}function Lu(e,t){this.fun=e,this.array=t}Lu.prototype.run=function(){this.fun.apply(null,this.array)};var kc="browser",Pc="browser",Fc=!0,Bc={},Uc=[],jc="",Vc={},Hc={},Gc={};function zt(){}var Zc=zt,Xc=zt,zc=zt,Wc=zt,Yc=zt,Jc=zt,Qc=zt;function Kc(e){throw new Error("process.binding is not supported")}function $c(){return"/"}function eh(e){throw new Error("process.chdir is not supported")}function th(){return 0}var oi=Q.performance||{},ih=oi.now||oi.mozNow||oi.msNow||oi.oNow||oi.webkitNow||function(){return new Date().getTime()};function nh(e){var t=ih.call(oi)*.001,i=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(i=i-e[0],n=n-e[1],n<0&&(i--,n+=1e9)),[i,n]}var rh=new Date;function oh(){var e=new Date,t=e-rh;return t/1e3}var nt={nextTick:Ie,title:kc,browser:Fc,env:Bc,argv:Uc,version:jc,versions:Vc,on:Zc,addListener:Xc,once:zc,off:Wc,removeListener:Yc,removeAllListeners:Jc,emit:Qc,binding:Kc,cwd:$c,chdir:eh,umask:th,hrtime:nh,platform:Pc,release:Hc,config:Gc,uptime:oh},ah;function _t(){}_t.prototype=Object.create(null);function Z(){Z.init.call(this)}Z.EventEmitter=Z;Z.usingDomains=!1;Z.prototype.domain=void 0;Z.prototype._events=void 0;Z.prototype._maxListeners=void 0;Z.defaultMaxListeners=10;Z.init=function(){this.domain=null,Z.usingDomains&&ah.active,(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new _t,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Z.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this};function Du(e){return e._maxListeners===void 0?Z.defaultMaxListeners:e._maxListeners}Z.prototype.getMaxListeners=function(){return Du(this)};function sh(e,t,i){if(t)e.call(i);else for(var n=e.length,o=Xi(e,n),r=0;r<n;++r)o[r].call(i)}function uh(e,t,i,n){if(t)e.call(i,n);else for(var o=e.length,r=Xi(e,o),a=0;a<o;++a)r[a].call(i,n)}function lh(e,t,i,n,o){if(t)e.call(i,n,o);else for(var r=e.length,a=Xi(e,r),u=0;u<r;++u)a[u].call(i,n,o)}function fh(e,t,i,n,o,r){if(t)e.call(i,n,o,r);else for(var a=e.length,u=Xi(e,a),f=0;f<a;++f)u[f].call(i,n,o,r)}function ch(e,t,i,n){if(t)e.apply(i,n);else for(var o=e.length,r=Xi(e,o),a=0;a<o;++a)r[a].apply(i,n)}Z.prototype.emit=function(t){var i,n,o,r,a,u,f,h=t==="error";if(u=this._events,u)h=h&&u.error==null;else if(!h)return!1;if(f=this.domain,h){if(i=arguments[1],f)i||(i=new Error('Uncaught, unspecified "error" event')),i.domainEmitter=this,i.domain=f,i.domainThrown=!1,f.emit("error",i);else{if(i instanceof Error)throw i;var p=new Error('Uncaught, unspecified "error" event. ('+i+")");throw p.context=i,p}return!1}if(n=u[t],!n)return!1;var s=typeof n=="function";switch(o=arguments.length,o){case 1:sh(n,s,this);break;case 2:uh(n,s,this,arguments[1]);break;case 3:lh(n,s,this,arguments[1],arguments[2]);break;case 4:fh(n,s,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(o-1),a=1;a<o;a++)r[a-1]=arguments[a];ch(n,s,this,r)}return!0};function Mu(e,t,i,n){var o,r,a;if(typeof i!="function")throw new TypeError('"listener" argument must be a function');if(r=e._events,r?(r.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),r=e._events),a=r[t]):(r=e._events=new _t,e._eventsCount=0),!a)a=r[t]=i,++e._eventsCount;else if(typeof a=="function"?a=r[t]=n?[i,a]:[a,i]:n?a.unshift(i):a.push(i),!a.warned&&(o=Du(e),o&&o>0&&a.length>o)){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,hh(u)}return e}function hh(e){typeof console.warn=="function"?console.warn(e):console.log(e)}Z.prototype.addListener=function(t,i){return Mu(this,t,i,!1)};Z.prototype.on=Z.prototype.addListener;Z.prototype.prependListener=function(t,i){return Mu(this,t,i,!0)};function Nu(e,t,i){var n=!1;function o(){e.removeListener(t,o),n||(n=!0,i.apply(e,arguments))}return o.listener=i,o}Z.prototype.once=function(t,i){if(typeof i!="function")throw new TypeError('"listener" argument must be a function');return this.on(t,Nu(this,t,i)),this};Z.prototype.prependOnceListener=function(t,i){if(typeof i!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(t,Nu(this,t,i)),this};Z.prototype.removeListener=function(t,i){var n,o,r,a,u;if(typeof i!="function")throw new TypeError('"listener" argument must be a function');if(o=this._events,!o)return this;if(n=o[t],!n)return this;if(n===i||n.listener&&n.listener===i)--this._eventsCount===0?this._events=new _t:(delete o[t],o.removeListener&&this.emit("removeListener",t,n.listener||i));else if(typeof n!="function"){for(r=-1,a=n.length;a-- >0;)if(n[a]===i||n[a].listener&&n[a].listener===i){u=n[a].listener,r=a;break}if(r<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount===0)return this._events=new _t,this;delete o[t]}else dh(n,r);o.removeListener&&this.emit("removeListener",t,u||i)}return this};Z.prototype.removeAllListeners=function(t){var i,n;if(n=this._events,!n)return this;if(!n.removeListener)return arguments.length===0?(this._events=new _t,this._eventsCount=0):n[t]&&(--this._eventsCount===0?this._events=new _t:delete n[t]),this;if(arguments.length===0){for(var o=Object.keys(n),r=0,a;r<o.length;++r)a=o[r],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=new _t,this._eventsCount=0,this}if(i=n[t],typeof i=="function")this.removeListener(t,i);else if(i)do this.removeListener(t,i[i.length-1]);while(i[0]);return this};Z.prototype.listeners=function(t){var i,n,o=this._events;return o?(i=o[t],i?typeof i=="function"?n=[i.listener||i]:n=ph(i):n=[]):n=[],n};Z.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Ru.call(e,t)};Z.prototype.listenerCount=Ru;function Ru(e){var t=this._events;if(t){var i=t[e];if(typeof i=="function")return 1;if(i)return i.length}return 0}Z.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function dh(e,t){for(var i=t,n=i+1,o=e.length;n<o;i+=1,n+=1)e[i]=e[n];e.pop()}function Xi(e,t){for(var i=new Array(t);t--;)i[t]=e[t];return i}function ph(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}const mh=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:Z,default:Z},Symbol.toStringTag,{value:"Module"}));var ao;typeof Object.create=="function"?ao=function(t,i){t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:ao=function(t,i){t.super_=i;var n=function(){};n.prototype=i.prototype,t.prototype=new n,t.prototype.constructor=t};const we=ao;var gh=/%[sdj%]/g;function _h(e){if(!Eo(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(yt(arguments[i]));return t.join(" ")}for(var i=1,n=arguments,o=n.length,r=String(e).replace(gh,function(u){if(u==="%%")return"%";if(i>=o)return u;switch(u){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}default:return u}}),a=n[i];i<o;a=n[++i])bo(a)||!zi(a)?r+=" "+a:r+=" "+yt(a);return r}function qu(e,t){if(dt(Q.process))return function(){return qu(e,t).apply(this,arguments)};if(nt.noDeprecation===!0)return e;var i=!1;function n(){if(!i){if(nt.throwDeprecation)throw new Error(t);nt.traceDeprecation?console.trace(t):console.error(t),i=!0}return e.apply(this,arguments)}return n}var rn={},Zn;function yh(e){if(dt(Zn)&&(Zn={}.NODE_DEBUG||""),e=e.toUpperCase(),!rn[e])if(new RegExp("\\b"+e+"\\b","i").test(Zn)){var t=0;rn[e]=function(){var i=_h.apply(null,arguments);console.error("%s %d: %s",e,t,i)}}else rn[e]=function(){};return rn[e]}function yt(e,t){var i={seen:[],stylize:Ah};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),ku(t)?i.showHidden=t:t&&Ch(i,t),dt(i.showHidden)&&(i.showHidden=!1),dt(i.depth)&&(i.depth=2),dt(i.colors)&&(i.colors=!1),dt(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=vh),En(i,e,i.depth)}yt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};yt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function vh(e,t){var i=yt.styles[t];return i?"\x1B["+yt.colors[i][0]+"m"+e+"\x1B["+yt.colors[i][1]+"m":e}function Ah(e,t){return e}function wh(e){var t={};return e.forEach(function(i,n){t[i]=!0}),t}function En(e,t,i){if(e.customInspect&&t&&Yn(t.inspect)&&t.inspect!==yt&&!(t.constructor&&t.constructor.prototype===t)){var n=t.inspect(i,e);return Eo(n)||(n=En(e,n,i)),n}var o=bh(e,t);if(o)return o;var r=Object.keys(t),a=wh(r);if(e.showHidden&&(r=Object.getOwnPropertyNames(t)),Wn(t)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return Xn(t);if(r.length===0){if(Yn(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(zn(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(_a(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Wn(t))return Xn(t)}var f="",h=!1,p=["{","}"];if(Th(t)&&(h=!0,p=["[","]"]),Yn(t)){var s=t.name?": "+t.name:"";f=" [Function"+s+"]"}if(zn(t)&&(f=" "+RegExp.prototype.toString.call(t)),_a(t)&&(f=" "+Date.prototype.toUTCString.call(t)),Wn(t)&&(f=" "+Xn(t)),r.length===0&&(!h||t.length==0))return p[0]+f+p[1];if(i<0)return zn(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var l;return h?l=Eh(e,t,i,a,r):l=r.map(function(c){return so(e,t,i,a,c,h)}),e.seen.pop(),xh(l,f,p)}function bh(e,t){if(dt(t))return e.stylize("undefined","undefined");if(Eo(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}if(Ih(t))return e.stylize(""+t,"number");if(ku(t))return e.stylize(""+t,"boolean");if(bo(t))return e.stylize("null","null")}function Xn(e){return"["+Error.prototype.toString.call(e)+"]"}function Eh(e,t,i,n,o){for(var r=[],a=0,u=t.length;a<u;++a)Pu(t,String(a))?r.push(so(e,t,i,n,String(a),!0)):r.push("");return o.forEach(function(f){f.match(/^\d+$/)||r.push(so(e,t,i,n,f,!0))}),r}function so(e,t,i,n,o,r){var a,u,f;if(f=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},f.get?f.set?u=e.stylize("[Getter/Setter]","special"):u=e.stylize("[Getter]","special"):f.set&&(u=e.stylize("[Setter]","special")),Pu(n,o)||(a="["+o+"]"),u||(e.seen.indexOf(f.value)<0?(bo(i)?u=En(e,f.value,null):u=En(e,f.value,i-1),u.indexOf(`
`)>-1&&(r?u=u.split(`
`).map(function(h){return"  "+h}).join(`
`).substr(2):u=`
`+u.split(`
`).map(function(h){return"   "+h}).join(`
`))):u=e.stylize("[Circular]","special")),dt(a)){if(r&&o.match(/^\d+$/))return u;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function xh(e,t,i){var n=e.reduce(function(o,r){return r.indexOf(`
`)>=0,o+r.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?i[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}function Th(e){return Array.isArray(e)}function ku(e){return typeof e=="boolean"}function bo(e){return e===null}function Ih(e){return typeof e=="number"}function Eo(e){return typeof e=="string"}function dt(e){return e===void 0}function zn(e){return zi(e)&&xo(e)==="[object RegExp]"}function zi(e){return typeof e=="object"&&e!==null}function _a(e){return zi(e)&&xo(e)==="[object Date]"}function Wn(e){return zi(e)&&(xo(e)==="[object Error]"||e instanceof Error)}function Yn(e){return typeof e=="function"}function xo(e){return Object.prototype.toString.call(e)}function Ch(e,t){if(!t||!zi(t))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e}function Pu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Wt(){this.head=null,this.tail=null,this.length=0}Wt.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length};Wt.prototype.unshift=function(e){var t={data:e,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length};Wt.prototype.shift=function(){if(this.length!==0){var e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}};Wt.prototype.clear=function(){this.head=this.tail=null,this.length=0};Wt.prototype.join=function(e){if(this.length===0)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i};Wt.prototype.concat=function(e){if(this.length===0)return M.alloc(0);if(this.length===1)return this.head.data;for(var t=M.allocUnsafe(e>>>0),i=this.head,n=0;i;)i.data.copy(t,n),n+=i.data.length,i=i.next;return t};var Oh=M.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Sh(e){if(e&&!Oh(e))throw new Error("Unknown encoding: "+e)}function mi(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),Sh(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Dh;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Mh;break;default:this.write=Lh;return}this.charBuffer=new M(6),this.charReceived=0,this.charLength=0}mi.prototype.write=function(e){for(var t="";this.charLength;){var i=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,i),this.charReceived+=i,this.charReceived<this.charLength)return"";e=e.slice(i,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var o=t.charCodeAt(t.length-1);if(o>=55296&&o<=56319){this.charLength+=this.surrogateSize,t="";continue}if(this.charReceived=this.charLength=0,e.length===0)return t;break}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived),t+=e.toString(this.encoding,0,n);var n=t.length-1,o=t.charCodeAt(n);if(o>=55296&&o<=56319){var r=this.surrogateSize;return this.charLength+=r,this.charReceived+=r,this.charBuffer.copy(this.charBuffer,r,0,r),e.copy(this.charBuffer,0,0,r),t.substring(0,n)}return t};mi.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var i=e[e.length-t];if(t==1&&i>>5==6){this.charLength=2;break}if(t<=2&&i>>4==14){this.charLength=3;break}if(t<=3&&i>>3==30){this.charLength=4;break}}this.charReceived=t};mi.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var i=this.charReceived,n=this.charBuffer,o=this.encoding;t+=n.slice(0,i).toString(o)}return t};function Lh(e){return e.toString(this.encoding)}function Dh(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function Mh(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}const Nh=Object.freeze(Object.defineProperty({__proto__:null,StringDecoder:mi},Symbol.toStringTag,{value:"Module"}));ee.ReadableState=Fu;var Y=yh("stream");we(ee,Z);function Rh(e,t,i){if(typeof e.prependListener=="function")return e.prependListener(t,i);!e._events||!e._events[t]?e.on(t,i):Array.isArray(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]}function qh(e,t){return e.listeners(t).length}function Fu(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof xe&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=i||i===0?i:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new Wt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new mi(e.encoding),this.encoding=e.encoding)}function ee(e){if(!(this instanceof ee))return new ee(e);this._readableState=new Fu(e,this),this.readable=!0,e&&typeof e.read=="function"&&(this._read=e.read),Z.call(this)}ee.prototype.push=function(e,t){var i=this._readableState;return!i.objectMode&&typeof e=="string"&&(t=t||i.defaultEncoding,t!==i.encoding&&(e=M.from(e,t),t="")),Bu(this,i,e,t,!1)};ee.prototype.unshift=function(e){var t=this._readableState;return Bu(this,t,e,"",!0)};ee.prototype.isPaused=function(){return this._readableState.flowing===!1};function Bu(e,t,i,n,o){var r=Fh(t,i);if(r)e.emit("error",r);else if(i===null)t.reading=!1,Bh(e,t);else if(t.objectMode||i&&i.length>0)if(t.ended&&!o){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&o){var u=new Error("stream.unshift() after end event");e.emit("error",u)}else{var f;t.decoder&&!o&&!n&&(i=t.decoder.write(i),f=!t.objectMode&&i.length===0),o||(t.reading=!1),f||(t.flowing&&t.length===0&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,o?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&kn(e))),Uh(e,t)}else o||(t.reading=!1);return kh(t)}function kh(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}ee.prototype.setEncoding=function(e){return this._readableState.decoder=new mi(e),this._readableState.encoding=e,this};var ya=8388608;function Ph(e){return e>=ya?e=ya:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function va(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Ph(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}ee.prototype.read=function(e){Y("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Y("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Jn(this):kn(this),null;if(e=va(e,t),e===0&&t.ended)return t.length===0&&Jn(this),null;var n=t.needReadable;Y("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,Y("length less than watermark",n)),t.ended||t.reading?(n=!1,Y("reading or ended",n)):n&&(Y("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=va(i,t)));var o;return e>0?o=Uu(e,t):o=null,o===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&Jn(this)),o!==null&&this.emit("data",o),o};function Fh(e,t){var i=null;return!M.isBuffer(t)&&typeof t!="string"&&t!==null&&t!==void 0&&!e.objectMode&&(i=new TypeError("Invalid non-string/buffer chunk")),i}function Bh(e,t){if(!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,kn(e)}}function kn(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Y("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Ie(Aa,e):Aa(e))}function Aa(e){Y("emit readable"),e.emit("readable"),To(e)}function Uh(e,t){t.readingMore||(t.readingMore=!0,Ie(jh,e,t))}function jh(e,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Y("maybeReadMore read 0"),e.read(0),i!==t.length);)i=t.length;t.readingMore=!1}ee.prototype._read=function(e){this.emit("error",new Error("not implemented"))};ee.prototype.pipe=function(e,t){var i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,Y("pipe count=%d opts=%j",n.pipesCount,t);var o=!t||t.end!==!1,r=o?u:p;n.endEmitted?Ie(r):i.once("end",r),e.on("unpipe",a);function a(A){Y("onunpipe"),A===i&&p()}function u(){Y("onend"),e.end()}var f=Vh(i);e.on("drain",f);var h=!1;function p(){Y("cleanup"),e.removeListener("close",m),e.removeListener("finish",_),e.removeListener("drain",f),e.removeListener("error",c),e.removeListener("unpipe",a),i.removeListener("end",u),i.removeListener("end",p),i.removeListener("data",l),h=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&f()}var s=!1;i.on("data",l);function l(A){Y("ondata"),s=!1;var v=e.write(A);v===!1&&!s&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&ju(n.pipes,e)!==-1)&&!h&&(Y("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,s=!0),i.pause())}function c(A){Y("onerror",A),E(),e.removeListener("error",c),qh(e,"error")===0&&e.emit("error",A)}Rh(e,"error",c);function m(){e.removeListener("finish",_),E()}e.once("close",m);function _(){Y("onfinish"),e.removeListener("close",m),E()}e.once("finish",_);function E(){Y("unpipe"),i.unpipe(e)}return e.emit("pipe",i),n.flowing||(Y("pipe resume"),i.resume()),e};function Vh(e){return function(){var t=e._readableState;Y("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&e.listeners("data").length&&(t.flowing=!0,To(e))}}ee.prototype.unpipe=function(e){var t=this._readableState;if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this);return this}var r=ju(t.pipes,e);return r===-1?this:(t.pipes.splice(r,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)};ee.prototype.on=function(e,t){var i=Z.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&kn(this):Ie(Hh,this))}return i};ee.prototype.addListener=ee.prototype.on;function Hh(e){Y("readable nexttick read 0"),e.read(0)}ee.prototype.resume=function(){var e=this._readableState;return e.flowing||(Y("resume"),e.flowing=!0,Gh(this,e)),this};function Gh(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Ie(Zh,e,t))}function Zh(e,t){t.reading||(Y("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),To(e),t.flowing&&!t.reading&&e.read(0)}ee.prototype.pause=function(){return Y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Y("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function To(e){var t=e._readableState;for(Y("flow",t.flowing);t.flowing&&e.read()!==null;);}ee.prototype.wrap=function(e){var t=this._readableState,i=!1,n=this;e.on("end",function(){if(Y("wrapped end"),t.decoder&&!t.ended){var a=t.decoder.end();a&&a.length&&n.push(a)}n.push(null)}),e.on("data",function(a){if(Y("wrapped data"),t.decoder&&(a=t.decoder.write(a)),!(t.objectMode&&a==null)&&!(!t.objectMode&&(!a||!a.length))){var u=n.push(a);u||(i=!0,e.pause())}});for(var o in e)this[o]===void 0&&typeof e[o]=="function"&&(this[o]=function(a){return function(){return e[a].apply(e,arguments)}}(o));var r=["error","close","destroy","pause","resume"];return Jh(r,function(a){e.on(a,n.emit.bind(n,a))}),n._read=function(a){Y("wrapped _read",a),i&&(i=!1,e.resume())},n};ee._fromList=Uu;function Uu(e,t){if(t.length===0)return null;var i;return t.objectMode?i=t.buffer.shift():!e||e>=t.length?(t.decoder?i=t.buffer.join(""):t.buffer.length===1?i=t.buffer.head.data:i=t.buffer.concat(t.length),t.buffer.clear()):i=Xh(e,t.buffer,t.decoder),i}function Xh(e,t,i){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=i?zh(e,t):Wh(e,t),n}function zh(e,t){var i=t.head,n=1,o=i.data;for(e-=o.length;i=i.next;){var r=i.data,a=e>r.length?r.length:e;if(a===r.length?o+=r:o+=r.slice(0,e),e-=a,e===0){a===r.length?(++n,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=r.slice(a));break}++n}return t.length-=n,o}function Wh(e,t){var i=M.allocUnsafe(e),n=t.head,o=1;for(n.data.copy(i),e-=n.data.length;n=n.next;){var r=n.data,a=e>r.length?r.length:e;if(r.copy(i,i.length-e,0,a),e-=a,e===0){a===r.length?(++o,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=r.slice(a));break}++o}return t.length-=o,i}function Jn(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Ie(Yh,t,e))}function Yh(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Jh(e,t){for(var i=0,n=e.length;i<n;i++)t(e[i],i)}function ju(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}de.WritableState=Io;we(de,Z);function Qh(){}function Kh(e,t,i){this.chunk=e,this.encoding=t,this.callback=i,this.next=null}function Io(e,t){Object.defineProperty(this,"buffer",{get:qu(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof xe&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=i||i===0?i:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(r){od(t,r)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Zu(this)}Io.prototype.getBuffer=function(){for(var t=this.bufferedRequest,i=[];t;)i.push(t),t=t.next;return i};function de(e){if(!(this instanceof de)&&!(this instanceof xe))return new de(e);this._writableState=new Io(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev)),Z.call(this)}de.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function $h(e,t){var i=new Error("write after end");e.emit("error",i),Ie(t,i)}function ed(e,t,i,n){var o=!0,r=!1;return i===null?r=new TypeError("May not write null values to stream"):!M.isBuffer(i)&&typeof i!="string"&&i!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r&&(e.emit("error",r),Ie(n,r),o=!1),o}de.prototype.write=function(e,t,i){var n=this._writableState,o=!1;return typeof t=="function"&&(i=t,t=null),M.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),typeof i!="function"&&(i=Qh),n.ended?$h(this,i):ed(this,n,e,i)&&(n.pendingcb++,o=id(this,n,e,t,i)),o};de.prototype.cork=function(){var e=this._writableState;e.corked++};de.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&Vu(this,e))};de.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function td(e,t,i){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=M.from(t,i)),t}function id(e,t,i,n,o){i=td(t,i,n),M.isBuffer(i)&&(n="buffer");var r=t.objectMode?1:i.length;t.length+=r;var a=t.length<t.highWaterMark;if(a||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest=new Kh(i,n,o),u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else uo(e,t,!1,r,i,n,o);return a}function uo(e,t,i,n,o,r,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,i?e._writev(o,t.onwrite):e._write(o,r,t.onwrite),t.sync=!1}function nd(e,t,i,n,o){--t.pendingcb,i?Ie(o,n):o(n),e._writableState.errorEmitted=!0,e.emit("error",n)}function rd(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function od(e,t){var i=e._writableState,n=i.sync,o=i.writecb;if(rd(i),t)nd(e,i,n,t,o);else{var r=Hu(i);!r&&!i.corked&&!i.bufferProcessing&&i.bufferedRequest&&Vu(e,i),n?Ie(wa,e,i,r,o):wa(e,i,r,o)}}function wa(e,t,i,n){i||ad(e,t),t.pendingcb--,n(),Gu(e,t)}function ad(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function Vu(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var n=t.bufferedRequestCount,o=new Array(n),r=t.corkedRequestsFree;r.entry=i;for(var a=0;i;)o[a]=i,i=i.next,a+=1;uo(e,t,!0,t.length,o,"",r.finish),t.pendingcb++,t.lastBufferedRequest=null,r.next?(t.corkedRequestsFree=r.next,r.next=null):t.corkedRequestsFree=new Zu(t)}else{for(;i;){var u=i.chunk,f=i.encoding,h=i.callback,p=t.objectMode?1:u.length;if(uo(e,t,!1,p,u,f,h),i=i.next,t.writing)break}i===null&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=i,t.bufferProcessing=!1}de.prototype._write=function(e,t,i){i(new Error("not implemented"))};de.prototype._writev=null;de.prototype.end=function(e,t,i){var n=this._writableState;typeof e=="function"?(i=e,e=null,t=null):typeof t=="function"&&(i=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&sd(this,n,i)};function Hu(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function ba(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function Gu(e,t){var i=Hu(t);return i&&(t.pendingcb===0?(ba(e,t),t.finished=!0,e.emit("finish")):ba(e,t)),i}function sd(e,t,i){t.ending=!0,Gu(e,t),i&&(t.finished?Ie(i):e.once("finish",i)),t.ended=!0,e.writable=!1}function Zu(e){var t=this;this.next=null,this.entry=null,this.finish=function(i){var n=t.entry;for(t.entry=null;n;){var o=n.callback;e.pendingcb--,o(i),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}we(xe,ee);var Ea=Object.keys(de.prototype);for(var Qn=0;Qn<Ea.length;Qn++){var Kn=Ea[Qn];xe.prototype[Kn]||(xe.prototype[Kn]=de.prototype[Kn])}function xe(e){if(!(this instanceof xe))return new xe(e);ee.call(this,e),de.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",ud)}function ud(){this.allowHalfOpen||this._writableState.ended||Ie(ld,this)}function ld(e){e.end()}we(Te,xe);function fd(e){this.afterTransform=function(t,i){return cd(e,t,i)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function cd(e,t,i){var n=e._transformState;n.transforming=!1;var o=n.writecb;if(!o)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,i!=null&&e.push(i),o(t);var r=e._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&e._read(r.highWaterMark)}function Te(e){if(!(this instanceof Te))return new Te(e);xe.call(this,e),this._transformState=new fd(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(i){xa(t,i)}):xa(t)})}Te.prototype.push=function(e,t){return this._transformState.needTransform=!1,xe.prototype.push.call(this,e,t)};Te.prototype._transform=function(e,t,i){throw new Error("Not implemented")};Te.prototype._write=function(e,t,i){var n=this._transformState;if(n.writecb=i,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}};Te.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};function xa(e,t){if(t)return e.emit("error",t);var i=e._writableState,n=e._transformState;if(i.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}we(di,Te);function di(e){if(!(this instanceof di))return new di(e);Te.call(this,e)}di.prototype._transform=function(e,t,i){i(null,e)};we(Re,Z);Re.Readable=ee;Re.Writable=de;Re.Duplex=xe;Re.Transform=Te;Re.PassThrough=di;Re.Stream=Re;function Re(){Z.call(this)}Re.prototype.pipe=function(e,t){var i=this;function n(p){e.writable&&e.write(p)===!1&&i.pause&&i.pause()}i.on("data",n);function o(){i.readable&&i.resume&&i.resume()}e.on("drain",o),!e._isStdio&&(!t||t.end!==!1)&&(i.on("end",a),i.on("close",u));var r=!1;function a(){r||(r=!0,e.end())}function u(){r||(r=!0,typeof e.destroy=="function"&&e.destroy())}function f(p){if(h(),Z.listenerCount(this,"error")===0)throw p}i.on("error",f),e.on("error",f);function h(){i.removeListener("data",n),e.removeListener("drain",o),i.removeListener("end",a),i.removeListener("close",u),i.removeListener("error",f),e.removeListener("error",f),i.removeListener("end",h),i.removeListener("close",h),e.removeListener("close",h)}return i.on("end",h),i.on("close",h),e.on("close",h),e.emit("pipe",i),e};const hd=Object.freeze(Object.defineProperty({__proto__:null,Duplex:xe,PassThrough:di,Readable:ee,Stream:Re,Transform:Te,Writable:de,default:Re},Symbol.toStringTag,{value:"Module"})),Xu={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function dd(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function rt(e,t,i,n,o){if(t.subarray&&e.subarray){e.set(t.subarray(i,i+n),o);return}for(var r=0;r<n;r++)e[o+r]=t[i+r]}var xn=Uint8Array,Le=Uint16Array,Tn=Int32Array,pd=4,Ta=0,Ia=1,md=2;function gi(e){for(var t=e.length;--t>=0;)e[t]=0}var gd=0,zu=1,_d=2,yd=3,vd=258,Co=29,Wi=256,Pi=Wi+1+Co,hi=30,Oo=19,Wu=2*Pi+1,kt=15,$n=16,Ad=7,So=256,Yu=16,Ju=17,Qu=18,lo=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],dn=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],wd=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ku=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],bd=512,et=new Array((Pi+2)*2);gi(et);var Ni=new Array(hi*2);gi(Ni);var Fi=new Array(bd);gi(Fi);var Bi=new Array(vd-yd+1);gi(Bi);var Lo=new Array(Co);gi(Lo);var In=new Array(hi);gi(In);function er(e,t,i,n,o){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}var $u,el,tl;function tr(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function il(e){return e<256?Fi[e]:Fi[256+(e>>>7)]}function Ui(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function ve(e,t,i){e.bi_valid>$n-i?(e.bi_buf|=t<<e.bi_valid&65535,Ui(e,e.bi_buf),e.bi_buf=t>>$n-e.bi_valid,e.bi_valid+=i-$n):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function Ve(e,t,i){ve(e,i[t*2],i[t*2+1])}function nl(e,t){var i=0;do i|=e&1,e>>>=1,i<<=1;while(--t>0);return i>>>1}function Ed(e){e.bi_valid===16?(Ui(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function xd(e,t){var i=t.dyn_tree,n=t.max_code,o=t.stat_desc.static_tree,r=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,f=t.stat_desc.max_length,h,p,s,l,c,m,_=0;for(l=0;l<=kt;l++)e.bl_count[l]=0;for(i[e.heap[e.heap_max]*2+1]=0,h=e.heap_max+1;h<Wu;h++)p=e.heap[h],l=i[i[p*2+1]*2+1]+1,l>f&&(l=f,_++),i[p*2+1]=l,!(p>n)&&(e.bl_count[l]++,c=0,p>=u&&(c=a[p-u]),m=i[p*2],e.opt_len+=m*(l+c),r&&(e.static_len+=m*(o[p*2+1]+c)));if(_!==0){do{for(l=f-1;e.bl_count[l]===0;)l--;e.bl_count[l]--,e.bl_count[l+1]+=2,e.bl_count[f]--,_-=2}while(_>0);for(l=f;l!==0;l--)for(p=e.bl_count[l];p!==0;)s=e.heap[--h],!(s>n)&&(i[s*2+1]!==l&&(e.opt_len+=(l-i[s*2+1])*i[s*2],i[s*2+1]=l),p--)}}function rl(e,t,i){var n=new Array(kt+1),o=0,r,a;for(r=1;r<=kt;r++)n[r]=o=o+i[r-1]<<1;for(a=0;a<=t;a++){var u=e[a*2+1];u!==0&&(e[a*2]=nl(n[u]++,u))}}function Td(){var e,t,i,n,o,r=new Array(kt+1);for(i=0,n=0;n<Co-1;n++)for(Lo[n]=i,e=0;e<1<<lo[n];e++)Bi[i++]=n;for(Bi[i-1]=n,o=0,n=0;n<16;n++)for(In[n]=o,e=0;e<1<<dn[n];e++)Fi[o++]=n;for(o>>=7;n<hi;n++)for(In[n]=o<<7,e=0;e<1<<dn[n]-7;e++)Fi[256+o++]=n;for(t=0;t<=kt;t++)r[t]=0;for(e=0;e<=143;)et[e*2+1]=8,e++,r[8]++;for(;e<=255;)et[e*2+1]=9,e++,r[9]++;for(;e<=279;)et[e*2+1]=7,e++,r[7]++;for(;e<=287;)et[e*2+1]=8,e++,r[8]++;for(rl(et,Pi+1,r),e=0;e<hi;e++)Ni[e*2+1]=5,Ni[e*2]=nl(e,5);$u=new er(et,lo,Wi+1,Pi,kt),el=new er(Ni,dn,0,hi,kt),tl=new er(new Array(0),wd,0,Oo,Ad)}function ol(e){var t;for(t=0;t<Pi;t++)e.dyn_ltree[t*2]=0;for(t=0;t<hi;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Oo;t++)e.bl_tree[t*2]=0;e.dyn_ltree[So*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function al(e){e.bi_valid>8?Ui(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Id(e,t,i,n){al(e),n&&(Ui(e,i),Ui(e,~i)),rt(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}function Ca(e,t,i,n){var o=t*2,r=i*2;return e[o]<e[r]||e[o]===e[r]&&n[t]<=n[i]}function ir(e,t,i){for(var n=e.heap[i],o=i<<1;o<=e.heap_len&&(o<e.heap_len&&Ca(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!Ca(t,n,e.heap[o],e.depth));)e.heap[i]=e.heap[o],i=o,o<<=1;e.heap[i]=n}function Oa(e,t,i){var n,o,r=0,a,u;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+r*2]<<8|e.pending_buf[e.d_buf+r*2+1],o=e.pending_buf[e.l_buf+r],r++,n===0?Ve(e,o,t):(a=Bi[o],Ve(e,a+Wi+1,t),u=lo[a],u!==0&&(o-=Lo[a],ve(e,o,u)),n--,a=il(n),Ve(e,a,i),u=dn[a],u!==0&&(n-=In[a],ve(e,n,u)));while(r<e.last_lit);Ve(e,So,t)}function fo(e,t){var i=t.dyn_tree,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,r=t.stat_desc.elems,a,u,f=-1,h;for(e.heap_len=0,e.heap_max=Wu,a=0;a<r;a++)i[a*2]!==0?(e.heap[++e.heap_len]=f=a,e.depth[a]=0):i[a*2+1]=0;for(;e.heap_len<2;)h=e.heap[++e.heap_len]=f<2?++f:0,i[h*2]=1,e.depth[h]=0,e.opt_len--,o&&(e.static_len-=n[h*2+1]);for(t.max_code=f,a=e.heap_len>>1;a>=1;a--)ir(e,i,a);h=r;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ir(e,i,1),u=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=u,i[h*2]=i[a*2]+i[u*2],e.depth[h]=(e.depth[a]>=e.depth[u]?e.depth[a]:e.depth[u])+1,i[a*2+1]=i[u*2+1]=h,e.heap[1]=h++,ir(e,i,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],xd(e,t),rl(i,f,e.bl_count)}function Sa(e,t,i){var n,o=-1,r,a=t[0*2+1],u=0,f=7,h=4;for(a===0&&(f=138,h=3),t[(i+1)*2+1]=65535,n=0;n<=i;n++)r=a,a=t[(n+1)*2+1],!(++u<f&&r===a)&&(u<h?e.bl_tree[r*2]+=u:r!==0?(r!==o&&e.bl_tree[r*2]++,e.bl_tree[Yu*2]++):u<=10?e.bl_tree[Ju*2]++:e.bl_tree[Qu*2]++,u=0,o=r,a===0?(f=138,h=3):r===a?(f=6,h=3):(f=7,h=4))}function La(e,t,i){var n,o=-1,r,a=t[0*2+1],u=0,f=7,h=4;for(a===0&&(f=138,h=3),n=0;n<=i;n++)if(r=a,a=t[(n+1)*2+1],!(++u<f&&r===a)){if(u<h)do Ve(e,r,e.bl_tree);while(--u!==0);else r!==0?(r!==o&&(Ve(e,r,e.bl_tree),u--),Ve(e,Yu,e.bl_tree),ve(e,u-3,2)):u<=10?(Ve(e,Ju,e.bl_tree),ve(e,u-3,3)):(Ve(e,Qu,e.bl_tree),ve(e,u-11,7));u=0,o=r,a===0?(f=138,h=3):r===a?(f=6,h=3):(f=7,h=4)}}function Cd(e){var t;for(Sa(e,e.dyn_ltree,e.l_desc.max_code),Sa(e,e.dyn_dtree,e.d_desc.max_code),fo(e,e.bl_desc),t=Oo-1;t>=3&&e.bl_tree[Ku[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function Od(e,t,i,n){var o;for(ve(e,t-257,5),ve(e,i-1,5),ve(e,n-4,4),o=0;o<n;o++)ve(e,e.bl_tree[Ku[o]*2+1],3);La(e,e.dyn_ltree,t-1),La(e,e.dyn_dtree,i-1)}function Sd(e){var t=4093624447,i;for(i=0;i<=31;i++,t>>>=1)if(t&1&&e.dyn_ltree[i*2]!==0)return Ta;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Ia;for(i=32;i<Wi;i++)if(e.dyn_ltree[i*2]!==0)return Ia;return Ta}var Da=!1;function Ld(e){Da||(Td(),Da=!0),e.l_desc=new tr(e.dyn_ltree,$u),e.d_desc=new tr(e.dyn_dtree,el),e.bl_desc=new tr(e.bl_tree,tl),e.bi_buf=0,e.bi_valid=0,ol(e)}function sl(e,t,i,n){ve(e,(gd<<1)+(n?1:0),3),Id(e,t,i,!0)}function Dd(e){ve(e,zu<<1,3),Ve(e,So,et),Ed(e)}function Md(e,t,i,n){var o,r,a=0;e.level>0?(e.strm.data_type===md&&(e.strm.data_type=Sd(e)),fo(e,e.l_desc),fo(e,e.d_desc),a=Cd(e),o=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,r<=o&&(o=r)):o=r=i+5,i+4<=o&&t!==-1?sl(e,t,i,n):e.strategy===pd||r===o?(ve(e,(zu<<1)+(n?1:0),3),Oa(e,et,Ni)):(ve(e,(_d<<1)+(n?1:0),3),Od(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),Oa(e,e.dyn_ltree,e.dyn_dtree)),ol(e),n&&al(e)}function vt(e,t,i){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=i&255,e.last_lit++,t===0?e.dyn_ltree[i*2]++:(e.matches++,t--,e.dyn_ltree[(Bi[i]+Wi+1)*2]++,e.dyn_dtree[il(t)*2]++),e.last_lit===e.lit_bufsize-1}function co(e,t,i,n){for(var o=e&65535|0,r=e>>>16&65535|0,a=0;i!==0;){a=i>2e3?2e3:i,i-=a;do o=o+t[n++]|0,r=r+o|0;while(--a);o%=65521,r%=65521}return o|r<<16|0}function Nd(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[i]=e}return t}var Rd=Nd();function ue(e,t,i,n){var o=Rd,r=n+i;e^=-1;for(var a=n;a<r;a++)e=e>>>8^o[(e^t[a])&255];return e^-1}var Yt=0,qd=1,kd=3,At=4,Ma=5,ct=0,Na=1,wt=-2,Pd=-3,nr=-5,Fd=-1,Bd=1,on=2,Ud=3,jd=4,Vd=2,Do=8,Hd=9,Gd=29,Zd=256,ho=Zd+1+Gd,Xd=30,zd=19,Wd=2*ho+1,Yd=15,z=3,pt=258,Ne=pt+z+1,Jd=32,Mo=42,po=69,pn=73,mn=91,gn=103,Pt=113,Si=666,ae=1,Yi=2,Ft=3,_i=4,Qd=3;function mt(e,t){return e.msg=Xu[t],t}function Ra(e){return(e<<1)-(e>4?9:0)}function Nt(e){for(var t=e.length;--t>=0;)e[t]=0}function ft(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),i!==0&&(rt(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,t.pending===0&&(t.pending_out=0))}function he(e,t){Md(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ft(e.strm)}function X(e,t){e.pending_buf[e.pending++]=t}function Ti(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function Kd(e,t,i,n){var o=e.avail_in;return o>n&&(o=n),o===0?0:(e.avail_in-=o,rt(t,e.input,e.next_in,o,i),e.state.wrap===1?e.adler=co(e.adler,t,o,i):e.state.wrap===2&&(e.adler=ue(e.adler,t,o,i)),e.next_in+=o,e.total_in+=o,o)}function ul(e,t){var i=e.max_chain_length,n=e.strstart,o,r,a=e.prev_length,u=e.nice_match,f=e.strstart>e.w_size-Ne?e.strstart-(e.w_size-Ne):0,h=e.window,p=e.w_mask,s=e.prev,l=e.strstart+pt,c=h[n+a-1],m=h[n+a];e.prev_length>=e.good_match&&(i>>=2),u>e.lookahead&&(u=e.lookahead);do if(o=t,!(h[o+a]!==m||h[o+a-1]!==c||h[o]!==h[n]||h[++o]!==h[n+1])){n+=2,o++;do;while(h[++n]===h[++o]&&h[++n]===h[++o]&&h[++n]===h[++o]&&h[++n]===h[++o]&&h[++n]===h[++o]&&h[++n]===h[++o]&&h[++n]===h[++o]&&h[++n]===h[++o]&&n<l);if(r=pt-(l-n),n=l-pt,r>a){if(e.match_start=t,a=r,r>=u)break;c=h[n+a-1],m=h[n+a]}}while((t=s[t&p])>f&&--i!==0);return a<=e.lookahead?a:e.lookahead}function Ji(e){var t=e.w_size,i,n,o,r,a;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ne)){rt(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,i=n;do o=e.head[--i],e.head[i]=o>=t?o-t:0;while(--n);n=t,i=n;do o=e.prev[--i],e.prev[i]=o>=t?o-t:0;while(--n);r+=t}if(e.strm.avail_in===0)break;if(n=Kd(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=z)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+z-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<z)););}while(e.lookahead<Ne&&e.strm.avail_in!==0)}function $d(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ji(e),e.lookahead===0&&t===Yt)return ae;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,he(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-Ne&&(he(e,!1),e.strm.avail_out===0))return ae}return e.insert=0,t===At?(he(e,!0),e.strm.avail_out===0?Ft:_i):(e.strstart>e.block_start&&(he(e,!1),e.strm.avail_out===0),ae)}function rr(e,t){for(var i,n;;){if(e.lookahead<Ne){if(Ji(e),e.lookahead<Ne&&t===Yt)return ae;if(e.lookahead===0)break}if(i=0,e.lookahead>=z&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+z-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),i!==0&&e.strstart-i<=e.w_size-Ne&&(e.match_length=ul(e,i)),e.match_length>=z)if(n=vt(e,e.strstart-e.match_start,e.match_length-z),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=z){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+z-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=vt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(he(e,!1),e.strm.avail_out===0))return ae}return e.insert=e.strstart<z-1?e.strstart:z-1,t===At?(he(e,!0),e.strm.avail_out===0?Ft:_i):e.last_lit&&(he(e,!1),e.strm.avail_out===0)?ae:Yi}function ti(e,t){for(var i,n,o;;){if(e.lookahead<Ne){if(Ji(e),e.lookahead<Ne&&t===Yt)return ae;if(e.lookahead===0)break}if(i=0,e.lookahead>=z&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+z-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=z-1,i!==0&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-Ne&&(e.match_length=ul(e,i),e.match_length<=5&&(e.strategy===Bd||e.match_length===z&&e.strstart-e.match_start>4096)&&(e.match_length=z-1)),e.prev_length>=z&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-z,n=vt(e,e.strstart-1-e.prev_match,e.prev_length-z),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+z-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=z-1,e.strstart++,n&&(he(e,!1),e.strm.avail_out===0))return ae}else if(e.match_available){if(n=vt(e,0,e.window[e.strstart-1]),n&&he(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ae}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=vt(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<z-1?e.strstart:z-1,t===At?(he(e,!0),e.strm.avail_out===0?Ft:_i):e.last_lit&&(he(e,!1),e.strm.avail_out===0)?ae:Yi}function ep(e,t){for(var i,n,o,r,a=e.window;;){if(e.lookahead<=pt){if(Ji(e),e.lookahead<=pt&&t===Yt)return ae;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=z&&e.strstart>0&&(o=e.strstart-1,n=a[o],n===a[++o]&&n===a[++o]&&n===a[++o])){r=e.strstart+pt;do;while(n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&o<r);e.match_length=pt-(r-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=z?(i=vt(e,1,e.match_length-z),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=vt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(he(e,!1),e.strm.avail_out===0))return ae}return e.insert=0,t===At?(he(e,!0),e.strm.avail_out===0?Ft:_i):e.last_lit&&(he(e,!1),e.strm.avail_out===0)?ae:Yi}function tp(e,t){for(var i;;){if(e.lookahead===0&&(Ji(e),e.lookahead===0)){if(t===Yt)return ae;break}if(e.match_length=0,i=vt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(he(e,!1),e.strm.avail_out===0))return ae}return e.insert=0,t===At?(he(e,!0),e.strm.avail_out===0?Ft:_i):e.last_lit&&(he(e,!1),e.strm.avail_out===0)?ae:Yi}function Ue(e,t,i,n,o){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=o}var si;si=[new Ue(0,0,0,0,$d),new Ue(4,4,8,4,rr),new Ue(4,5,16,8,rr),new Ue(4,6,32,32,rr),new Ue(4,4,16,16,ti),new Ue(8,16,32,32,ti),new Ue(8,16,128,128,ti),new Ue(8,32,128,256,ti),new Ue(32,128,258,1024,ti),new Ue(32,258,258,4096,ti)];function ip(e){e.window_size=2*e.w_size,Nt(e.head),e.max_lazy_match=si[e.level].max_lazy,e.good_match=si[e.level].good_length,e.nice_match=si[e.level].nice_length,e.max_chain_length=si[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=z-1,e.match_available=0,e.ins_h=0}function np(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Do,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Le(Wd*2),this.dyn_dtree=new Le((2*Xd+1)*2),this.bl_tree=new Le((2*zd+1)*2),Nt(this.dyn_ltree),Nt(this.dyn_dtree),Nt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Le(Yd+1),this.heap=new Le(2*ho+1),Nt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Le(2*ho+1),Nt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function rp(e){var t;return!e||!e.state?mt(e,wt):(e.total_in=e.total_out=0,e.data_type=Vd,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Mo:Pt,e.adler=t.wrap===2?0:1,t.last_flush=Yt,Ld(t),ct)}function ll(e){var t=rp(e);return t===ct&&ip(e.state),t}function op(e,t,i,n,o,r){if(!e)return wt;var a=1;if(t===Fd&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),o<1||o>Hd||i!==Do||n<8||n>15||t<0||t>9||r<0||r>jd)return mt(e,wt);n===8&&(n=9);var u=new np;return e.state=u,u.strm=e,u.wrap=a,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+z-1)/z),u.window=new xn(u.w_size*2),u.head=new Le(u.hash_size),u.prev=new Le(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=u.lit_bufsize*4,u.pending_buf=new xn(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=(1+2)*u.lit_bufsize,u.level=t,u.strategy=r,u.method=i,ll(e)}function ap(e,t){var i,n,o,r;if(!e||!e.state||t>Ma||t<0)return e?mt(e,wt):wt;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===Si&&t!==At)return mt(e,e.avail_out===0?nr:wt);if(n.strm=e,i=n.last_flush,n.last_flush=t,n.status===Mo)if(n.wrap===2)e.adler=0,X(n,31),X(n,139),X(n,8),n.gzhead?(X(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),X(n,n.gzhead.time&255),X(n,n.gzhead.time>>8&255),X(n,n.gzhead.time>>16&255),X(n,n.gzhead.time>>24&255),X(n,n.level===9?2:n.strategy>=on||n.level<2?4:0),X(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(X(n,n.gzhead.extra.length&255),X(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=ue(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=po):(X(n,0),X(n,0),X(n,0),X(n,0),X(n,0),X(n,n.level===9?2:n.strategy>=on||n.level<2?4:0),X(n,Qd),n.status=Pt);else{var a=Do+(n.w_bits-8<<4)<<8,u=-1;n.strategy>=on||n.level<2?u=0:n.level<6?u=1:n.level===6?u=2:u=3,a|=u<<6,n.strstart!==0&&(a|=Jd),a+=31-a%31,n.status=Pt,Ti(n,a),n.strstart!==0&&(Ti(n,e.adler>>>16),Ti(n,e.adler&65535)),e.adler=1}if(n.status===po)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=ue(e.adler,n.pending_buf,n.pending-o,o)),ft(e),o=n.pending,n.pending===n.pending_buf_size));)X(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(e.adler=ue(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=pn)}else n.status=pn;if(n.status===pn)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=ue(e.adler,n.pending_buf,n.pending-o,o)),ft(e),o=n.pending,n.pending===n.pending_buf_size)){r=1;break}n.gzindex<n.gzhead.name.length?r=n.gzhead.name.charCodeAt(n.gzindex++)&255:r=0,X(n,r)}while(r!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=ue(e.adler,n.pending_buf,n.pending-o,o)),r===0&&(n.gzindex=0,n.status=mn)}else n.status=mn;if(n.status===mn)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=ue(e.adler,n.pending_buf,n.pending-o,o)),ft(e),o=n.pending,n.pending===n.pending_buf_size)){r=1;break}n.gzindex<n.gzhead.comment.length?r=n.gzhead.comment.charCodeAt(n.gzindex++)&255:r=0,X(n,r)}while(r!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=ue(e.adler,n.pending_buf,n.pending-o,o)),r===0&&(n.status=gn)}else n.status=gn;if(n.status===gn&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&ft(e),n.pending+2<=n.pending_buf_size&&(X(n,e.adler&255),X(n,e.adler>>8&255),e.adler=0,n.status=Pt)):n.status=Pt),n.pending!==0){if(ft(e),e.avail_out===0)return n.last_flush=-1,ct}else if(e.avail_in===0&&Ra(t)<=Ra(i)&&t!==At)return mt(e,nr);if(n.status===Si&&e.avail_in!==0)return mt(e,nr);if(e.avail_in!==0||n.lookahead!==0||t!==Yt&&n.status!==Si){var f=n.strategy===on?tp(n,t):n.strategy===Ud?ep(n,t):si[n.level].func(n,t);if((f===Ft||f===_i)&&(n.status=Si),f===ae||f===Ft)return e.avail_out===0&&(n.last_flush=-1),ct;if(f===Yi&&(t===qd?Dd(n):t!==Ma&&(sl(n,0,0,!1),t===kd&&(Nt(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),ft(e),e.avail_out===0))return n.last_flush=-1,ct}return t!==At?ct:n.wrap<=0?Na:(n.wrap===2?(X(n,e.adler&255),X(n,e.adler>>8&255),X(n,e.adler>>16&255),X(n,e.adler>>24&255),X(n,e.total_in&255),X(n,e.total_in>>8&255),X(n,e.total_in>>16&255),X(n,e.total_in>>24&255)):(Ti(n,e.adler>>>16),Ti(n,e.adler&65535)),ft(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?ct:Na)}function sp(e){var t;return!e||!e.state?wt:(t=e.state.status,t!==Mo&&t!==po&&t!==pn&&t!==mn&&t!==gn&&t!==Pt&&t!==Si?mt(e,wt):(e.state=null,t===Pt?mt(e,Pd):ct))}var an=30,up=12;function lp(e,t){var i,n,o,r,a,u,f,h,p,s,l,c,m,_,E,A,v,g,w,I,N,L,C,d,x;i=e.state,n=e.next_in,d=e.input,o=n+(e.avail_in-5),r=e.next_out,x=e.output,a=r-(t-e.avail_out),u=r+(e.avail_out-257),f=i.dmax,h=i.wsize,p=i.whave,s=i.wnext,l=i.window,c=i.hold,m=i.bits,_=i.lencode,E=i.distcode,A=(1<<i.lenbits)-1,v=(1<<i.distbits)-1;e:do{m<15&&(c+=d[n++]<<m,m+=8,c+=d[n++]<<m,m+=8),g=_[c&A];t:for(;;){if(w=g>>>24,c>>>=w,m-=w,w=g>>>16&255,w===0)x[r++]=g&65535;else if(w&16){I=g&65535,w&=15,w&&(m<w&&(c+=d[n++]<<m,m+=8),I+=c&(1<<w)-1,c>>>=w,m-=w),m<15&&(c+=d[n++]<<m,m+=8,c+=d[n++]<<m,m+=8),g=E[c&v];i:for(;;){if(w=g>>>24,c>>>=w,m-=w,w=g>>>16&255,w&16){if(N=g&65535,w&=15,m<w&&(c+=d[n++]<<m,m+=8,m<w&&(c+=d[n++]<<m,m+=8)),N+=c&(1<<w)-1,N>f){e.msg="invalid distance too far back",i.mode=an;break e}if(c>>>=w,m-=w,w=r-a,N>w){if(w=N-w,w>p&&i.sane){e.msg="invalid distance too far back",i.mode=an;break e}if(L=0,C=l,s===0){if(L+=h-w,w<I){I-=w;do x[r++]=l[L++];while(--w);L=r-N,C=x}}else if(s<w){if(L+=h+s-w,w-=s,w<I){I-=w;do x[r++]=l[L++];while(--w);if(L=0,s<I){w=s,I-=w;do x[r++]=l[L++];while(--w);L=r-N,C=x}}}else if(L+=s-w,w<I){I-=w;do x[r++]=l[L++];while(--w);L=r-N,C=x}for(;I>2;)x[r++]=C[L++],x[r++]=C[L++],x[r++]=C[L++],I-=3;I&&(x[r++]=C[L++],I>1&&(x[r++]=C[L++]))}else{L=r-N;do x[r++]=x[L++],x[r++]=x[L++],x[r++]=x[L++],I-=3;while(I>2);I&&(x[r++]=x[L++],I>1&&(x[r++]=x[L++]))}}else if(w&64){e.msg="invalid distance code",i.mode=an;break e}else{g=E[(g&65535)+(c&(1<<w)-1)];continue i}break}}else if(w&64)if(w&32){i.mode=up;break e}else{e.msg="invalid literal/length code",i.mode=an;break e}else{g=_[(g&65535)+(c&(1<<w)-1)];continue t}break}}while(n<o&&r<u);I=m>>3,n-=I,m-=I<<3,c&=(1<<m)-1,e.next_in=n,e.next_out=r,e.avail_in=n<o?5+(o-n):5-(n-o),e.avail_out=r<u?257+(u-r):257-(r-u),i.hold=c,i.bits=m}var ii=15,qa=852,ka=592,Pa=0,or=1,Fa=2,fp=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],cp=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],hp=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dp=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Ri(e,t,i,n,o,r,a,u){var f=u.bits,h=0,p=0,s=0,l=0,c=0,m=0,_=0,E=0,A=0,v=0,g,w,I,N,L,C=null,d=0,x,T=new Le(ii+1),D=new Le(ii+1),P=null,F=0,B,k,j;for(h=0;h<=ii;h++)T[h]=0;for(p=0;p<n;p++)T[t[i+p]]++;for(c=f,l=ii;l>=1&&T[l]===0;l--);if(c>l&&(c=l),l===0)return o[r++]=1<<24|64<<16|0,o[r++]=1<<24|64<<16|0,u.bits=1,0;for(s=1;s<l&&T[s]===0;s++);for(c<s&&(c=s),E=1,h=1;h<=ii;h++)if(E<<=1,E-=T[h],E<0)return-1;if(E>0&&(e===Pa||l!==1))return-1;for(D[1]=0,h=1;h<ii;h++)D[h+1]=D[h]+T[h];for(p=0;p<n;p++)t[i+p]!==0&&(a[D[t[i+p]]++]=p);if(e===Pa?(C=P=a,x=19):e===or?(C=fp,d-=257,P=cp,F-=257,x=256):(C=hp,P=dp,x=-1),v=0,p=0,h=s,L=r,m=c,_=0,I=-1,A=1<<c,N=A-1,e===or&&A>qa||e===Fa&&A>ka)return 1;for(;;){B=h-_,a[p]<x?(k=0,j=a[p]):a[p]>x?(k=P[F+a[p]],j=C[d+a[p]]):(k=32+64,j=0),g=1<<h-_,w=1<<m,s=w;do w-=g,o[L+(v>>_)+w]=B<<24|k<<16|j|0;while(w!==0);for(g=1<<h-1;v&g;)g>>=1;if(g!==0?(v&=g-1,v+=g):v=0,p++,--T[h]===0){if(h===l)break;h=t[i+a[p]]}if(h>c&&(v&N)!==I){for(_===0&&(_=c),L+=s,m=h-_,E=1<<m;m+_<l&&(E-=T[m+_],!(E<=0));)m++,E<<=1;if(A+=1<<m,e===or&&A>qa||e===Fa&&A>ka)return 1;I=v&N,o[I]=c<<24|m<<16|L-r|0}}return v!==0&&(o[L+v]=h-_<<24|64<<16|0),u.bits=c,0}var pp=0,fl=1,cl=2,Ba=4,mp=5,sn=6,ji=0,gp=1,_p=2,xt=-2,yp=-3,vp=-4,Ap=-5,Ua=8,hl=1,ja=2,Va=3,Ha=4,Ga=5,Za=6,Xa=7,za=8,Wa=9,Ya=10,Ja=11,Je=12,ar=13,Qa=14,sr=15,Ka=16,$a=17,es=18,ts=19,un=20,ln=21,is=22,ns=23,rs=24,os=25,as=26,ur=27,ss=28,us=29,$=30,wp=31,bp=32,Ep=852,xp=592;function ls(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function Tp(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Le(320),this.work=new Le(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ip(e){var t;return!e||!e.state?xt:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=hl,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Tn(Ep),t.distcode=t.distdyn=new Tn(xp),t.sane=1,t.back=-1,ji)}function dl(e){var t;return!e||!e.state?xt:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,Ip(e))}function Cp(e,t){var i,n;return!e||!e.state||(n=e.state,t<0?(i=0,t=-t):(i=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?xt:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,dl(e))}function Op(e,t){var i,n;return e?(n=new Tp,e.state=n,n.window=null,i=Cp(e,t),i!==ji&&(e.state=null),i):xt}var fs=!0,lr,fr;function Sp(e){if(fs){var t;for(lr=new Tn(512),fr=new Tn(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ri(fl,e.lens,0,288,lr,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ri(cl,e.lens,0,32,fr,0,e.work,{bits:5}),fs=!1}e.lencode=lr,e.lenbits=9,e.distcode=fr,e.distbits=5}function Lp(e,t,i,n){var o,r=e.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new xn(r.wsize)),n>=r.wsize?(rt(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(o=r.wsize-r.wnext,o>n&&(o=n),rt(r.window,t,i-n,o,r.wnext),n-=o,n?(rt(r.window,t,i-n,n,0),r.wnext=n,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0}function Dp(e,t){var i,n,o,r,a,u,f,h,p,s,l,c,m,_,E=0,A,v,g,w,I,N,L,C,d=new xn(4),x,T,D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return xt;i=e.state,i.mode===Je&&(i.mode=ar),a=e.next_out,o=e.output,f=e.avail_out,r=e.next_in,n=e.input,u=e.avail_in,h=i.hold,p=i.bits,s=u,l=f,C=ji;e:for(;;)switch(i.mode){case hl:if(i.wrap===0){i.mode=ar;break}for(;p<16;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}if(i.wrap&2&&h===35615){i.check=0,d[0]=h&255,d[1]=h>>>8&255,i.check=ue(i.check,d,2,0),h=0,p=0,i.mode=ja;break}if(i.flags=0,i.head&&(i.head.done=!1),!(i.wrap&1)||(((h&255)<<8)+(h>>8))%31){e.msg="incorrect header check",i.mode=$;break}if((h&15)!==Ua){e.msg="unknown compression method",i.mode=$;break}if(h>>>=4,p-=4,L=(h&15)+8,i.wbits===0)i.wbits=L;else if(L>i.wbits){e.msg="invalid window size",i.mode=$;break}i.dmax=1<<L,e.adler=i.check=1,i.mode=h&512?Ya:Je,h=0,p=0;break;case ja:for(;p<16;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}if(i.flags=h,(i.flags&255)!==Ua){e.msg="unknown compression method",i.mode=$;break}if(i.flags&57344){e.msg="unknown header flags set",i.mode=$;break}i.head&&(i.head.text=h>>8&1),i.flags&512&&(d[0]=h&255,d[1]=h>>>8&255,i.check=ue(i.check,d,2,0)),h=0,p=0,i.mode=Va;case Va:for(;p<32;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}i.head&&(i.head.time=h),i.flags&512&&(d[0]=h&255,d[1]=h>>>8&255,d[2]=h>>>16&255,d[3]=h>>>24&255,i.check=ue(i.check,d,4,0)),h=0,p=0,i.mode=Ha;case Ha:for(;p<16;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}i.head&&(i.head.xflags=h&255,i.head.os=h>>8),i.flags&512&&(d[0]=h&255,d[1]=h>>>8&255,i.check=ue(i.check,d,2,0)),h=0,p=0,i.mode=Ga;case Ga:if(i.flags&1024){for(;p<16;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}i.length=h,i.head&&(i.head.extra_len=h),i.flags&512&&(d[0]=h&255,d[1]=h>>>8&255,i.check=ue(i.check,d,2,0)),h=0,p=0}else i.head&&(i.head.extra=null);i.mode=Za;case Za:if(i.flags&1024&&(c=i.length,c>u&&(c=u),c&&(i.head&&(L=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),rt(i.head.extra,n,r,c,L)),i.flags&512&&(i.check=ue(i.check,n,c,r)),u-=c,r+=c,i.length-=c),i.length))break e;i.length=0,i.mode=Xa;case Xa:if(i.flags&2048){if(u===0)break e;c=0;do L=n[r+c++],i.head&&L&&i.length<65536&&(i.head.name+=String.fromCharCode(L));while(L&&c<u);if(i.flags&512&&(i.check=ue(i.check,n,c,r)),u-=c,r+=c,L)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=za;case za:if(i.flags&4096){if(u===0)break e;c=0;do L=n[r+c++],i.head&&L&&i.length<65536&&(i.head.comment+=String.fromCharCode(L));while(L&&c<u);if(i.flags&512&&(i.check=ue(i.check,n,c,r)),u-=c,r+=c,L)break e}else i.head&&(i.head.comment=null);i.mode=Wa;case Wa:if(i.flags&512){for(;p<16;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}if(h!==(i.check&65535)){e.msg="header crc mismatch",i.mode=$;break}h=0,p=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=Je;break;case Ya:for(;p<32;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}e.adler=i.check=ls(h),h=0,p=0,i.mode=Ja;case Ja:if(i.havedict===0)return e.next_out=a,e.avail_out=f,e.next_in=r,e.avail_in=u,i.hold=h,i.bits=p,_p;e.adler=i.check=1,i.mode=Je;case Je:if(t===mp||t===sn)break e;case ar:if(i.last){h>>>=p&7,p-=p&7,i.mode=ur;break}for(;p<3;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}switch(i.last=h&1,h>>>=1,p-=1,h&3){case 0:i.mode=Qa;break;case 1:if(Sp(i),i.mode=un,t===sn){h>>>=2,p-=2;break e}break;case 2:i.mode=$a;break;case 3:e.msg="invalid block type",i.mode=$}h>>>=2,p-=2;break;case Qa:for(h>>>=p&7,p-=p&7;p<32;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}if((h&65535)!==(h>>>16^65535)){e.msg="invalid stored block lengths",i.mode=$;break}if(i.length=h&65535,h=0,p=0,i.mode=sr,t===sn)break e;case sr:i.mode=Ka;case Ka:if(c=i.length,c){if(c>u&&(c=u),c>f&&(c=f),c===0)break e;rt(o,n,r,c,a),u-=c,r+=c,f-=c,a+=c,i.length-=c;break}i.mode=Je;break;case $a:for(;p<14;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}if(i.nlen=(h&31)+257,h>>>=5,p-=5,i.ndist=(h&31)+1,h>>>=5,p-=5,i.ncode=(h&15)+4,h>>>=4,p-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=$;break}i.have=0,i.mode=es;case es:for(;i.have<i.ncode;){for(;p<3;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}i.lens[D[i.have++]]=h&7,h>>>=3,p-=3}for(;i.have<19;)i.lens[D[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,x={bits:i.lenbits},C=Ri(pp,i.lens,0,19,i.lencode,0,i.work,x),i.lenbits=x.bits,C){e.msg="invalid code lengths set",i.mode=$;break}i.have=0,i.mode=ts;case ts:for(;i.have<i.nlen+i.ndist;){for(;E=i.lencode[h&(1<<i.lenbits)-1],A=E>>>24,v=E>>>16&255,g=E&65535,!(A<=p);){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}if(g<16)h>>>=A,p-=A,i.lens[i.have++]=g;else{if(g===16){for(T=A+2;p<T;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}if(h>>>=A,p-=A,i.have===0){e.msg="invalid bit length repeat",i.mode=$;break}L=i.lens[i.have-1],c=3+(h&3),h>>>=2,p-=2}else if(g===17){for(T=A+3;p<T;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}h>>>=A,p-=A,L=0,c=3+(h&7),h>>>=3,p-=3}else{for(T=A+7;p<T;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}h>>>=A,p-=A,L=0,c=11+(h&127),h>>>=7,p-=7}if(i.have+c>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=$;break}for(;c--;)i.lens[i.have++]=L}}if(i.mode===$)break;if(i.lens[256]===0){e.msg="invalid code -- missing end-of-block",i.mode=$;break}if(i.lenbits=9,x={bits:i.lenbits},C=Ri(fl,i.lens,0,i.nlen,i.lencode,0,i.work,x),i.lenbits=x.bits,C){e.msg="invalid literal/lengths set",i.mode=$;break}if(i.distbits=6,i.distcode=i.distdyn,x={bits:i.distbits},C=Ri(cl,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,x),i.distbits=x.bits,C){e.msg="invalid distances set",i.mode=$;break}if(i.mode=un,t===sn)break e;case un:i.mode=ln;case ln:if(u>=6&&f>=258){e.next_out=a,e.avail_out=f,e.next_in=r,e.avail_in=u,i.hold=h,i.bits=p,lp(e,l),a=e.next_out,o=e.output,f=e.avail_out,r=e.next_in,n=e.input,u=e.avail_in,h=i.hold,p=i.bits,i.mode===Je&&(i.back=-1);break}for(i.back=0;E=i.lencode[h&(1<<i.lenbits)-1],A=E>>>24,v=E>>>16&255,g=E&65535,!(A<=p);){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}if(v&&!(v&240)){for(w=A,I=v,N=g;E=i.lencode[N+((h&(1<<w+I)-1)>>w)],A=E>>>24,v=E>>>16&255,g=E&65535,!(w+A<=p);){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}h>>>=w,p-=w,i.back+=w}if(h>>>=A,p-=A,i.back+=A,i.length=g,v===0){i.mode=as;break}if(v&32){i.back=-1,i.mode=Je;break}if(v&64){e.msg="invalid literal/length code",i.mode=$;break}i.extra=v&15,i.mode=is;case is:if(i.extra){for(T=i.extra;p<T;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}i.length+=h&(1<<i.extra)-1,h>>>=i.extra,p-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=ns;case ns:for(;E=i.distcode[h&(1<<i.distbits)-1],A=E>>>24,v=E>>>16&255,g=E&65535,!(A<=p);){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}if(!(v&240)){for(w=A,I=v,N=g;E=i.distcode[N+((h&(1<<w+I)-1)>>w)],A=E>>>24,v=E>>>16&255,g=E&65535,!(w+A<=p);){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}h>>>=w,p-=w,i.back+=w}if(h>>>=A,p-=A,i.back+=A,v&64){e.msg="invalid distance code",i.mode=$;break}i.offset=g,i.extra=v&15,i.mode=rs;case rs:if(i.extra){for(T=i.extra;p<T;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}i.offset+=h&(1<<i.extra)-1,h>>>=i.extra,p-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=$;break}i.mode=os;case os:if(f===0)break e;if(c=l-f,i.offset>c){if(c=i.offset-c,c>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=$;break}c>i.wnext?(c-=i.wnext,m=i.wsize-c):m=i.wnext-c,c>i.length&&(c=i.length),_=i.window}else _=o,m=a-i.offset,c=i.length;c>f&&(c=f),f-=c,i.length-=c;do o[a++]=_[m++];while(--c);i.length===0&&(i.mode=ln);break;case as:if(f===0)break e;o[a++]=i.length,f--,i.mode=ln;break;case ur:if(i.wrap){for(;p<32;){if(u===0)break e;u--,h|=n[r++]<<p,p+=8}if(l-=f,e.total_out+=l,i.total+=l,l&&(e.adler=i.check=i.flags?ue(i.check,o,l,a-l):co(i.check,o,l,a-l)),l=f,(i.flags?h:ls(h))!==i.check){e.msg="incorrect data check",i.mode=$;break}h=0,p=0}i.mode=ss;case ss:if(i.wrap&&i.flags){for(;p<32;){if(u===0)break e;u--,h+=n[r++]<<p,p+=8}if(h!==(i.total&4294967295)){e.msg="incorrect length check",i.mode=$;break}h=0,p=0}i.mode=us;case us:C=gp;break e;case $:C=yp;break e;case wp:return vp;case bp:default:return xt}return e.next_out=a,e.avail_out=f,e.next_in=r,e.avail_in=u,i.hold=h,i.bits=p,(i.wsize||l!==e.avail_out&&i.mode<$&&(i.mode<ur||t!==Ba))&&Lp(e,e.output,e.next_out,l-e.avail_out),s-=e.avail_in,l-=e.avail_out,e.total_in+=s,e.total_out+=l,i.total+=l,i.wrap&&l&&(e.adler=i.check=i.flags?ue(i.check,o,l,e.next_out-l):co(i.check,o,l,e.next_out-l)),e.data_type=i.bits+(i.last?64:0)+(i.mode===Je?128:0)+(i.mode===un||i.mode===sr?256:0),(s===0&&l===0||t===Ba)&&C===ji&&(C=Ap),C}function Mp(e){if(!e||!e.state)return xt;var t=e.state;return t.window&&(t.window=null),e.state=null,ji}var No=0,yi=1,Pn=2,Vi=3,Cn=4,pi=5,Hi=6,Gi=7,pl=0,ml=1,gl=2,_l=3,yl=4,vl=5,Np=6,Fn=0,Al=1,Rp=2,qp=-1,kp=-2,Pp=-3,Fp=-5,Bp=0,Up=1,jp=9,Vp=-1,Hp=1,Gp=2,Zp=3,Xp=4,zp=0,Wp=0,Yp=1,Jp=2,wl=8;function Xe(e){if(e<yi||e>Gi)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}Xe.prototype.init=function(e,t,i,n,o){this.windowBits=e,this.level=t,this.memLevel=i,this.strategy=n,(this.mode===Vi||this.mode===Cn)&&(this.windowBits+=16),this.mode===Gi&&(this.windowBits+=32),(this.mode===pi||this.mode===Hi)&&(this.windowBits=-this.windowBits),this.strm=new dd;var r;switch(this.mode){case yi:case Vi:case pi:r=op(this.strm,this.level,wl,this.windowBits,this.memLevel,this.strategy);break;case Pn:case Cn:case Hi:case Gi:r=Op(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(r!==Fn){this._error(r);return}this.write_in_progress=!1,this.init_done=!0};Xe.prototype.params=function(){throw new Error("deflateParams Not supported")};Xe.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===No)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")};Xe.prototype.write=function(e,t,i,n,o,r,a){this._writeCheck(),this.write_in_progress=!0;var u=this;return nt.nextTick(function(){u.write_in_progress=!1;var f=u._write(e,t,i,n,o,r,a);u.callback(f[0],f[1]),u.pending_close&&u.close()}),this};function Qp(e,t){for(var i=0;i<e.length;i++)this[t+i]=e[i]}Xe.prototype.writeSync=function(e,t,i,n,o,r,a){return this._writeCheck(),this._write(e,t,i,n,o,r,a)};Xe.prototype._write=function(e,t,i,n,o,r,a){if(this.write_in_progress=!0,e!==pl&&e!==ml&&e!==gl&&e!==_l&&e!==yl&&e!==vl)throw new Error("Invalid flush value");t==null&&(t=new M(0),n=0,i=0),o._set?o.set=o._set:o.set=Qp;var u=this.strm;u.avail_in=n,u.input=t,u.next_in=i,u.avail_out=a,u.output=o,u.next_out=r;var f;switch(this.mode){case yi:case Vi:case pi:f=ap(u,e);break;case Gi:case Pn:case Cn:case Hi:f=Dp(u,e);break;default:throw new Error("Unknown mode "+this.mode)}return f!==Al&&f!==Fn&&this._error(f),this.write_in_progress=!1,[u.avail_in,u.avail_out]};Xe.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,this.mode===yi||this.mode===Vi||this.mode===pi?sp(this.strm):Mp(this.strm),this.mode=No};var fn;Xe.prototype.reset=function(){switch(this.mode){case yi:case pi:fn=ll(this.strm);break;case Pn:case Hi:fn=dl(this.strm);break}fn!==Fn&&this._error(fn)};Xe.prototype._error=function(e){this.onerror(Xu[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()};const cs=Object.freeze(Object.defineProperty({__proto__:null,DEFLATE:yi,DEFLATERAW:pi,GUNZIP:Cn,GZIP:Vi,INFLATE:Pn,INFLATERAW:Hi,NONE:No,UNZIP:Gi,Z_BEST_COMPRESSION:jp,Z_BEST_SPEED:Up,Z_BINARY:Wp,Z_BLOCK:vl,Z_BUF_ERROR:Fp,Z_DATA_ERROR:Pp,Z_DEFAULT_COMPRESSION:Vp,Z_DEFAULT_STRATEGY:zp,Z_DEFLATED:wl,Z_ERRNO:qp,Z_FILTERED:Hp,Z_FINISH:yl,Z_FIXED:Xp,Z_FULL_FLUSH:_l,Z_HUFFMAN_ONLY:Gp,Z_NEED_DICT:Rp,Z_NO_COMPRESSION:Bp,Z_NO_FLUSH:pl,Z_OK:Fn,Z_PARTIAL_FLUSH:ml,Z_RLE:Zp,Z_STREAM_END:Al,Z_STREAM_ERROR:kp,Z_SYNC_FLUSH:gl,Z_TEXT:Yp,Z_TREES:Np,Z_UNKNOWN:Jp,Zlib:Xe},Symbol.toStringTag,{value:"Module"}));function Kp(e,t){if(!e)throw new Error(t)}var U={};Object.keys(cs).forEach(function(e){U[e]=cs[e]});U.Z_MIN_WINDOWBITS=8;U.Z_MAX_WINDOWBITS=15;U.Z_DEFAULT_WINDOWBITS=15;U.Z_MIN_CHUNK=64;U.Z_MAX_CHUNK=1/0;U.Z_DEFAULT_CHUNK=16*1024;U.Z_MIN_MEMLEVEL=1;U.Z_MAX_MEMLEVEL=9;U.Z_DEFAULT_MEMLEVEL=8;U.Z_MIN_LEVEL=-1;U.Z_MAX_LEVEL=9;U.Z_DEFAULT_LEVEL=U.Z_DEFAULT_COMPRESSION;var _n={Z_OK:U.Z_OK,Z_STREAM_END:U.Z_STREAM_END,Z_NEED_DICT:U.Z_NEED_DICT,Z_ERRNO:U.Z_ERRNO,Z_STREAM_ERROR:U.Z_STREAM_ERROR,Z_DATA_ERROR:U.Z_DATA_ERROR,Z_MEM_ERROR:U.Z_MEM_ERROR,Z_BUF_ERROR:U.Z_BUF_ERROR,Z_VERSION_ERROR:U.Z_VERSION_ERROR};Object.keys(_n).forEach(function(e){_n[_n[e]]=e});function $p(e){return new Bt(e)}function em(e){return new Ut(e)}function tm(e){return new Ht(e)}function im(e){return new Gt(e)}function nm(e){return new jt(e)}function rm(e){return new Vt(e)}function om(e){return new Zt(e)}function am(e,t,i){return typeof t=="function"&&(i=t,t={}),Jt(new Bt(t),e,i)}function sm(e,t){return Qt(new Bt(t),e)}function um(e,t,i){return typeof t=="function"&&(i=t,t={}),Jt(new jt(t),e,i)}function lm(e,t){return Qt(new jt(t),e)}function fm(e,t,i){return typeof t=="function"&&(i=t,t={}),Jt(new Ht(t),e,i)}function cm(e,t){return Qt(new Ht(t),e)}function hm(e,t,i){return typeof t=="function"&&(i=t,t={}),Jt(new Zt(t),e,i)}function dm(e,t){return Qt(new Zt(t),e)}function pm(e,t,i){return typeof t=="function"&&(i=t,t={}),Jt(new Ut(t),e,i)}function mm(e,t){return Qt(new Ut(t),e)}function gm(e,t,i){return typeof t=="function"&&(i=t,t={}),Jt(new Vt(t),e,i)}function _m(e,t){return Qt(new Vt(t),e)}function ym(e,t,i){return typeof t=="function"&&(i=t,t={}),Jt(new Gt(t),e,i)}function vm(e,t){return Qt(new Gt(t),e)}function Jt(e,t,i){var n=[],o=0;e.on("error",a),e.on("end",u),e.end(t),r();function r(){for(var f;(f=e.read())!==null;)n.push(f),o+=f.length;e.once("readable",r)}function a(f){e.removeListener("end",u),e.removeListener("readable",r),i(f)}function u(){var f=M.concat(n,o);n=[],i(null,f),e.close()}}function Qt(e,t){if(typeof t=="string"&&(t=new M(t)),!M.isBuffer(t))throw new TypeError("Not a string or buffer");var i=U.Z_FINISH;return e._processChunk(t,i)}function Bt(e){if(!(this instanceof Bt))return new Bt(e);te.call(this,e,U.DEFLATE)}function Ut(e){if(!(this instanceof Ut))return new Ut(e);te.call(this,e,U.INFLATE)}function jt(e){if(!(this instanceof jt))return new jt(e);te.call(this,e,U.GZIP)}function Vt(e){if(!(this instanceof Vt))return new Vt(e);te.call(this,e,U.GUNZIP)}function Ht(e){if(!(this instanceof Ht))return new Ht(e);te.call(this,e,U.DEFLATERAW)}function Gt(e){if(!(this instanceof Gt))return new Gt(e);te.call(this,e,U.INFLATERAW)}function Zt(e){if(!(this instanceof Zt))return new Zt(e);te.call(this,e,U.UNZIP)}function te(e,t){if(this._opts=e=e||{},this._chunkSize=e.chunkSize||U.Z_DEFAULT_CHUNK,Te.call(this,e),e.flush&&e.flush!==U.Z_NO_FLUSH&&e.flush!==U.Z_PARTIAL_FLUSH&&e.flush!==U.Z_SYNC_FLUSH&&e.flush!==U.Z_FULL_FLUSH&&e.flush!==U.Z_FINISH&&e.flush!==U.Z_BLOCK)throw new Error("Invalid flush flag: "+e.flush);if(this._flushFlag=e.flush||U.Z_NO_FLUSH,e.chunkSize&&(e.chunkSize<U.Z_MIN_CHUNK||e.chunkSize>U.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<U.Z_MIN_WINDOWBITS||e.windowBits>U.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<U.Z_MIN_LEVEL||e.level>U.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<U.Z_MIN_MEMLEVEL||e.memLevel>U.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=U.Z_FILTERED&&e.strategy!=U.Z_HUFFMAN_ONLY&&e.strategy!=U.Z_RLE&&e.strategy!=U.Z_FIXED&&e.strategy!=U.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!M.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new U.Zlib(t);var i=this;this._hadError=!1,this._binding.onerror=function(r,a){i._binding=null,i._hadError=!0;var u=new Error(r);u.errno=a,u.code=U.codes[a],i.emit("error",u)};var n=U.Z_DEFAULT_COMPRESSION;typeof e.level=="number"&&(n=e.level);var o=U.Z_DEFAULT_STRATEGY;typeof e.strategy=="number"&&(o=e.strategy),this._binding.init(e.windowBits||U.Z_DEFAULT_WINDOWBITS,n,e.memLevel||U.Z_DEFAULT_MEMLEVEL,o,e.dictionary),this._buffer=new M(this._chunkSize),this._offset=0,this._closed=!1,this._level=n,this._strategy=o,this.once("end",this.close)}we(te,Te);te.prototype.params=function(e,t,i){if(e<U.Z_MIN_LEVEL||e>U.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(t!=U.Z_FILTERED&&t!=U.Z_HUFFMAN_ONLY&&t!=U.Z_RLE&&t!=U.Z_FIXED&&t!=U.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+t);if(this._level!==e||this._strategy!==t){var n=this;this.flush(U.Z_SYNC_FLUSH,function(){n._binding.params(e,t),n._hadError||(n._level=e,n._strategy=t,i&&i())})}else nt.nextTick(i)};te.prototype.reset=function(){return this._binding.reset()};te.prototype._flush=function(e){this._transform(new M(0),"",e)};te.prototype.flush=function(e,t){var i=this._writableState;if((typeof e=="function"||e===void 0&&!t)&&(t=e,e=U.Z_FULL_FLUSH),i.ended)t&&nt.nextTick(t);else if(i.ending)t&&this.once("end",t);else if(i.needDrain){var n=this;this.once("drain",function(){n.flush(t)})}else this._flushFlag=e,this.write(new M(0),"",t)};te.prototype.close=function(e){if(e&&nt.nextTick(e),!this._closed){this._closed=!0,this._binding.close();var t=this;nt.nextTick(function(){t.emit("close")})}};te.prototype._transform=function(e,t,i){var n,o=this._writableState,r=o.ending||o.ended,a=r&&(!e||o.length===e.length);if(!e===null&&!M.isBuffer(e))return i(new Error("invalid input"));a?n=U.Z_FINISH:(n=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||U.Z_NO_FLUSH)),this._processChunk(e,n,i)};te.prototype._processChunk=function(e,t,i){var n=e&&e.length,o=this._chunkSize-this._offset,r=0,a=this,u=typeof i=="function";if(!u){var f=[],h=0,p;this.on("error",function(_){p=_});do var s=this._binding.writeSync(t,e,r,n,this._buffer,this._offset,o);while(!this._hadError&&m(s[0],s[1]));if(this._hadError)throw p;var l=M.concat(f,h);return this.close(),l}var c=this._binding.write(t,e,r,n,this._buffer,this._offset,o);c.buffer=e,c.callback=m;function m(_,E){if(!a._hadError){var A=o-E;if(Kp(A>=0,"have should not go down"),A>0){var v=a._buffer.slice(a._offset,a._offset+A);a._offset+=A,u?a.push(v):(f.push(v),h+=v.length)}if((E===0||a._offset>=a._chunkSize)&&(o=a._chunkSize,a._offset=0,a._buffer=new M(a._chunkSize)),E===0){if(r+=n-_,n=_,!u)return!0;var g=a._binding.write(t,e,r,n,a._buffer,a._offset,a._chunkSize);g.callback=m,g.buffer=e;return}if(!u)return!1;i()}}};we(Bt,te);we(Ut,te);we(jt,te);we(Vt,te);we(Ht,te);we(Gt,te);we(Zt,te);const hs={codes:_n,createDeflate:$p,createInflate:em,createDeflateRaw:tm,createInflateRaw:im,createGzip:nm,createGunzip:rm,createUnzip:om,deflate:am,deflateSync:sm,gzip:um,gzipSync:lm,deflateRaw:fm,deflateRawSync:cm,unzip:hm,unzipSync:dm,inflate:pm,inflateSync:mm,gunzip:gm,gunzipSync:_m,inflateRaw:ym,inflateRawSync:vm,Deflate:Bt,Inflate:Ut,Gzip:jt,Gunzip:Vt,DeflateRaw:Ht,InflateRaw:Gt,Unzip:Zt,Zlib:te};var cr={},ds;function Ro(){return ds||(ds=1,function(){cr.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}.call(H)),cr}var hr={},Qe={},Ke={},ps;function at(){return ps||(ps=1,function(){var e,t,i,n,o,r,a,u=[].slice,f={}.hasOwnProperty;e=function(){var h,p,s,l,c,m;if(m=arguments[0],c=2<=arguments.length?u.call(arguments,1):[],o(Object.assign))Object.assign.apply(null,arguments);else for(h=0,s=c.length;h<s;h++)if(l=c[h],l!=null)for(p in l)f.call(l,p)&&(m[p]=l[p]);return m},o=function(h){return!!h&&Object.prototype.toString.call(h)==="[object Function]"},r=function(h){var p;return!!h&&((p=typeof h)=="function"||p==="object")},i=function(h){return o(Array.isArray)?Array.isArray(h):Object.prototype.toString.call(h)==="[object Array]"},n=function(h){var p;if(i(h))return!h.length;for(p in h)if(f.call(h,p))return!1;return!0},a=function(h){var p,s;return r(h)&&(s=Object.getPrototypeOf(h))&&(p=s.constructor)&&typeof p=="function"&&p instanceof p&&Function.prototype.toString.call(p)===Function.prototype.toString.call(Object)},t=function(h){return o(h.valueOf)?h.valueOf():h},Ke.assign=e,Ke.isFunction=o,Ke.isObject=r,Ke.isArray=i,Ke.isEmpty=n,Ke.isPlainObject=a,Ke.getValue=t}.call(H)),Ke}var dr={exports:{}},ms;function bl(){return ms||(ms=1,function(){dr.exports=function(){function e(){}return e.prototype.hasFeature=function(t,i){return!0},e.prototype.createDocumentType=function(t,i,n){throw new Error("This DOM method is not implemented.")},e.prototype.createDocument=function(t,i,n){throw new Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(t){throw new Error("This DOM method is not implemented.")},e.prototype.getFeature=function(t,i){throw new Error("This DOM method is not implemented.")},e}()}.call(H)),dr.exports}var pr={exports:{}},mr={exports:{}},gr={exports:{}},gs;function Am(){return gs||(gs=1,function(){gr.exports=function(){function e(){}return e.prototype.handleError=function(t){throw new Error(t)},e}()}.call(H)),gr.exports}var _r={exports:{}},_s;function wm(){return _s||(_s=1,function(){_r.exports=function(){function e(t){this.arr=t||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(t){return this.arr[t]||null},e.prototype.contains=function(t){return this.arr.indexOf(t)!==-1},e}()}.call(H)),_r.exports}var ys;function bm(){return ys||(ys=1,function(){var e,t;e=Am(),t=wm(),mr.exports=function(){function i(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new e,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(i.prototype,"parameterNames",{get:function(){return new t(Object.keys(this.defaultParams))}}),i.prototype.getParameter=function(n){return this.params.hasOwnProperty(n)?this.params[n]:null},i.prototype.canSetParameter=function(n,o){return!0},i.prototype.setParameter=function(n,o){return o!=null?this.params[n]=o:delete this.params[n]},i}()}.call(H)),mr.exports}var yr={exports:{}},vr={exports:{}},Ar={exports:{}},vs;function re(){return vs||(vs=1,function(){Ar.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}.call(H)),Ar.exports}var wr={exports:{}},As;function El(){return As||(As=1,function(){var e;e=re(),Me(),wr.exports=function(){function t(i,n,o){if(this.parent=i,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));this.name=this.stringify.name(n),this.value=this.stringify.attValue(o),this.type=e.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(i){return this.value=i||""}}),Object.defineProperty(t.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(t.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"specified",{get:function(){return!0}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(i){return this.options.writer.attribute(this,this.options.writer.filterOptions(i))},t.prototype.debugInfo=function(i){return i=i||this.name,i==null?"parent: <"+this.parent.name+">":"attribute: {"+i+"}, parent: <"+this.parent.name+">"},t.prototype.isEqualNode=function(i){return!(i.namespaceURI!==this.namespaceURI||i.prefix!==this.prefix||i.localName!==this.localName||i.value!==this.value)},t}()}.call(H)),wr.exports}var br={exports:{}},ws;function qo(){return ws||(ws=1,function(){br.exports=function(){function e(t){this.nodes=t}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(t){return this.nodes[t]},e.prototype.setNamedItem=function(t){var i;return i=this.nodes[t.nodeName],this.nodes[t.nodeName]=t,i||null},e.prototype.removeNamedItem=function(t){var i;return i=this.nodes[t],delete this.nodes[t],i||null},e.prototype.item=function(t){return this.nodes[Object.keys(this.nodes)[t]]||null},e.prototype.getNamedItemNS=function(t,i){throw new Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(t){throw new Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(t,i){throw new Error("This DOM method is not implemented.")},e}()}.call(H)),br.exports}var bs;function ko(){return bs||(bs=1,function(){var e,t,i,n,o,r,a,u,f=function(p,s){for(var l in s)h.call(s,l)&&(p[l]=s[l]);function c(){this.constructor=p}return c.prototype=s.prototype,p.prototype=new c,p.__super__=s.prototype,p},h={}.hasOwnProperty;u=at(),a=u.isObject,r=u.isFunction,o=u.getValue,n=Me(),e=re(),t=El(),i=qo(),vr.exports=function(p){f(s,p);function s(l,c,m){var _,E,A,v;if(s.__super__.constructor.call(this,l),c==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(c),this.type=e.Element,this.attribs={},this.schemaTypeInfo=null,m!=null&&this.attribute(m),l.type===e.Document&&(this.isRoot=!0,this.documentObject=l,l.rootObject=this,l.children)){for(v=l.children,E=0,A=v.length;E<A;E++)if(_=v[E],_.type===e.DocType){_.name=this.name;break}}}return Object.defineProperty(s.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(s.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(s.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(s.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(s.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(s.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(s.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(s.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new i(this.attribs)),this.attributeMap}}),s.prototype.clone=function(){var l,c,m,_;m=Object.create(this),m.isRoot&&(m.documentObject=null),m.attribs={},_=this.attribs;for(c in _)h.call(_,c)&&(l=_[c],m.attribs[c]=l.clone());return m.children=[],this.children.forEach(function(E){var A;return A=E.clone(),A.parent=m,m.children.push(A)}),m},s.prototype.attribute=function(l,c){var m,_;if(l!=null&&(l=o(l)),a(l))for(m in l)h.call(l,m)&&(_=l[m],this.attribute(m,_));else r(c)&&(c=c.apply()),this.options.keepNullAttributes&&c==null?this.attribs[l]=new t(this,l,""):c!=null&&(this.attribs[l]=new t(this,l,c));return this},s.prototype.removeAttribute=function(l){var c,m,_;if(l==null)throw new Error("Missing attribute name. "+this.debugInfo());if(l=o(l),Array.isArray(l))for(m=0,_=l.length;m<_;m++)c=l[m],delete this.attribs[c];else delete this.attribs[l];return this},s.prototype.toString=function(l){return this.options.writer.element(this,this.options.writer.filterOptions(l))},s.prototype.att=function(l,c){return this.attribute(l,c)},s.prototype.a=function(l,c){return this.attribute(l,c)},s.prototype.getAttribute=function(l){return this.attribs.hasOwnProperty(l)?this.attribs[l].value:null},s.prototype.setAttribute=function(l,c){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.getAttributeNode=function(l){return this.attribs.hasOwnProperty(l)?this.attribs[l]:null},s.prototype.setAttributeNode=function(l){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.removeAttributeNode=function(l){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.getElementsByTagName=function(l){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.getAttributeNS=function(l,c){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.setAttributeNS=function(l,c,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.removeAttributeNS=function(l,c){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.getAttributeNodeNS=function(l,c){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.setAttributeNodeNS=function(l){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.getElementsByTagNameNS=function(l,c){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.hasAttribute=function(l){return this.attribs.hasOwnProperty(l)},s.prototype.hasAttributeNS=function(l,c){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.setIdAttribute=function(l,c){return this.attribs.hasOwnProperty(l)?this.attribs[l].isId:c},s.prototype.setIdAttributeNS=function(l,c,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.setIdAttributeNode=function(l,c){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.getElementsByTagName=function(l){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.getElementsByTagNameNS=function(l,c){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.getElementsByClassName=function(l){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.isEqualNode=function(l){var c,m,_;if(!s.__super__.isEqualNode.apply(this,arguments).isEqualNode(l)||l.namespaceURI!==this.namespaceURI||l.prefix!==this.prefix||l.localName!==this.localName||l.attribs.length!==this.attribs.length)return!1;for(c=m=0,_=this.attribs.length-1;0<=_?m<=_:m>=_;c=0<=_?++m:--m)if(!this.attribs[c].isEqualNode(l.attribs[c]))return!1;return!0},s}(n)}.call(H)),vr.exports}var Er={exports:{}},xr={exports:{}},Es;function Bn(){return Es||(Es=1,function(){var e,t=function(n,o){for(var r in o)i.call(o,r)&&(n[r]=o[r]);function a(){this.constructor=n}return a.prototype=o.prototype,n.prototype=new a,n.__super__=o.prototype,n},i={}.hasOwnProperty;e=Me(),xr.exports=function(n){t(o,n);function o(r){o.__super__.constructor.call(this,r),this.value=""}return Object.defineProperty(o.prototype,"data",{get:function(){return this.value},set:function(r){return this.value=r||""}}),Object.defineProperty(o.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(o.prototype,"textContent",{get:function(){return this.value},set:function(r){return this.value=r||""}}),o.prototype.clone=function(){return Object.create(this)},o.prototype.substringData=function(r,a){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.appendData=function(r){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.insertData=function(r,a){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.deleteData=function(r,a){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.replaceData=function(r,a,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.isEqualNode=function(r){return!(!o.__super__.isEqualNode.apply(this,arguments).isEqualNode(r)||r.data!==this.data)},o}(e)}.call(H)),xr.exports}var xs;function Po(){return xs||(xs=1,function(){var e,t,i=function(o,r){for(var a in r)n.call(r,a)&&(o[a]=r[a]);function u(){this.constructor=o}return u.prototype=r.prototype,o.prototype=new u,o.__super__=r.prototype,o},n={}.hasOwnProperty;e=re(),t=Bn(),Er.exports=function(o){i(r,o);function r(a,u){if(r.__super__.constructor.call(this,a),u==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=e.CData,this.value=this.stringify.cdata(u)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(a){return this.options.writer.cdata(this,this.options.writer.filterOptions(a))},r}(t)}.call(H)),Er.exports}var Tr={exports:{}},Ts;function Fo(){return Ts||(Ts=1,function(){var e,t,i=function(o,r){for(var a in r)n.call(r,a)&&(o[a]=r[a]);function u(){this.constructor=o}return u.prototype=r.prototype,o.prototype=new u,o.__super__=r.prototype,o},n={}.hasOwnProperty;e=re(),t=Bn(),Tr.exports=function(o){i(r,o);function r(a,u){if(r.__super__.constructor.call(this,a),u==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=e.Comment,this.value=this.stringify.comment(u)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(a){return this.options.writer.comment(this,this.options.writer.filterOptions(a))},r}(t)}.call(H)),Tr.exports}var Ir={exports:{}},Is;function Bo(){return Is||(Is=1,function(){var e,t,i,n=function(r,a){for(var u in a)o.call(a,u)&&(r[u]=a[u]);function f(){this.constructor=r}return f.prototype=a.prototype,r.prototype=new f,r.__super__=a.prototype,r},o={}.hasOwnProperty;i=at().isObject,t=Me(),e=re(),Ir.exports=function(r){n(a,r);function a(u,f,h,p){var s;a.__super__.constructor.call(this,u),i(f)&&(s=f,f=s.version,h=s.encoding,p=s.standalone),f||(f="1.0"),this.type=e.Declaration,this.version=this.stringify.xmlVersion(f),h!=null&&(this.encoding=this.stringify.xmlEncoding(h)),p!=null&&(this.standalone=this.stringify.xmlStandalone(p))}return a.prototype.toString=function(u){return this.options.writer.declaration(this,this.options.writer.filterOptions(u))},a}(t)}.call(H)),Ir.exports}var Cr={exports:{}},Or={exports:{}},Cs;function Uo(){return Cs||(Cs=1,function(){var e,t,i=function(o,r){for(var a in r)n.call(r,a)&&(o[a]=r[a]);function u(){this.constructor=o}return u.prototype=r.prototype,o.prototype=new u,o.__super__=r.prototype,o},n={}.hasOwnProperty;t=Me(),e=re(),Or.exports=function(o){i(r,o);function r(a,u,f,h,p,s){if(r.__super__.constructor.call(this,a),u==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(f==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(u));if(!h)throw new Error("Missing DTD attribute type. "+this.debugInfo(u));if(!p)throw new Error("Missing DTD attribute default. "+this.debugInfo(u));if(p.indexOf("#")!==0&&(p="#"+p),!p.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(u));if(s&&!p.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(u));this.elementName=this.stringify.name(u),this.type=e.AttributeDeclaration,this.attributeName=this.stringify.name(f),this.attributeType=this.stringify.dtdAttType(h),s&&(this.defaultValue=this.stringify.dtdAttDefault(s)),this.defaultValueType=p}return r.prototype.toString=function(a){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(a))},r}(t)}.call(H)),Or.exports}var Sr={exports:{}},Os;function jo(){return Os||(Os=1,function(){var e,t,i,n=function(r,a){for(var u in a)o.call(a,u)&&(r[u]=a[u]);function f(){this.constructor=r}return f.prototype=a.prototype,r.prototype=new f,r.__super__=a.prototype,r},o={}.hasOwnProperty;i=at().isObject,t=Me(),e=re(),Sr.exports=function(r){n(a,r);function a(u,f,h,p){if(a.__super__.constructor.call(this,u),h==null)throw new Error("Missing DTD entity name. "+this.debugInfo(h));if(p==null)throw new Error("Missing DTD entity value. "+this.debugInfo(h));if(this.pe=!!f,this.name=this.stringify.name(h),this.type=e.EntityDeclaration,!i(p))this.value=this.stringify.dtdEntityValue(p),this.internal=!0;else{if(!p.pubID&&!p.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(h));if(p.pubID&&!p.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(h));if(this.internal=!1,p.pubID!=null&&(this.pubID=this.stringify.dtdPubID(p.pubID)),p.sysID!=null&&(this.sysID=this.stringify.dtdSysID(p.sysID)),p.nData!=null&&(this.nData=this.stringify.dtdNData(p.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(h))}}return Object.defineProperty(a.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(a.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(a.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(a.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(a.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(a.prototype,"xmlVersion",{get:function(){return null}}),a.prototype.toString=function(u){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(u))},a}(t)}.call(H)),Sr.exports}var Lr={exports:{}},Ss;function Vo(){return Ss||(Ss=1,function(){var e,t,i=function(o,r){for(var a in r)n.call(r,a)&&(o[a]=r[a]);function u(){this.constructor=o}return u.prototype=r.prototype,o.prototype=new u,o.__super__=r.prototype,o},n={}.hasOwnProperty;t=Me(),e=re(),Lr.exports=function(o){i(r,o);function r(a,u,f){if(r.__super__.constructor.call(this,a),u==null)throw new Error("Missing DTD element name. "+this.debugInfo());f||(f="(#PCDATA)"),Array.isArray(f)&&(f="("+f.join(",")+")"),this.name=this.stringify.name(u),this.type=e.ElementDeclaration,this.value=this.stringify.dtdElementValue(f)}return r.prototype.toString=function(a){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(a))},r}(t)}.call(H)),Lr.exports}var Dr={exports:{}},Ls;function Ho(){return Ls||(Ls=1,function(){var e,t,i=function(o,r){for(var a in r)n.call(r,a)&&(o[a]=r[a]);function u(){this.constructor=o}return u.prototype=r.prototype,o.prototype=new u,o.__super__=r.prototype,o},n={}.hasOwnProperty;t=Me(),e=re(),Dr.exports=function(o){i(r,o);function r(a,u,f){if(r.__super__.constructor.call(this,a),u==null)throw new Error("Missing DTD notation name. "+this.debugInfo(u));if(!f.pubID&&!f.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(u));this.name=this.stringify.name(u),this.type=e.NotationDeclaration,f.pubID!=null&&(this.pubID=this.stringify.dtdPubID(f.pubID)),f.sysID!=null&&(this.sysID=this.stringify.dtdSysID(f.sysID))}return Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),r.prototype.toString=function(a){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(a))},r}(t)}.call(H)),Dr.exports}var Ds;function Go(){return Ds||(Ds=1,function(){var e,t,i,n,o,r,a,u,f=function(p,s){for(var l in s)h.call(s,l)&&(p[l]=s[l]);function c(){this.constructor=p}return c.prototype=s.prototype,p.prototype=new c,p.__super__=s.prototype,p},h={}.hasOwnProperty;u=at().isObject,a=Me(),e=re(),t=Uo(),n=jo(),i=Vo(),o=Ho(),r=qo(),Cr.exports=function(p){f(s,p);function s(l,c,m){var _,E,A,v,g,w;if(s.__super__.constructor.call(this,l),this.type=e.DocType,l.children){for(v=l.children,E=0,A=v.length;E<A;E++)if(_=v[E],_.type===e.Element){this.name=_.name;break}}this.documentObject=l,u(c)&&(g=c,c=g.pubID,m=g.sysID),m==null&&(w=[c,m],m=w[0],c=w[1]),c!=null&&(this.pubID=this.stringify.dtdPubID(c)),m!=null&&(this.sysID=this.stringify.dtdSysID(m))}return Object.defineProperty(s.prototype,"entities",{get:function(){var l,c,m,_,E;for(_={},E=this.children,c=0,m=E.length;c<m;c++)l=E[c],l.type===e.EntityDeclaration&&!l.pe&&(_[l.name]=l);return new r(_)}}),Object.defineProperty(s.prototype,"notations",{get:function(){var l,c,m,_,E;for(_={},E=this.children,c=0,m=E.length;c<m;c++)l=E[c],l.type===e.NotationDeclaration&&(_[l.name]=l);return new r(_)}}),Object.defineProperty(s.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(s.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(s.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),s.prototype.element=function(l,c){var m;return m=new i(this,l,c),this.children.push(m),this},s.prototype.attList=function(l,c,m,_,E){var A;return A=new t(this,l,c,m,_,E),this.children.push(A),this},s.prototype.entity=function(l,c){var m;return m=new n(this,!1,l,c),this.children.push(m),this},s.prototype.pEntity=function(l,c){var m;return m=new n(this,!0,l,c),this.children.push(m),this},s.prototype.notation=function(l,c){var m;return m=new o(this,l,c),this.children.push(m),this},s.prototype.toString=function(l){return this.options.writer.docType(this,this.options.writer.filterOptions(l))},s.prototype.ele=function(l,c){return this.element(l,c)},s.prototype.att=function(l,c,m,_,E){return this.attList(l,c,m,_,E)},s.prototype.ent=function(l,c){return this.entity(l,c)},s.prototype.pent=function(l,c){return this.pEntity(l,c)},s.prototype.not=function(l,c){return this.notation(l,c)},s.prototype.up=function(){return this.root()||this.documentObject},s.prototype.isEqualNode=function(l){return!(!s.__super__.isEqualNode.apply(this,arguments).isEqualNode(l)||l.name!==this.name||l.publicId!==this.publicId||l.systemId!==this.systemId)},s}(a)}.call(H)),Cr.exports}var Mr={exports:{}},Ms;function Zo(){return Ms||(Ms=1,function(){var e,t,i=function(o,r){for(var a in r)n.call(r,a)&&(o[a]=r[a]);function u(){this.constructor=o}return u.prototype=r.prototype,o.prototype=new u,o.__super__=r.prototype,o},n={}.hasOwnProperty;e=re(),t=Me(),Mr.exports=function(o){i(r,o);function r(a,u){if(r.__super__.constructor.call(this,a),u==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=e.Raw,this.value=this.stringify.raw(u)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(a){return this.options.writer.raw(this,this.options.writer.filterOptions(a))},r}(t)}.call(H)),Mr.exports}var Nr={exports:{}},Ns;function Xo(){return Ns||(Ns=1,function(){var e,t,i=function(o,r){for(var a in r)n.call(r,a)&&(o[a]=r[a]);function u(){this.constructor=o}return u.prototype=r.prototype,o.prototype=new u,o.__super__=r.prototype,o},n={}.hasOwnProperty;e=re(),t=Bn(),Nr.exports=function(o){i(r,o);function r(a,u){if(r.__super__.constructor.call(this,a),u==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=e.Text,this.value=this.stringify.text(u)}return Object.defineProperty(r.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"wholeText",{get:function(){var a,u,f;for(f="",u=this.previousSibling;u;)f=u.data+f,u=u.previousSibling;for(f+=this.data,a=this.nextSibling;a;)f=f+a.data,a=a.nextSibling;return f}}),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(a){return this.options.writer.text(this,this.options.writer.filterOptions(a))},r.prototype.splitText=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.replaceWholeText=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},r}(t)}.call(H)),Nr.exports}var Rr={exports:{}},Rs;function zo(){return Rs||(Rs=1,function(){var e,t,i=function(o,r){for(var a in r)n.call(r,a)&&(o[a]=r[a]);function u(){this.constructor=o}return u.prototype=r.prototype,o.prototype=new u,o.__super__=r.prototype,o},n={}.hasOwnProperty;e=re(),t=Bn(),Rr.exports=function(o){i(r,o);function r(a,u,f){if(r.__super__.constructor.call(this,a),u==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=e.ProcessingInstruction,this.target=this.stringify.insTarget(u),this.name=this.target,f&&(this.value=this.stringify.insValue(f))}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(a){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(a))},r.prototype.isEqualNode=function(a){return!(!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(a)||a.target!==this.target)},r}(t)}.call(H)),Rr.exports}var qr={exports:{}},qs;function xl(){return qs||(qs=1,function(){var e,t,i=function(o,r){for(var a in r)n.call(r,a)&&(o[a]=r[a]);function u(){this.constructor=o}return u.prototype=r.prototype,o.prototype=new u,o.__super__=r.prototype,o},n={}.hasOwnProperty;t=Me(),e=re(),qr.exports=function(o){i(r,o);function r(a){r.__super__.constructor.call(this,a),this.type=e.Dummy}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(a){return""},r}(t)}.call(H)),qr.exports}var kr={exports:{}},ks;function Em(){return ks||(ks=1,function(){kr.exports=function(){function e(t){this.nodes=t}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(t){return this.nodes[t]||null},e}()}.call(H)),kr.exports}var Pr={exports:{}},Ps;function xm(){return Ps||(Ps=1,function(){Pr.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}.call(H)),Pr.exports}var Fs;function Me(){return Fs||(Fs=1,function(){var e,t,i,n,o,r,a,u,f,h,p,s,l,c,m,_,E,A={}.hasOwnProperty;E=at(),_=E.isObject,m=E.isFunction,c=E.isEmpty,l=E.getValue,u=null,i=null,n=null,o=null,r=null,p=null,s=null,h=null,a=null,t=null,f=null,e=null,yr.exports=function(){function v(g){this.parent=g,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,u||(u=ko(),i=Po(),n=Fo(),o=Bo(),r=Go(),p=Zo(),s=Xo(),h=zo(),a=xl(),t=re(),f=Em(),qo(),e=xm())}return Object.defineProperty(v.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(v.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(v.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(v.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(v.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new f(this.children)),this.childNodeList}}),Object.defineProperty(v.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(v.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(v.prototype,"previousSibling",{get:function(){var g;return g=this.parent.children.indexOf(this),this.parent.children[g-1]||null}}),Object.defineProperty(v.prototype,"nextSibling",{get:function(){var g;return g=this.parent.children.indexOf(this),this.parent.children[g+1]||null}}),Object.defineProperty(v.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(v.prototype,"textContent",{get:function(){var g,w,I,N,L;if(this.nodeType===t.Element||this.nodeType===t.DocumentFragment){for(L="",N=this.children,w=0,I=N.length;w<I;w++)g=N[w],g.textContent&&(L+=g.textContent);return L}else return null},set:function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),v.prototype.setParent=function(g){var w,I,N,L,C;for(this.parent=g,g&&(this.options=g.options,this.stringify=g.stringify),L=this.children,C=[],I=0,N=L.length;I<N;I++)w=L[I],C.push(w.setParent(this));return C},v.prototype.element=function(g,w,I){var N,L,C,d,x,T,D,P,F,B,k;if(T=null,w===null&&I==null&&(F=[{},null],w=F[0],I=F[1]),w==null&&(w={}),w=l(w),_(w)||(B=[w,I],I=B[0],w=B[1]),g!=null&&(g=l(g)),Array.isArray(g))for(C=0,D=g.length;C<D;C++)L=g[C],T=this.element(L);else if(m(g))T=this.element(g.apply());else if(_(g)){for(x in g)if(A.call(g,x))if(k=g[x],m(k)&&(k=k.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&x.indexOf(this.stringify.convertAttKey)===0)T=this.attribute(x.substr(this.stringify.convertAttKey.length),k);else if(!this.options.separateArrayItems&&Array.isArray(k)&&c(k))T=this.dummy();else if(_(k)&&c(k))T=this.element(x);else if(!this.options.keepNullNodes&&k==null)T=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(k))for(d=0,P=k.length;d<P;d++)L=k[d],N={},N[x]=L,T=this.element(N);else _(k)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&x.indexOf(this.stringify.convertTextKey)===0?T=this.element(k):(T=this.element(x),T.element(k)):T=this.element(x,k)}else!this.options.keepNullNodes&&I===null?T=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&g.indexOf(this.stringify.convertTextKey)===0?T=this.text(I):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&g.indexOf(this.stringify.convertCDataKey)===0?T=this.cdata(I):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&g.indexOf(this.stringify.convertCommentKey)===0?T=this.comment(I):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&g.indexOf(this.stringify.convertRawKey)===0?T=this.raw(I):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&g.indexOf(this.stringify.convertPIKey)===0?T=this.instruction(g.substr(this.stringify.convertPIKey.length),I):T=this.node(g,w,I);if(T==null)throw new Error("Could not create any elements with: "+g+". "+this.debugInfo());return T},v.prototype.insertBefore=function(g,w,I){var N,L,C,d,x;if(g?.type)return C=g,d=w,C.setParent(this),d?(L=children.indexOf(d),x=children.splice(L),children.push(C),Array.prototype.push.apply(children,x)):children.push(C),C;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(g));return L=this.parent.children.indexOf(this),x=this.parent.children.splice(L),N=this.parent.element(g,w,I),Array.prototype.push.apply(this.parent.children,x),N},v.prototype.insertAfter=function(g,w,I){var N,L,C;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(g));return L=this.parent.children.indexOf(this),C=this.parent.children.splice(L+1),N=this.parent.element(g,w,I),Array.prototype.push.apply(this.parent.children,C),N},v.prototype.remove=function(){var g;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return g=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[g,g-g+1].concat([])),this.parent},v.prototype.node=function(g,w,I){var N,L;return g!=null&&(g=l(g)),w||(w={}),w=l(w),_(w)||(L=[w,I],I=L[0],w=L[1]),N=new u(this,g,w),I!=null&&N.text(I),this.children.push(N),N},v.prototype.text=function(g){var w;return _(g)&&this.element(g),w=new s(this,g),this.children.push(w),this},v.prototype.cdata=function(g){var w;return w=new i(this,g),this.children.push(w),this},v.prototype.comment=function(g){var w;return w=new n(this,g),this.children.push(w),this},v.prototype.commentBefore=function(g){var w,I;return w=this.parent.children.indexOf(this),I=this.parent.children.splice(w),this.parent.comment(g),Array.prototype.push.apply(this.parent.children,I),this},v.prototype.commentAfter=function(g){var w,I;return w=this.parent.children.indexOf(this),I=this.parent.children.splice(w+1),this.parent.comment(g),Array.prototype.push.apply(this.parent.children,I),this},v.prototype.raw=function(g){var w;return w=new p(this,g),this.children.push(w),this},v.prototype.dummy=function(){var g;return g=new a(this),g},v.prototype.instruction=function(g,w){var I,N,L,C,d;if(g!=null&&(g=l(g)),w!=null&&(w=l(w)),Array.isArray(g))for(C=0,d=g.length;C<d;C++)I=g[C],this.instruction(I);else if(_(g))for(I in g)A.call(g,I)&&(N=g[I],this.instruction(I,N));else m(w)&&(w=w.apply()),L=new h(this,g,w),this.children.push(L);return this},v.prototype.instructionBefore=function(g,w){var I,N;return I=this.parent.children.indexOf(this),N=this.parent.children.splice(I),this.parent.instruction(g,w),Array.prototype.push.apply(this.parent.children,N),this},v.prototype.instructionAfter=function(g,w){var I,N;return I=this.parent.children.indexOf(this),N=this.parent.children.splice(I+1),this.parent.instruction(g,w),Array.prototype.push.apply(this.parent.children,N),this},v.prototype.declaration=function(g,w,I){var N,L;return N=this.document(),L=new o(N,g,w,I),N.children.length===0?N.children.unshift(L):N.children[0].type===t.Declaration?N.children[0]=L:N.children.unshift(L),N.root()||N},v.prototype.dtd=function(g,w){var I,N,L,C,d,x,T,D,P,F;for(N=this.document(),L=new r(N,g,w),P=N.children,C=d=0,T=P.length;d<T;C=++d)if(I=P[C],I.type===t.DocType)return N.children[C]=L,L;for(F=N.children,C=x=0,D=F.length;x<D;C=++x)if(I=F[C],I.isRoot)return N.children.splice(C,0,L),L;return N.children.push(L),L},v.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},v.prototype.root=function(){var g;for(g=this;g;){if(g.type===t.Document)return g.rootObject;if(g.isRoot)return g;g=g.parent}},v.prototype.document=function(){var g;for(g=this;g;){if(g.type===t.Document)return g;g=g.parent}},v.prototype.end=function(g){return this.document().end(g)},v.prototype.prev=function(){var g;if(g=this.parent.children.indexOf(this),g<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[g-1]},v.prototype.next=function(){var g;if(g=this.parent.children.indexOf(this),g===-1||g===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[g+1]},v.prototype.importDocument=function(g){var w;return w=g.root().clone(),w.parent=this,w.isRoot=!1,this.children.push(w),this},v.prototype.debugInfo=function(g){var w,I;return g=g||this.name,g==null&&!((w=this.parent)!=null&&w.name)?"":g==null?"parent: <"+this.parent.name+">":(I=this.parent)!=null&&I.name?"node: <"+g+">, parent: <"+this.parent.name+">":"node: <"+g+">"},v.prototype.ele=function(g,w,I){return this.element(g,w,I)},v.prototype.nod=function(g,w,I){return this.node(g,w,I)},v.prototype.txt=function(g){return this.text(g)},v.prototype.dat=function(g){return this.cdata(g)},v.prototype.com=function(g){return this.comment(g)},v.prototype.ins=function(g,w){return this.instruction(g,w)},v.prototype.doc=function(){return this.document()},v.prototype.dec=function(g,w,I){return this.declaration(g,w,I)},v.prototype.e=function(g,w,I){return this.element(g,w,I)},v.prototype.n=function(g,w,I){return this.node(g,w,I)},v.prototype.t=function(g){return this.text(g)},v.prototype.d=function(g){return this.cdata(g)},v.prototype.c=function(g){return this.comment(g)},v.prototype.r=function(g){return this.raw(g)},v.prototype.i=function(g,w){return this.instruction(g,w)},v.prototype.u=function(){return this.up()},v.prototype.importXMLBuilder=function(g){return this.importDocument(g)},v.prototype.replaceChild=function(g,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.removeChild=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.appendChild=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.hasChildNodes=function(){return this.children.length!==0},v.prototype.cloneNode=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.isSupported=function(g,w){return!0},v.prototype.hasAttributes=function(){return this.attribs.length!==0},v.prototype.compareDocumentPosition=function(g){var w,I;return w=this,w===g?0:this.document()!==g.document()?(I=e.Disconnected|e.ImplementationSpecific,Math.random()<.5?I|=e.Preceding:I|=e.Following,I):w.isAncestor(g)?e.Contains|e.Preceding:w.isDescendant(g)?e.Contains|e.Following:w.isPreceding(g)?e.Preceding:e.Following},v.prototype.isSameNode=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.lookupPrefix=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.isDefaultNamespace=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.lookupNamespaceURI=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.isEqualNode=function(g){var w,I,N;if(g.nodeType!==this.nodeType||g.children.length!==this.children.length)return!1;for(w=I=0,N=this.children.length-1;0<=N?I<=N:I>=N;w=0<=N?++I:--I)if(!this.children[w].isEqualNode(g.children[w]))return!1;return!0},v.prototype.getFeature=function(g,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.setUserData=function(g,w,I){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.getUserData=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.contains=function(g){return g?g===this||this.isDescendant(g):!1},v.prototype.isDescendant=function(g){var w,I,N,L,C;for(C=this.children,N=0,L=C.length;N<L;N++)if(w=C[N],g===w||(I=w.isDescendant(g),I))return!0;return!1},v.prototype.isAncestor=function(g){return g.isDescendant(this)},v.prototype.isPreceding=function(g){var w,I;return w=this.treePosition(g),I=this.treePosition(this),w===-1||I===-1?!1:w<I},v.prototype.isFollowing=function(g){var w,I;return w=this.treePosition(g),I=this.treePosition(this),w===-1||I===-1?!1:w>I},v.prototype.treePosition=function(g){var w,I;return I=0,w=!1,this.foreachTreeNode(this.document(),function(N){if(I++,!w&&N===g)return w=!0}),w?I:-1},v.prototype.foreachTreeNode=function(g,w){var I,N,L,C,d;for(g||(g=this.document()),C=g.children,N=0,L=C.length;N<L;N++){if(I=C[N],d=w(I))return d;if(d=this.foreachTreeNode(I,w),d)return d}},v}()}.call(H)),yr.exports}var Fr={exports:{}},Bs;function Tl(){return Bs||(Bs=1,function(){var e=function(i,n){return function(){return i.apply(n,arguments)}},t={}.hasOwnProperty;Fr.exports=function(){function i(n){this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this);var o,r,a;n||(n={}),this.options=n,this.options.version||(this.options.version="1.0"),r=n.stringify||{};for(o in r)t.call(r,o)&&(a=r[o],this[o]=a)}return i.prototype.name=function(n){return this.options.noValidation?n:this.assertLegalName(""+n||"")},i.prototype.text=function(n){return this.options.noValidation?n:this.assertLegalChar(this.textEscape(""+n||""))},i.prototype.cdata=function(n){return this.options.noValidation?n:(n=""+n||"",n=n.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(n))},i.prototype.comment=function(n){if(this.options.noValidation)return n;if(n=""+n||"",n.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+n);return this.assertLegalChar(n)},i.prototype.raw=function(n){return this.options.noValidation?n:""+n||""},i.prototype.attValue=function(n){return this.options.noValidation?n:this.assertLegalChar(this.attEscape(n=""+n||""))},i.prototype.insTarget=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},i.prototype.insValue=function(n){if(this.options.noValidation)return n;if(n=""+n||"",n.match(/\?>/))throw new Error("Invalid processing instruction value: "+n);return this.assertLegalChar(n)},i.prototype.xmlVersion=function(n){if(this.options.noValidation)return n;if(n=""+n||"",!n.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+n);return n},i.prototype.xmlEncoding=function(n){if(this.options.noValidation)return n;if(n=""+n||"",!n.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+n);return this.assertLegalChar(n)},i.prototype.xmlStandalone=function(n){return this.options.noValidation?n:n?"yes":"no"},i.prototype.dtdPubID=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},i.prototype.dtdSysID=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},i.prototype.dtdElementValue=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},i.prototype.dtdAttType=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},i.prototype.dtdAttDefault=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},i.prototype.dtdEntityValue=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},i.prototype.dtdNData=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},i.prototype.convertAttKey="@",i.prototype.convertPIKey="?",i.prototype.convertTextKey="#text",i.prototype.convertCDataKey="#cdata",i.prototype.convertCommentKey="#comment",i.prototype.convertRawKey="#raw",i.prototype.assertLegalChar=function(n){var o,r;if(this.options.noValidation)return n;if(o="",this.options.version==="1.0"){if(o=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=n.match(o))throw new Error("Invalid character in string: "+n+" at index "+r.index)}else if(this.options.version==="1.1"&&(o=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=n.match(o)))throw new Error("Invalid character in string: "+n+" at index "+r.index);return n},i.prototype.assertLegalName=function(n){var o;if(this.options.noValidation)return n;if(this.assertLegalChar(n),o=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!n.match(o))throw new Error("Invalid character in name");return n},i.prototype.textEscape=function(n){var o;return this.options.noValidation?n:(o=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(o,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},i.prototype.attEscape=function(n){var o;return this.options.noValidation?n:(o=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(o,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},i}()}.call(H)),Fr.exports}var Br={exports:{}},Ur={exports:{}},jr={exports:{}},Us;function Un(){return Us||(Us=1,function(){jr.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}.call(H)),jr.exports}var js;function Il(){return js||(js=1,function(){var e,t,i,n={}.hasOwnProperty;i=at().assign,e=re(),Bo(),Go(),Po(),Fo(),ko(),Zo(),Xo(),zo(),xl(),Uo(),Vo(),jo(),Ho(),t=Un(),Ur.exports=function(){function o(r){var a,u,f;r||(r={}),this.options=r,u=r.writer||{};for(a in u)n.call(u,a)&&(f=u[a],this["_"+a]=this[a],this[a]=f)}return o.prototype.filterOptions=function(r){var a,u,f,h,p,s,l,c;return r||(r={}),r=i({},this.options,r),a={writer:this},a.pretty=r.pretty||!1,a.allowEmpty=r.allowEmpty||!1,a.indent=(u=r.indent)!=null?u:"  ",a.newline=(f=r.newline)!=null?f:`
`,a.offset=(h=r.offset)!=null?h:0,a.dontPrettyTextNodes=(p=(s=r.dontPrettyTextNodes)!=null?s:r.dontprettytextnodes)!=null?p:0,a.spaceBeforeSlash=(l=(c=r.spaceBeforeSlash)!=null?c:r.spacebeforeslash)!=null?l:"",a.spaceBeforeSlash===!0&&(a.spaceBeforeSlash=" "),a.suppressPrettyCount=0,a.user={},a.state=t.None,a},o.prototype.indent=function(r,a,u){var f;return!a.pretty||a.suppressPrettyCount?"":a.pretty&&(f=(u||0)+a.offset+1,f>0)?new Array(f).join(a.indent):""},o.prototype.endline=function(r,a,u){return!a.pretty||a.suppressPrettyCount?"":a.newline},o.prototype.attribute=function(r,a,u){var f;return this.openAttribute(r,a,u),f=" "+r.name+'="'+r.value+'"',this.closeAttribute(r,a,u),f},o.prototype.cdata=function(r,a,u){var f;return this.openNode(r,a,u),a.state=t.OpenTag,f=this.indent(r,a,u)+"<![CDATA[",a.state=t.InsideTag,f+=r.value,a.state=t.CloseTag,f+="]]>"+this.endline(r,a,u),a.state=t.None,this.closeNode(r,a,u),f},o.prototype.comment=function(r,a,u){var f;return this.openNode(r,a,u),a.state=t.OpenTag,f=this.indent(r,a,u)+"<!-- ",a.state=t.InsideTag,f+=r.value,a.state=t.CloseTag,f+=" -->"+this.endline(r,a,u),a.state=t.None,this.closeNode(r,a,u),f},o.prototype.declaration=function(r,a,u){var f;return this.openNode(r,a,u),a.state=t.OpenTag,f=this.indent(r,a,u)+"<?xml",a.state=t.InsideTag,f+=' version="'+r.version+'"',r.encoding!=null&&(f+=' encoding="'+r.encoding+'"'),r.standalone!=null&&(f+=' standalone="'+r.standalone+'"'),a.state=t.CloseTag,f+=a.spaceBeforeSlash+"?>",f+=this.endline(r,a,u),a.state=t.None,this.closeNode(r,a,u),f},o.prototype.docType=function(r,a,u){var f,h,p,s,l;if(u||(u=0),this.openNode(r,a,u),a.state=t.OpenTag,s=this.indent(r,a,u),s+="<!DOCTYPE "+r.root().name,r.pubID&&r.sysID?s+=' PUBLIC "'+r.pubID+'" "'+r.sysID+'"':r.sysID&&(s+=' SYSTEM "'+r.sysID+'"'),r.children.length>0){for(s+=" [",s+=this.endline(r,a,u),a.state=t.InsideTag,l=r.children,h=0,p=l.length;h<p;h++)f=l[h],s+=this.writeChildNode(f,a,u+1);a.state=t.CloseTag,s+="]"}return a.state=t.CloseTag,s+=a.spaceBeforeSlash+">",s+=this.endline(r,a,u),a.state=t.None,this.closeNode(r,a,u),s},o.prototype.element=function(r,a,u){var f,h,p,s,l,c,m,_,E,A,v,g,w,I;u||(u=0),A=!1,v="",this.openNode(r,a,u),a.state=t.OpenTag,v+=this.indent(r,a,u)+"<"+r.name,g=r.attribs;for(E in g)n.call(g,E)&&(f=g[E],v+=this.attribute(f,a,u));if(p=r.children.length,s=p===0?null:r.children[0],p===0||r.children.every(function(N){return(N.type===e.Text||N.type===e.Raw)&&N.value===""}))a.allowEmpty?(v+=">",a.state=t.CloseTag,v+="</"+r.name+">"+this.endline(r,a,u)):(a.state=t.CloseTag,v+=a.spaceBeforeSlash+"/>"+this.endline(r,a,u));else if(a.pretty&&p===1&&(s.type===e.Text||s.type===e.Raw)&&s.value!=null)v+=">",a.state=t.InsideTag,a.suppressPrettyCount++,A=!0,v+=this.writeChildNode(s,a,u+1),a.suppressPrettyCount--,A=!1,a.state=t.CloseTag,v+="</"+r.name+">"+this.endline(r,a,u);else{if(a.dontPrettyTextNodes){for(w=r.children,l=0,m=w.length;l<m;l++)if(h=w[l],(h.type===e.Text||h.type===e.Raw)&&h.value!=null){a.suppressPrettyCount++,A=!0;break}}for(v+=">"+this.endline(r,a,u),a.state=t.InsideTag,I=r.children,c=0,_=I.length;c<_;c++)h=I[c],v+=this.writeChildNode(h,a,u+1);a.state=t.CloseTag,v+=this.indent(r,a,u)+"</"+r.name+">",A&&a.suppressPrettyCount--,v+=this.endline(r,a,u),a.state=t.None}return this.closeNode(r,a,u),v},o.prototype.writeChildNode=function(r,a,u){switch(r.type){case e.CData:return this.cdata(r,a,u);case e.Comment:return this.comment(r,a,u);case e.Element:return this.element(r,a,u);case e.Raw:return this.raw(r,a,u);case e.Text:return this.text(r,a,u);case e.ProcessingInstruction:return this.processingInstruction(r,a,u);case e.Dummy:return"";case e.Declaration:return this.declaration(r,a,u);case e.DocType:return this.docType(r,a,u);case e.AttributeDeclaration:return this.dtdAttList(r,a,u);case e.ElementDeclaration:return this.dtdElement(r,a,u);case e.EntityDeclaration:return this.dtdEntity(r,a,u);case e.NotationDeclaration:return this.dtdNotation(r,a,u);default:throw new Error("Unknown XML node type: "+r.constructor.name)}},o.prototype.processingInstruction=function(r,a,u){var f;return this.openNode(r,a,u),a.state=t.OpenTag,f=this.indent(r,a,u)+"<?",a.state=t.InsideTag,f+=r.target,r.value&&(f+=" "+r.value),a.state=t.CloseTag,f+=a.spaceBeforeSlash+"?>",f+=this.endline(r,a,u),a.state=t.None,this.closeNode(r,a,u),f},o.prototype.raw=function(r,a,u){var f;return this.openNode(r,a,u),a.state=t.OpenTag,f=this.indent(r,a,u),a.state=t.InsideTag,f+=r.value,a.state=t.CloseTag,f+=this.endline(r,a,u),a.state=t.None,this.closeNode(r,a,u),f},o.prototype.text=function(r,a,u){var f;return this.openNode(r,a,u),a.state=t.OpenTag,f=this.indent(r,a,u),a.state=t.InsideTag,f+=r.value,a.state=t.CloseTag,f+=this.endline(r,a,u),a.state=t.None,this.closeNode(r,a,u),f},o.prototype.dtdAttList=function(r,a,u){var f;return this.openNode(r,a,u),a.state=t.OpenTag,f=this.indent(r,a,u)+"<!ATTLIST",a.state=t.InsideTag,f+=" "+r.elementName+" "+r.attributeName+" "+r.attributeType,r.defaultValueType!=="#DEFAULT"&&(f+=" "+r.defaultValueType),r.defaultValue&&(f+=' "'+r.defaultValue+'"'),a.state=t.CloseTag,f+=a.spaceBeforeSlash+">"+this.endline(r,a,u),a.state=t.None,this.closeNode(r,a,u),f},o.prototype.dtdElement=function(r,a,u){var f;return this.openNode(r,a,u),a.state=t.OpenTag,f=this.indent(r,a,u)+"<!ELEMENT",a.state=t.InsideTag,f+=" "+r.name+" "+r.value,a.state=t.CloseTag,f+=a.spaceBeforeSlash+">"+this.endline(r,a,u),a.state=t.None,this.closeNode(r,a,u),f},o.prototype.dtdEntity=function(r,a,u){var f;return this.openNode(r,a,u),a.state=t.OpenTag,f=this.indent(r,a,u)+"<!ENTITY",a.state=t.InsideTag,r.pe&&(f+=" %"),f+=" "+r.name,r.value?f+=' "'+r.value+'"':(r.pubID&&r.sysID?f+=' PUBLIC "'+r.pubID+'" "'+r.sysID+'"':r.sysID&&(f+=' SYSTEM "'+r.sysID+'"'),r.nData&&(f+=" NDATA "+r.nData)),a.state=t.CloseTag,f+=a.spaceBeforeSlash+">"+this.endline(r,a,u),a.state=t.None,this.closeNode(r,a,u),f},o.prototype.dtdNotation=function(r,a,u){var f;return this.openNode(r,a,u),a.state=t.OpenTag,f=this.indent(r,a,u)+"<!NOTATION",a.state=t.InsideTag,f+=" "+r.name,r.pubID&&r.sysID?f+=' PUBLIC "'+r.pubID+'" "'+r.sysID+'"':r.pubID?f+=' PUBLIC "'+r.pubID+'"':r.sysID&&(f+=' SYSTEM "'+r.sysID+'"'),a.state=t.CloseTag,f+=a.spaceBeforeSlash+">"+this.endline(r,a,u),a.state=t.None,this.closeNode(r,a,u),f},o.prototype.openNode=function(r,a,u){},o.prototype.closeNode=function(r,a,u){},o.prototype.openAttribute=function(r,a,u){},o.prototype.closeAttribute=function(r,a,u){},o}()}.call(H)),Ur.exports}var Vs;function Wo(){return Vs||(Vs=1,function(){var e,t=function(n,o){for(var r in o)i.call(o,r)&&(n[r]=o[r]);function a(){this.constructor=n}return a.prototype=o.prototype,n.prototype=new a,n.__super__=o.prototype,n},i={}.hasOwnProperty;e=Il(),Br.exports=function(n){t(o,n);function o(r){o.__super__.constructor.call(this,r)}return o.prototype.document=function(r,a){var u,f,h,p,s;for(a=this.filterOptions(a),p="",s=r.children,f=0,h=s.length;f<h;f++)u=s[f],p+=this.writeChildNode(u,a,0);return a.pretty&&p.slice(-a.newline.length)===a.newline&&(p=p.slice(0,-a.newline.length)),p},o}(e)}.call(H)),Br.exports}var Hs;function Cl(){return Hs||(Hs=1,function(){var e,t,i,n,o,r,a,u=function(h,p){for(var s in p)f.call(p,s)&&(h[s]=p[s]);function l(){this.constructor=h}return l.prototype=p.prototype,h.prototype=new l,h.__super__=p.prototype,h},f={}.hasOwnProperty;a=at().isPlainObject,i=bl(),t=bm(),n=Me(),e=re(),r=Tl(),o=Wo(),pr.exports=function(h){u(p,h);function p(s){p.__super__.constructor.call(this,null),this.name="#document",this.type=e.Document,this.documentURI=null,this.domConfig=new t,s||(s={}),s.writer||(s.writer=new o),this.options=s,this.stringify=new r(s)}return Object.defineProperty(p.prototype,"implementation",{value:new i}),Object.defineProperty(p.prototype,"doctype",{get:function(){var s,l,c,m;for(m=this.children,l=0,c=m.length;l<c;l++)if(s=m[l],s.type===e.DocType)return s;return null}}),Object.defineProperty(p.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(p.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(p.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(p.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].encoding:null}}),Object.defineProperty(p.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(p.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(p.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(p.prototype,"origin",{get:function(){return null}}),Object.defineProperty(p.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(p.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(p.prototype,"contentType",{get:function(){return null}}),p.prototype.end=function(s){var l;return l={},s?a(s)&&(l=s,s=this.options.writer):s=this.options.writer,s.document(this,s.filterOptions(l))},p.prototype.toString=function(s){return this.options.writer.document(this,this.options.writer.filterOptions(s))},p.prototype.createElement=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createTextNode=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createComment=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createCDATASection=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createProcessingInstruction=function(s,l){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createAttribute=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createEntityReference=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByTagName=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.importNode=function(s,l){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createElementNS=function(s,l){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createAttributeNS=function(s,l){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByTagNameNS=function(s,l){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementById=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.adoptNode=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.renameNode=function(s,l,c){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByClassName=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createEvent=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createNodeIterator=function(s,l,c){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createTreeWalker=function(s,l,c){throw new Error("This DOM method is not implemented."+this.debugInfo())},p}(n)}.call(H)),pr.exports}var Vr={exports:{}},Gs;function Tm(){return Gs||(Gs=1,function(){var e,t,i,n,o,r,a,u,f,h,p,s,l,c,m,_,E,A,v,g,w,I,N,L={}.hasOwnProperty;N=at(),w=N.isObject,g=N.isFunction,I=N.isPlainObject,v=N.getValue,e=re(),s=Cl(),l=ko(),n=Po(),o=Fo(),m=Zo(),A=Xo(),c=zo(),h=Bo(),p=Go(),r=Uo(),u=jo(),a=Vo(),f=Ho(),i=El(),E=Tl(),_=Wo(),t=Un(),Vr.exports=function(){function C(d,x,T){var D;this.name="?xml",this.type=e.Document,d||(d={}),D={},d.writer?I(d.writer)&&(D=d.writer,d.writer=new _):d.writer=new _,this.options=d,this.writer=d.writer,this.writerOptions=this.writer.filterOptions(D),this.stringify=new E(d),this.onDataCallback=x||function(){},this.onEndCallback=T||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return C.prototype.createChildNode=function(d){var x,T,D,P,F,B,k,j;switch(d.type){case e.CData:this.cdata(d.value);break;case e.Comment:this.comment(d.value);break;case e.Element:D={},k=d.attribs;for(T in k)L.call(k,T)&&(x=k[T],D[T]=x.value);this.node(d.name,D);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(d.value);break;case e.Text:this.text(d.value);break;case e.ProcessingInstruction:this.instruction(d.target,d.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+d.constructor.name)}for(j=d.children,F=0,B=j.length;F<B;F++)P=j[F],this.createChildNode(P),P.type===e.Element&&this.up();return this},C.prototype.dummy=function(){return this},C.prototype.node=function(d,x,T){var D;if(d==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(d));return this.openCurrent(),d=v(d),x==null&&(x={}),x=v(x),w(x)||(D=[x,T],T=D[0],x=D[1]),this.currentNode=new l(this,d,x),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,T!=null&&this.text(T),this},C.prototype.element=function(d,x,T){var D,P,F,B,k,j;if(this.currentNode&&this.currentNode.type===e.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(d)||w(d)||g(d))for(B=this.options.noValidation,this.options.noValidation=!0,j=new s(this.options).element("TEMP_ROOT"),j.element(d),this.options.noValidation=B,k=j.children,P=0,F=k.length;P<F;P++)D=k[P],this.createChildNode(D),D.type===e.Element&&this.up();else this.node(d,x,T);return this},C.prototype.attribute=function(d,x){var T,D;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(d));if(d!=null&&(d=v(d)),w(d))for(T in d)L.call(d,T)&&(D=d[T],this.attribute(T,D));else g(x)&&(x=x.apply()),this.options.keepNullAttributes&&x==null?this.currentNode.attribs[d]=new i(this,d,""):x!=null&&(this.currentNode.attribs[d]=new i(this,d,x));return this},C.prototype.text=function(d){var x;return this.openCurrent(),x=new A(this,d),this.onData(this.writer.text(x,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.cdata=function(d){var x;return this.openCurrent(),x=new n(this,d),this.onData(this.writer.cdata(x,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.comment=function(d){var x;return this.openCurrent(),x=new o(this,d),this.onData(this.writer.comment(x,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.raw=function(d){var x;return this.openCurrent(),x=new m(this,d),this.onData(this.writer.raw(x,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.instruction=function(d,x){var T,D,P,F,B;if(this.openCurrent(),d!=null&&(d=v(d)),x!=null&&(x=v(x)),Array.isArray(d))for(T=0,F=d.length;T<F;T++)D=d[T],this.instruction(D);else if(w(d))for(D in d)L.call(d,D)&&(P=d[D],this.instruction(D,P));else g(x)&&(x=x.apply()),B=new c(this,d,x),this.onData(this.writer.processingInstruction(B,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},C.prototype.declaration=function(d,x,T){var D;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return D=new h(this,d,x,T),this.onData(this.writer.declaration(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.doctype=function(d,x,T){if(this.openCurrent(),d==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new p(this,x,T),this.currentNode.rootNodeName=d,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},C.prototype.dtdElement=function(d,x){var T;return this.openCurrent(),T=new a(this,d,x),this.onData(this.writer.dtdElement(T,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.attList=function(d,x,T,D,P){var F;return this.openCurrent(),F=new r(this,d,x,T,D,P),this.onData(this.writer.dtdAttList(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.entity=function(d,x){var T;return this.openCurrent(),T=new u(this,!1,d,x),this.onData(this.writer.dtdEntity(T,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.pEntity=function(d,x){var T;return this.openCurrent(),T=new u(this,!0,d,x),this.onData(this.writer.dtdEntity(T,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.notation=function(d,x){var T;return this.openCurrent(),T=new f(this,d,x),this.onData(this.writer.dtdNotation(T,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},C.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},C.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},C.prototype.openNode=function(d){var x,T,D,P;if(!d.isOpen){if(!this.root&&this.currentLevel===0&&d.type===e.Element&&(this.root=d),T="",d.type===e.Element){this.writerOptions.state=t.OpenTag,T=this.writer.indent(d,this.writerOptions,this.currentLevel)+"<"+d.name,P=d.attribs;for(D in P)L.call(P,D)&&(x=P[D],T+=this.writer.attribute(x,this.writerOptions,this.currentLevel));T+=(d.children?">":"/>")+this.writer.endline(d,this.writerOptions,this.currentLevel),this.writerOptions.state=t.InsideTag}else this.writerOptions.state=t.OpenTag,T=this.writer.indent(d,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+d.rootNodeName,d.pubID&&d.sysID?T+=' PUBLIC "'+d.pubID+'" "'+d.sysID+'"':d.sysID&&(T+=' SYSTEM "'+d.sysID+'"'),d.children?(T+=" [",this.writerOptions.state=t.InsideTag):(this.writerOptions.state=t.CloseTag,T+=">"),T+=this.writer.endline(d,this.writerOptions,this.currentLevel);return this.onData(T,this.currentLevel),d.isOpen=!0}},C.prototype.closeNode=function(d){var x;if(!d.isClosed)return x="",this.writerOptions.state=t.CloseTag,d.type===e.Element?x=this.writer.indent(d,this.writerOptions,this.currentLevel)+"</"+d.name+">"+this.writer.endline(d,this.writerOptions,this.currentLevel):x=this.writer.indent(d,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(d,this.writerOptions,this.currentLevel),this.writerOptions.state=t.None,this.onData(x,this.currentLevel),d.isClosed=!0},C.prototype.onData=function(d,x){return this.documentStarted=!0,this.onDataCallback(d,x+1)},C.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},C.prototype.debugInfo=function(d){return d==null?"":"node: <"+d+">"},C.prototype.ele=function(){return this.element.apply(this,arguments)},C.prototype.nod=function(d,x,T){return this.node(d,x,T)},C.prototype.txt=function(d){return this.text(d)},C.prototype.dat=function(d){return this.cdata(d)},C.prototype.com=function(d){return this.comment(d)},C.prototype.ins=function(d,x){return this.instruction(d,x)},C.prototype.dec=function(d,x,T){return this.declaration(d,x,T)},C.prototype.dtd=function(d,x,T){return this.doctype(d,x,T)},C.prototype.e=function(d,x,T){return this.element(d,x,T)},C.prototype.n=function(d,x,T){return this.node(d,x,T)},C.prototype.t=function(d){return this.text(d)},C.prototype.d=function(d){return this.cdata(d)},C.prototype.c=function(d){return this.comment(d)},C.prototype.r=function(d){return this.raw(d)},C.prototype.i=function(d,x){return this.instruction(d,x)},C.prototype.att=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},C.prototype.a=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},C.prototype.ent=function(d,x){return this.entity(d,x)},C.prototype.pent=function(d,x){return this.pEntity(d,x)},C.prototype.not=function(d,x){return this.notation(d,x)},C}()}.call(H)),Vr.exports}var Hr={exports:{}},Zs;function Im(){return Zs||(Zs=1,function(){var e,t,i,n=function(r,a){for(var u in a)o.call(a,u)&&(r[u]=a[u]);function f(){this.constructor=r}return f.prototype=a.prototype,r.prototype=new f,r.__super__=a.prototype,r},o={}.hasOwnProperty;e=re(),i=Il(),t=Un(),Hr.exports=function(r){n(a,r);function a(u,f){this.stream=u,a.__super__.constructor.call(this,f)}return a.prototype.endline=function(u,f,h){return u.isLastRootNode&&f.state===t.CloseTag?"":a.__super__.endline.call(this,u,f,h)},a.prototype.document=function(u,f){var h,p,s,l,c,m,_,E,A;for(_=u.children,p=s=0,c=_.length;s<c;p=++s)h=_[p],h.isLastRootNode=p===u.children.length-1;for(f=this.filterOptions(f),E=u.children,A=[],l=0,m=E.length;l<m;l++)h=E[l],A.push(this.writeChildNode(h,f,0));return A},a.prototype.attribute=function(u,f,h){return this.stream.write(a.__super__.attribute.call(this,u,f,h))},a.prototype.cdata=function(u,f,h){return this.stream.write(a.__super__.cdata.call(this,u,f,h))},a.prototype.comment=function(u,f,h){return this.stream.write(a.__super__.comment.call(this,u,f,h))},a.prototype.declaration=function(u,f,h){return this.stream.write(a.__super__.declaration.call(this,u,f,h))},a.prototype.docType=function(u,f,h){var p,s,l,c;if(h||(h=0),this.openNode(u,f,h),f.state=t.OpenTag,this.stream.write(this.indent(u,f,h)),this.stream.write("<!DOCTYPE "+u.root().name),u.pubID&&u.sysID?this.stream.write(' PUBLIC "'+u.pubID+'" "'+u.sysID+'"'):u.sysID&&this.stream.write(' SYSTEM "'+u.sysID+'"'),u.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(u,f,h)),f.state=t.InsideTag,c=u.children,s=0,l=c.length;s<l;s++)p=c[s],this.writeChildNode(p,f,h+1);f.state=t.CloseTag,this.stream.write("]")}return f.state=t.CloseTag,this.stream.write(f.spaceBeforeSlash+">"),this.stream.write(this.endline(u,f,h)),f.state=t.None,this.closeNode(u,f,h)},a.prototype.element=function(u,f,h){var p,s,l,c,m,_,E,A,v;h||(h=0),this.openNode(u,f,h),f.state=t.OpenTag,this.stream.write(this.indent(u,f,h)+"<"+u.name),A=u.attribs;for(E in A)o.call(A,E)&&(p=A[E],this.attribute(p,f,h));if(l=u.children.length,c=l===0?null:u.children[0],l===0||u.children.every(function(g){return(g.type===e.Text||g.type===e.Raw)&&g.value===""}))f.allowEmpty?(this.stream.write(">"),f.state=t.CloseTag,this.stream.write("</"+u.name+">")):(f.state=t.CloseTag,this.stream.write(f.spaceBeforeSlash+"/>"));else if(f.pretty&&l===1&&(c.type===e.Text||c.type===e.Raw)&&c.value!=null)this.stream.write(">"),f.state=t.InsideTag,f.suppressPrettyCount++,this.writeChildNode(c,f,h+1),f.suppressPrettyCount--,f.state=t.CloseTag,this.stream.write("</"+u.name+">");else{for(this.stream.write(">"+this.endline(u,f,h)),f.state=t.InsideTag,v=u.children,m=0,_=v.length;m<_;m++)s=v[m],this.writeChildNode(s,f,h+1);f.state=t.CloseTag,this.stream.write(this.indent(u,f,h)+"</"+u.name+">")}return this.stream.write(this.endline(u,f,h)),f.state=t.None,this.closeNode(u,f,h)},a.prototype.processingInstruction=function(u,f,h){return this.stream.write(a.__super__.processingInstruction.call(this,u,f,h))},a.prototype.raw=function(u,f,h){return this.stream.write(a.__super__.raw.call(this,u,f,h))},a.prototype.text=function(u,f,h){return this.stream.write(a.__super__.text.call(this,u,f,h))},a.prototype.dtdAttList=function(u,f,h){return this.stream.write(a.__super__.dtdAttList.call(this,u,f,h))},a.prototype.dtdElement=function(u,f,h){return this.stream.write(a.__super__.dtdElement.call(this,u,f,h))},a.prototype.dtdEntity=function(u,f,h){return this.stream.write(a.__super__.dtdEntity.call(this,u,f,h))},a.prototype.dtdNotation=function(u,f,h){return this.stream.write(a.__super__.dtdNotation.call(this,u,f,h))},a}(i)}.call(H)),Hr.exports}var Xs;function Cm(){return Xs||(Xs=1,function(){var e,t,i,n,o,r,a,u,f,h;h=at(),u=h.assign,f=h.isFunction,i=bl(),n=Cl(),o=Tm(),a=Wo(),r=Im(),e=re(),t=Un(),Qe.create=function(p,s,l,c){var m,_;if(p==null)throw new Error("Root element needs a name.");return c=u({},s,l,c),m=new n(c),_=m.element(p),c.headless||(m.declaration(c),(c.pubID!=null||c.sysID!=null)&&m.dtd(c)),_},Qe.begin=function(p,s,l){var c;return f(p)&&(c=[p,s],s=c[0],l=c[1],p={}),s?new o(p,s,l):new n(p)},Qe.stringWriter=function(p){return new a(p)},Qe.streamWriter=function(p,s){return new r(p,s)},Qe.implementation=new i,Qe.nodeType=e,Qe.writerState=t}.call(H)),Qe}var zs;function Om(){return zs||(zs=1,function(){var e,t,i,n,o,r={}.hasOwnProperty;e=Cm(),t=Ro().defaults,n=function(a){return typeof a=="string"&&(a.indexOf("&")>=0||a.indexOf(">")>=0||a.indexOf("<")>=0)},o=function(a){return"<![CDATA["+i(a)+"]]>"},i=function(a){return a.replace("]]>","]]]]><![CDATA[>")},hr.Builder=function(){function a(u){var f,h,p;this.options={},h=t["0.2"];for(f in h)r.call(h,f)&&(p=h[f],this.options[f]=p);for(f in u)r.call(u,f)&&(p=u[f],this.options[f]=p)}return a.prototype.buildObject=function(u){var f,h,p,s,l;return f=this.options.attrkey,h=this.options.charkey,Object.keys(u).length===1&&this.options.rootName===t["0.2"].rootName?(l=Object.keys(u)[0],u=u[l]):l=this.options.rootName,p=function(c){return function(m,_){var E,A,v,g,w,I;if(typeof _!="object")c.options.cdata&&n(_)?m.raw(o(_)):m.txt(_);else if(Array.isArray(_)){for(g in _)if(r.call(_,g)){A=_[g];for(w in A)v=A[w],m=p(m.ele(w),v).up()}}else for(w in _)if(r.call(_,w))if(A=_[w],w===f){if(typeof A=="object")for(E in A)I=A[E],m=m.att(E,I)}else if(w===h)c.options.cdata&&n(A)?m=m.raw(o(A)):m=m.txt(A);else if(Array.isArray(A))for(g in A)r.call(A,g)&&(v=A[g],typeof v=="string"?c.options.cdata&&n(v)?m=m.ele(w).raw(o(v)).up():m=m.ele(w,v).up():m=p(m.ele(w),v).up());else typeof A=="object"?m=p(m.ele(w),A).up():typeof A=="string"&&c.options.cdata&&n(A)?m=m.ele(w).raw(o(A)).up():(A==null&&(A=""),m=m.ele(w,A.toString()).up());return m}}(this),s=e.create(l,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),p(s,u).end(this.options.renderOpts)},a}()}.call(H)),hr}var Gr={},Zr={};const Sm=Ln(hd),Lm=Ln(Nh);var Ws;function Dm(){return Ws||(Ws=1,function(e){(function(t){t.parser=function(b,y){return new n(b,y)},t.SAXParser=n,t.SAXStream=p,t.createStream=h,t.MAX_BUFFER_LENGTH=64*1024;var i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(b,y){if(!(this instanceof n))return new n(b,y);var q=this;r(q),q.q=q.c="",q.bufferCheckPosition=t.MAX_BUFFER_LENGTH,q.opt=y||{},q.opt.lowercase=q.opt.lowercase||q.opt.lowercasetags,q.looseCase=q.opt.lowercase?"toLowerCase":"toUpperCase",q.tags=[],q.closed=q.closedRoot=q.sawRoot=!1,q.tag=q.error=null,q.strict=!!b,q.noscript=!!(b||q.opt.noscript),q.state=d.BEGIN,q.strictEntities=q.opt.strictEntities,q.ENTITIES=q.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),q.attribList=[],q.opt.xmlns&&(q.ns=Object.create(_)),q.trackPosition=q.opt.position!==!1,q.trackPosition&&(q.position=q.line=q.column=0),T(q,"onready")}Object.create||(Object.create=function(b){function y(){}y.prototype=b;var q=new y;return q}),Object.keys||(Object.keys=function(b){var y=[];for(var q in b)b.hasOwnProperty(q)&&y.push(q);return y});function o(b){for(var y=Math.max(t.MAX_BUFFER_LENGTH,10),q=0,O=0,W=i.length;O<W;O++){var oe=b[i[O]].length;if(oe>y)switch(i[O]){case"textNode":P(b);break;case"cdata":D(b,"oncdata",b.cdata),b.cdata="";break;case"script":D(b,"onscript",b.script),b.script="";break;default:B(b,"Max buffer length exceeded: "+i[O])}q=Math.max(q,oe)}var se=t.MAX_BUFFER_LENGTH-q;b.bufferCheckPosition=se+b.position}function r(b){for(var y=0,q=i.length;y<q;y++)b[i[y]]=""}function a(b){P(b),b.cdata!==""&&(D(b,"oncdata",b.cdata),b.cdata=""),b.script!==""&&(D(b,"onscript",b.script),b.script="")}n.prototype={end:function(){k(this)},write:Ce,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var u;try{u=Sm.Stream}catch{u=function(){}}var f=t.EVENTS.filter(function(b){return b!=="error"&&b!=="end"});function h(b,y){return new p(b,y)}function p(b,y){if(!(this instanceof p))return new p(b,y);u.apply(this),this._parser=new n(b,y),this.writable=!0,this.readable=!0;var q=this;this._parser.onend=function(){q.emit("end")},this._parser.onerror=function(O){q.emit("error",O),q._parser.error=null},this._decoder=null,f.forEach(function(O){Object.defineProperty(q,"on"+O,{get:function(){return q._parser["on"+O]},set:function(W){if(!W)return q.removeAllListeners(O),q._parser["on"+O]=W,W;q.on(O,W)},enumerable:!0,configurable:!1})})}p.prototype=Object.create(u.prototype,{constructor:{value:p}}),p.prototype.write=function(b){if(typeof M=="function"&&typeof M.isBuffer=="function"&&M.isBuffer(b)){if(!this._decoder){var y=Lm.StringDecoder;this._decoder=new y("utf8")}b=this._decoder.write(b)}return this._parser.write(b.toString()),this.emit("data",b),!0},p.prototype.end=function(b){return b&&b.length&&this.write(b),this._parser.end(),!0},p.prototype.on=function(b,y){var q=this;return!q._parser["on"+b]&&f.indexOf(b)!==-1&&(q._parser["on"+b]=function(){var O=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);O.splice(0,0,b),q.emit.apply(q,O)}),u.prototype.on.call(q,b,y)};var s="[CDATA[",l="DOCTYPE",c="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",_={xml:c,xmlns:m},E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,A=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function w(b){return b===" "||b===`
`||b==="\r"||b==="	"}function I(b){return b==='"'||b==="'"}function N(b){return b===">"||w(b)}function L(b,y){return b.test(y)}function C(b,y){return!L(b,y)}var d=0;t.STATE={BEGIN:d++,BEGIN_WHITESPACE:d++,TEXT:d++,TEXT_ENTITY:d++,OPEN_WAKA:d++,SGML_DECL:d++,SGML_DECL_QUOTED:d++,DOCTYPE:d++,DOCTYPE_QUOTED:d++,DOCTYPE_DTD:d++,DOCTYPE_DTD_QUOTED:d++,COMMENT_STARTING:d++,COMMENT:d++,COMMENT_ENDING:d++,COMMENT_ENDED:d++,CDATA:d++,CDATA_ENDING:d++,CDATA_ENDING_2:d++,PROC_INST:d++,PROC_INST_BODY:d++,PROC_INST_ENDING:d++,OPEN_TAG:d++,OPEN_TAG_SLASH:d++,ATTRIB:d++,ATTRIB_NAME:d++,ATTRIB_NAME_SAW_WHITE:d++,ATTRIB_VALUE:d++,ATTRIB_VALUE_QUOTED:d++,ATTRIB_VALUE_CLOSED:d++,ATTRIB_VALUE_UNQUOTED:d++,ATTRIB_VALUE_ENTITY_Q:d++,ATTRIB_VALUE_ENTITY_U:d++,CLOSE_TAG:d++,CLOSE_TAG_SAW_WHITE:d++,SCRIPT:d++,SCRIPT_ENDING:d++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(b){var y=t.ENTITIES[b],q=typeof y=="number"?String.fromCharCode(y):y;t.ENTITIES[b]=q});for(var x in t.STATE)t.STATE[t.STATE[x]]=x;d=t.STATE;function T(b,y,q){b[y]&&b[y](q)}function D(b,y,q){b.textNode&&P(b),T(b,y,q)}function P(b){b.textNode=F(b.opt,b.textNode),b.textNode&&T(b,"ontext",b.textNode),b.textNode=""}function F(b,y){return b.trim&&(y=y.trim()),b.normalize&&(y=y.replace(/\s+/g," ")),y}function B(b,y){return P(b),b.trackPosition&&(y+=`
Line: `+b.line+`
Column: `+b.column+`
Char: `+b.c),y=new Error(y),b.error=y,T(b,"onerror",y),b}function k(b){return b.sawRoot&&!b.closedRoot&&j(b,"Unclosed root tag"),b.state!==d.BEGIN&&b.state!==d.BEGIN_WHITESPACE&&b.state!==d.TEXT&&B(b,"Unexpected end"),P(b),b.c="",b.closed=!0,T(b,"onend"),n.call(b,b.strict,b.opt),b}function j(b,y){if(typeof b!="object"||!(b instanceof n))throw new Error("bad call to strictFail");b.strict&&B(b,y)}function ie(b){b.strict||(b.tagName=b.tagName[b.looseCase]());var y=b.tags[b.tags.length-1]||b,q=b.tag={name:b.tagName,attributes:{}};b.opt.xmlns&&(q.ns=y.ns),b.attribList.length=0,D(b,"onopentagstart",q)}function ne(b,y){var q=b.indexOf(":"),O=q<0?["",b]:b.split(":"),W=O[0],oe=O[1];return y&&b==="xmlns"&&(W="xmlns",oe=""),{prefix:W,local:oe}}function _e(b){if(b.strict||(b.attribName=b.attribName[b.looseCase]()),b.attribList.indexOf(b.attribName)!==-1||b.tag.attributes.hasOwnProperty(b.attribName)){b.attribName=b.attribValue="";return}if(b.opt.xmlns){var y=ne(b.attribName,!0),q=y.prefix,O=y.local;if(q==="xmlns")if(O==="xml"&&b.attribValue!==c)j(b,"xml: prefix must be bound to "+c+`
Actual: `+b.attribValue);else if(O==="xmlns"&&b.attribValue!==m)j(b,"xmlns: prefix must be bound to "+m+`
Actual: `+b.attribValue);else{var W=b.tag,oe=b.tags[b.tags.length-1]||b;W.ns===oe.ns&&(W.ns=Object.create(oe.ns)),W.ns[O]=b.attribValue}b.attribList.push([b.attribName,b.attribValue])}else b.tag.attributes[b.attribName]=b.attribValue,D(b,"onattribute",{name:b.attribName,value:b.attribValue});b.attribName=b.attribValue=""}function pe(b,y){if(b.opt.xmlns){var q=b.tag,O=ne(b.tagName);q.prefix=O.prefix,q.local=O.local,q.uri=q.ns[O.prefix]||"",q.prefix&&!q.uri&&(j(b,"Unbound namespace prefix: "+JSON.stringify(b.tagName)),q.uri=O.prefix);var W=b.tags[b.tags.length-1]||b;q.ns&&W.ns!==q.ns&&Object.keys(q.ns).forEach(function(ta){D(b,"onopennamespace",{prefix:ta,uri:q.ns[ta]})});for(var oe=0,se=b.attribList.length;oe<se;oe++){var ye=b.attribList[oe],Fe=ye[0],$t=ye[1],ce=ne(Fe,!0),We=ce.prefix,Hl=ce.local,ea=We===""?"":q.ns[We]||"",Vn={name:Fe,value:$t,prefix:We,local:Hl,uri:ea};We&&We!=="xmlns"&&!ea&&(j(b,"Unbound namespace prefix: "+JSON.stringify(We)),Vn.uri=We),b.tag.attributes[Fe]=Vn,D(b,"onattribute",Vn)}b.attribList.length=0}b.tag.isSelfClosing=!!y,b.sawRoot=!0,b.tags.push(b.tag),D(b,"onopentag",b.tag),y||(!b.noscript&&b.tagName.toLowerCase()==="script"?b.state=d.SCRIPT:b.state=d.TEXT,b.tag=null,b.tagName=""),b.attribName=b.attribValue="",b.attribList.length=0}function be(b){if(!b.tagName){j(b,"Weird empty close tag."),b.textNode+="</>",b.state=d.TEXT;return}if(b.script){if(b.tagName!=="script"){b.script+="</"+b.tagName+">",b.tagName="",b.state=d.SCRIPT;return}D(b,"onscript",b.script),b.script=""}var y=b.tags.length,q=b.tagName;b.strict||(q=q[b.looseCase]());for(var O=q;y--;){var W=b.tags[y];if(W.name!==O)j(b,"Unexpected close tag");else break}if(y<0){j(b,"Unmatched closing tag: "+b.tagName),b.textNode+="</"+b.tagName+">",b.state=d.TEXT;return}b.tagName=q;for(var oe=b.tags.length;oe-- >y;){var se=b.tag=b.tags.pop();b.tagName=b.tag.name,D(b,"onclosetag",b.tagName);var ye={};for(var Fe in se.ns)ye[Fe]=se.ns[Fe];var $t=b.tags[b.tags.length-1]||b;b.opt.xmlns&&se.ns!==$t.ns&&Object.keys(se.ns).forEach(function(ce){var We=se.ns[ce];D(b,"onclosenamespace",{prefix:ce,uri:We})})}y===0&&(b.closedRoot=!0),b.tagName=b.attribValue=b.attribName="",b.attribList.length=0,b.state=d.TEXT}function St(b){var y=b.entity,q=y.toLowerCase(),O,W="";return b.ENTITIES[y]?b.ENTITIES[y]:b.ENTITIES[q]?b.ENTITIES[q]:(y=q,y.charAt(0)==="#"&&(y.charAt(1)==="x"?(y=y.slice(2),O=parseInt(y,16),W=O.toString(16)):(y=y.slice(1),O=parseInt(y,10),W=O.toString(10))),y=y.replace(/^0+/,""),isNaN(O)||W.toLowerCase()!==y?(j(b,"Invalid character entity"),"&"+b.entity+";"):String.fromCodePoint(O))}function ze(b,y){y==="<"?(b.state=d.OPEN_WAKA,b.startTagPosition=b.position):w(y)||(j(b,"Non-whitespace before first tag."),b.textNode=y,b.state=d.TEXT)}function Kt(b,y){var q="";return y<b.length&&(q=b.charAt(y)),q}function Ce(b){var y=this;if(this.error)throw this.error;if(y.closed)return B(y,"Cannot write after close. Assign an onready handler.");if(b===null)return k(y);typeof b=="object"&&(b=b.toString());for(var q=0,O="";O=Kt(b,q++),y.c=O,!!O;)switch(y.trackPosition&&(y.position++,O===`
`?(y.line++,y.column=0):y.column++),y.state){case d.BEGIN:if(y.state=d.BEGIN_WHITESPACE,O==="\uFEFF")continue;ze(y,O);continue;case d.BEGIN_WHITESPACE:ze(y,O);continue;case d.TEXT:if(y.sawRoot&&!y.closedRoot){for(var W=q-1;O&&O!=="<"&&O!=="&";)O=Kt(b,q++),O&&y.trackPosition&&(y.position++,O===`
`?(y.line++,y.column=0):y.column++);y.textNode+=b.substring(W,q-1)}O==="<"&&!(y.sawRoot&&y.closedRoot&&!y.strict)?(y.state=d.OPEN_WAKA,y.startTagPosition=y.position):(!w(O)&&(!y.sawRoot||y.closedRoot)&&j(y,"Text data outside of root node."),O==="&"?y.state=d.TEXT_ENTITY:y.textNode+=O);continue;case d.SCRIPT:O==="<"?y.state=d.SCRIPT_ENDING:y.script+=O;continue;case d.SCRIPT_ENDING:O==="/"?y.state=d.CLOSE_TAG:(y.script+="<"+O,y.state=d.SCRIPT);continue;case d.OPEN_WAKA:if(O==="!")y.state=d.SGML_DECL,y.sgmlDecl="";else if(!w(O))if(L(E,O))y.state=d.OPEN_TAG,y.tagName=O;else if(O==="/")y.state=d.CLOSE_TAG,y.tagName="";else if(O==="?")y.state=d.PROC_INST,y.procInstName=y.procInstBody="";else{if(j(y,"Unencoded <"),y.startTagPosition+1<y.position){var oe=y.position-y.startTagPosition;O=new Array(oe).join(" ")+O}y.textNode+="<"+O,y.state=d.TEXT}continue;case d.SGML_DECL:(y.sgmlDecl+O).toUpperCase()===s?(D(y,"onopencdata"),y.state=d.CDATA,y.sgmlDecl="",y.cdata=""):y.sgmlDecl+O==="--"?(y.state=d.COMMENT,y.comment="",y.sgmlDecl=""):(y.sgmlDecl+O).toUpperCase()===l?(y.state=d.DOCTYPE,(y.doctype||y.sawRoot)&&j(y,"Inappropriately located doctype declaration"),y.doctype="",y.sgmlDecl=""):O===">"?(D(y,"onsgmldeclaration",y.sgmlDecl),y.sgmlDecl="",y.state=d.TEXT):(I(O)&&(y.state=d.SGML_DECL_QUOTED),y.sgmlDecl+=O);continue;case d.SGML_DECL_QUOTED:O===y.q&&(y.state=d.SGML_DECL,y.q=""),y.sgmlDecl+=O;continue;case d.DOCTYPE:O===">"?(y.state=d.TEXT,D(y,"ondoctype",y.doctype),y.doctype=!0):(y.doctype+=O,O==="["?y.state=d.DOCTYPE_DTD:I(O)&&(y.state=d.DOCTYPE_QUOTED,y.q=O));continue;case d.DOCTYPE_QUOTED:y.doctype+=O,O===y.q&&(y.q="",y.state=d.DOCTYPE);continue;case d.DOCTYPE_DTD:y.doctype+=O,O==="]"?y.state=d.DOCTYPE:I(O)&&(y.state=d.DOCTYPE_DTD_QUOTED,y.q=O);continue;case d.DOCTYPE_DTD_QUOTED:y.doctype+=O,O===y.q&&(y.state=d.DOCTYPE_DTD,y.q="");continue;case d.COMMENT:O==="-"?y.state=d.COMMENT_ENDING:y.comment+=O;continue;case d.COMMENT_ENDING:O==="-"?(y.state=d.COMMENT_ENDED,y.comment=F(y.opt,y.comment),y.comment&&D(y,"oncomment",y.comment),y.comment=""):(y.comment+="-"+O,y.state=d.COMMENT);continue;case d.COMMENT_ENDED:O!==">"?(j(y,"Malformed comment"),y.comment+="--"+O,y.state=d.COMMENT):y.state=d.TEXT;continue;case d.CDATA:O==="]"?y.state=d.CDATA_ENDING:y.cdata+=O;continue;case d.CDATA_ENDING:O==="]"?y.state=d.CDATA_ENDING_2:(y.cdata+="]"+O,y.state=d.CDATA);continue;case d.CDATA_ENDING_2:O===">"?(y.cdata&&D(y,"oncdata",y.cdata),D(y,"onclosecdata"),y.cdata="",y.state=d.TEXT):O==="]"?y.cdata+="]":(y.cdata+="]]"+O,y.state=d.CDATA);continue;case d.PROC_INST:O==="?"?y.state=d.PROC_INST_ENDING:w(O)?y.state=d.PROC_INST_BODY:y.procInstName+=O;continue;case d.PROC_INST_BODY:if(!y.procInstBody&&w(O))continue;O==="?"?y.state=d.PROC_INST_ENDING:y.procInstBody+=O;continue;case d.PROC_INST_ENDING:O===">"?(D(y,"onprocessinginstruction",{name:y.procInstName,body:y.procInstBody}),y.procInstName=y.procInstBody="",y.state=d.TEXT):(y.procInstBody+="?"+O,y.state=d.PROC_INST_BODY);continue;case d.OPEN_TAG:L(A,O)?y.tagName+=O:(ie(y),O===">"?pe(y):O==="/"?y.state=d.OPEN_TAG_SLASH:(w(O)||j(y,"Invalid character in tag name"),y.state=d.ATTRIB));continue;case d.OPEN_TAG_SLASH:O===">"?(pe(y,!0),be(y)):(j(y,"Forward-slash in opening tag not followed by >"),y.state=d.ATTRIB);continue;case d.ATTRIB:if(w(O))continue;O===">"?pe(y):O==="/"?y.state=d.OPEN_TAG_SLASH:L(E,O)?(y.attribName=O,y.attribValue="",y.state=d.ATTRIB_NAME):j(y,"Invalid attribute name");continue;case d.ATTRIB_NAME:O==="="?y.state=d.ATTRIB_VALUE:O===">"?(j(y,"Attribute without value"),y.attribValue=y.attribName,_e(y),pe(y)):w(O)?y.state=d.ATTRIB_NAME_SAW_WHITE:L(A,O)?y.attribName+=O:j(y,"Invalid attribute name");continue;case d.ATTRIB_NAME_SAW_WHITE:if(O==="=")y.state=d.ATTRIB_VALUE;else{if(w(O))continue;j(y,"Attribute without value"),y.tag.attributes[y.attribName]="",y.attribValue="",D(y,"onattribute",{name:y.attribName,value:""}),y.attribName="",O===">"?pe(y):L(E,O)?(y.attribName=O,y.state=d.ATTRIB_NAME):(j(y,"Invalid attribute name"),y.state=d.ATTRIB)}continue;case d.ATTRIB_VALUE:if(w(O))continue;I(O)?(y.q=O,y.state=d.ATTRIB_VALUE_QUOTED):(j(y,"Unquoted attribute value"),y.state=d.ATTRIB_VALUE_UNQUOTED,y.attribValue=O);continue;case d.ATTRIB_VALUE_QUOTED:if(O!==y.q){O==="&"?y.state=d.ATTRIB_VALUE_ENTITY_Q:y.attribValue+=O;continue}_e(y),y.q="",y.state=d.ATTRIB_VALUE_CLOSED;continue;case d.ATTRIB_VALUE_CLOSED:w(O)?y.state=d.ATTRIB:O===">"?pe(y):O==="/"?y.state=d.OPEN_TAG_SLASH:L(E,O)?(j(y,"No whitespace between attributes"),y.attribName=O,y.attribValue="",y.state=d.ATTRIB_NAME):j(y,"Invalid attribute name");continue;case d.ATTRIB_VALUE_UNQUOTED:if(!N(O)){O==="&"?y.state=d.ATTRIB_VALUE_ENTITY_U:y.attribValue+=O;continue}_e(y),O===">"?pe(y):y.state=d.ATTRIB;continue;case d.CLOSE_TAG:if(y.tagName)O===">"?be(y):L(A,O)?y.tagName+=O:y.script?(y.script+="</"+y.tagName,y.tagName="",y.state=d.SCRIPT):(w(O)||j(y,"Invalid tagname in closing tag"),y.state=d.CLOSE_TAG_SAW_WHITE);else{if(w(O))continue;C(E,O)?y.script?(y.script+="</"+O,y.state=d.SCRIPT):j(y,"Invalid tagname in closing tag."):y.tagName=O}continue;case d.CLOSE_TAG_SAW_WHITE:if(w(O))continue;O===">"?be(y):j(y,"Invalid characters in closing tag");continue;case d.TEXT_ENTITY:case d.ATTRIB_VALUE_ENTITY_Q:case d.ATTRIB_VALUE_ENTITY_U:var se,ye;switch(y.state){case d.TEXT_ENTITY:se=d.TEXT,ye="textNode";break;case d.ATTRIB_VALUE_ENTITY_Q:se=d.ATTRIB_VALUE_QUOTED,ye="attribValue";break;case d.ATTRIB_VALUE_ENTITY_U:se=d.ATTRIB_VALUE_UNQUOTED,ye="attribValue";break}O===";"?(y[ye]+=St(y),y.entity="",y.state=se):L(y.entity.length?g:v,O)?y.entity+=O:(j(y,"Invalid character in entity name"),y[ye]+="&"+y.entity+O,y.entity="",y.state=se);continue;default:throw new Error(y,"Unknown state: "+y.state)}return y.position>=y.bufferCheckPosition&&o(y),y}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var b=String.fromCharCode,y=Math.floor,q=function(){var O=16384,W=[],oe,se,ye=-1,Fe=arguments.length;if(!Fe)return"";for(var $t="";++ye<Fe;){var ce=Number(arguments[ye]);if(!isFinite(ce)||ce<0||ce>1114111||y(ce)!==ce)throw RangeError("Invalid code point: "+ce);ce<=65535?W.push(ce):(ce-=65536,oe=(ce>>10)+55296,se=ce%1024+56320,W.push(oe,se)),(ye+1===Fe||W.length>O)&&($t+=b.apply(null,W),W.length=0)}return $t};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:q,configurable:!0,writable:!0}):String.fromCodePoint=q}()})(e)}(Zr)),Zr}const Mm=Ln(mh);var Xr={},Ys;function Nm(){return Ys||(Ys=1,function(){Xr.stripBOM=function(e){return e[0]==="\uFEFF"?e.substring(1):e}}.call(H)),Xr}var Mt={},Js;function Ol(){return Js||(Js=1,function(){var e;e=new RegExp(/(?!xmlns)^.*:/),Mt.normalize=function(t){return t.toLowerCase()},Mt.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},Mt.stripPrefix=function(t){return t.replace(e,"")},Mt.parseNumbers=function(t){return isNaN(t)||(t=t%1===0?parseInt(t,10):parseFloat(t)),t},Mt.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t=t.toLowerCase()==="true"),t}}.call(H)),Mt}var zr=1,Yo={},Wr=!1,On=Q.document,vi;function Sl(e){typeof e!="function"&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return Yo[zr]=n,vi(zr),zr++}function Jo(e){delete Yo[e]}function Rm(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(void 0,i);break}}function Ai(e){if(Wr)setTimeout(Ai,0,e);else{var t=Yo[e];if(t){Wr=!0;try{Rm(t)}finally{Jo(e),Wr=!1}}}}function qm(){vi=function(e){nt.nextTick(function(){Ai(e)})}}function km(){if(Q.postMessage&&!Q.importScripts){var e=!0,t=Q.onmessage;return Q.onmessage=function(){e=!1},Q.postMessage("","*"),Q.onmessage=t,e}}function Pm(){var e="setImmediate$"+Math.random()+"$",t=function(i){i.source===Q&&typeof i.data=="string"&&i.data.indexOf(e)===0&&Ai(+i.data.slice(e.length))};Q.addEventListener?Q.addEventListener("message",t,!1):Q.attachEvent("onmessage",t),vi=function(i){Q.postMessage(e+i,"*")}}function Fm(){var e=new MessageChannel;e.port1.onmessage=function(t){var i=t.data;Ai(i)},vi=function(t){e.port2.postMessage(t)}}function Bm(){var e=On.documentElement;vi=function(t){var i=On.createElement("script");i.onreadystatechange=function(){Ai(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i)}}function Um(){vi=function(e){setTimeout(Ai,0,e)}}var cn=Object.getPrototypeOf&&Object.getPrototypeOf(Q);cn=cn&&cn.setTimeout?cn:Q;({}).toString.call(Q.process)==="[object process]"?qm():km()?Pm():Q.MessageChannel?Fm():On&&"onreadystatechange"in On.createElement("script")?Bm():Um();var Ll=Function.prototype.apply;function Dl(e){typeof e=="number"&&typeof Q.clearInterval=="function"?Q.clearInterval(e):Qo(e)}function Qi(e){typeof e=="number"&&typeof Q.clearTimeout=="function"?Q.clearTimeout(e):Qo(e)}function Qo(e){e&&typeof e.close=="function"&&e.close()}function Ko(){return new Zi(Ll.call(Q.setTimeout,window,arguments))}function Ml(){return new Zi(Ll.call(Q.setInterval,window,arguments))}function Zi(e){this._id=e}Zi.prototype.unref=Zi.prototype.ref=function(){};Zi.prototype.close=function(){Qo(this._id)};function Nl(e,t){Qi(e._idleTimeoutId),e._idleTimeout=t}function Rl(e){Qi(e._idleTimeoutId),e._idleTimeout=-1}var ql=$o;function $o(e){Qi(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=Ko(function(){e._onTimeout&&e._onTimeout()},t))}const jm={setImmediate:Sl,clearImmediate:Jo,setTimeout:Ko,clearTimeout:Qi,setInterval:Ml,clearInterval:Dl,active:$o,unenroll:Rl,_unrefActive:ql,enroll:Nl},Vm=Object.freeze(Object.defineProperty({__proto__:null,_unrefActive:ql,active:$o,clearImmediate:Jo,clearInterval:Dl,clearTimeout:Qi,default:jm,enroll:Nl,setImmediate:Sl,setInterval:Ml,setTimeout:Ko,unenroll:Rl},Symbol.toStringTag,{value:"Module"})),Hm=Ln(Vm);var Qs;function Gm(){return Qs||(Qs=1,function(e){(function(){var t,i,n,o,r,a,u,f,h=function(l,c){return function(){return l.apply(c,arguments)}},p=function(l,c){for(var m in c)s.call(c,m)&&(l[m]=c[m]);function _(){this.constructor=l}return _.prototype=c.prototype,l.prototype=new _,l.__super__=c.prototype,l},s={}.hasOwnProperty;u=Dm(),n=Mm,t=Nm(),a=Ol(),f=Hm.setImmediate,i=Ro().defaults,o=function(l){return typeof l=="object"&&l!=null&&Object.keys(l).length===0},r=function(l,c,m){var _,E,A;for(_=0,E=l.length;_<E;_++)A=l[_],c=A(c,m);return c},e.Parser=function(l){p(c,l);function c(m){this.parseStringPromise=h(this.parseStringPromise,this),this.parseString=h(this.parseString,this),this.reset=h(this.reset,this),this.assignOrPush=h(this.assignOrPush,this),this.processAsync=h(this.processAsync,this);var _,E,A;if(!(this instanceof e.Parser))return new e.Parser(m);this.options={},E=i["0.2"];for(_ in E)s.call(E,_)&&(A=E[_],this.options[_]=A);for(_ in m)s.call(m,_)&&(A=m[_],this.options[_]=A);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(a.normalize)),this.reset()}return c.prototype.processAsync=function(){var m,_;try{return this.remaining.length<=this.options.chunkSize?(m=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(m),this.saxParser.close()):(m=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(m),f(this.processAsync))}catch(E){if(_=E,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(_)}},c.prototype.assignOrPush=function(m,_,E){return _ in m?(m[_]instanceof Array||(m[_]=[m[_]]),m[_].push(E)):this.options.explicitArray?m[_]=[E]:m[_]=E},c.prototype.reset=function(){var m,_,E,A;return this.removeAllListeners(),this.saxParser=u.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(v){return function(g){if(v.saxParser.resume(),!v.saxParser.errThrown)return v.saxParser.errThrown=!0,v.emit("error",g)}}(this),this.saxParser.onend=function(v){return function(){if(!v.saxParser.ended)return v.saxParser.ended=!0,v.emit("end",v.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,A=[],m=this.options.attrkey,_=this.options.charkey,this.saxParser.onopentag=function(v){return function(g){var w,I,N,L,C;if(N={},N[_]="",!v.options.ignoreAttrs){C=g.attributes;for(w in C)s.call(C,w)&&(!(m in N)&&!v.options.mergeAttrs&&(N[m]={}),I=v.options.attrValueProcessors?r(v.options.attrValueProcessors,g.attributes[w],w):g.attributes[w],L=v.options.attrNameProcessors?r(v.options.attrNameProcessors,w):w,v.options.mergeAttrs?v.assignOrPush(N,L,I):N[m][L]=I)}return N["#name"]=v.options.tagNameProcessors?r(v.options.tagNameProcessors,g.name):g.name,v.options.xmlns&&(N[v.options.xmlnskey]={uri:g.uri,local:g.local}),A.push(N)}}(this),this.saxParser.onclosetag=function(v){return function(){var g,w,I,N,L,C,d,x,T,D;if(C=A.pop(),L=C["#name"],(!v.options.explicitChildren||!v.options.preserveChildrenOrder)&&delete C["#name"],C.cdata===!0&&(g=C.cdata,delete C.cdata),T=A[A.length-1],C[_].match(/^\s*$/)&&!g?(w=C[_],delete C[_]):(v.options.trim&&(C[_]=C[_].trim()),v.options.normalize&&(C[_]=C[_].replace(/\s{2,}/g," ").trim()),C[_]=v.options.valueProcessors?r(v.options.valueProcessors,C[_],L):C[_],Object.keys(C).length===1&&_ in C&&!v.EXPLICIT_CHARKEY&&(C=C[_])),o(C)&&(C=v.options.emptyTag!==""?v.options.emptyTag:w),v.options.validator!=null&&(D="/"+function(){var P,F,B;for(B=[],P=0,F=A.length;P<F;P++)N=A[P],B.push(N["#name"]);return B}().concat(L).join("/"),function(){var P;try{return C=v.options.validator(D,T&&T[L],C)}catch(F){return P=F,v.emit("error",P)}}()),v.options.explicitChildren&&!v.options.mergeAttrs&&typeof C=="object"){if(!v.options.preserveChildrenOrder)N={},v.options.attrkey in C&&(N[v.options.attrkey]=C[v.options.attrkey],delete C[v.options.attrkey]),!v.options.charsAsChildren&&v.options.charkey in C&&(N[v.options.charkey]=C[v.options.charkey],delete C[v.options.charkey]),Object.getOwnPropertyNames(C).length>0&&(N[v.options.childkey]=C),C=N;else if(T){T[v.options.childkey]=T[v.options.childkey]||[],d={};for(I in C)s.call(C,I)&&(d[I]=C[I]);T[v.options.childkey].push(d),delete C["#name"],Object.keys(C).length===1&&_ in C&&!v.EXPLICIT_CHARKEY&&(C=C[_])}}return A.length>0?v.assignOrPush(T,L,C):(v.options.explicitRoot&&(x=C,C={},C[L]=x),v.resultObject=C,v.saxParser.ended=!0,v.emit("end",v.resultObject))}}(this),E=function(v){return function(g){var w,I;if(I=A[A.length-1],I)return I[_]+=g,v.options.explicitChildren&&v.options.preserveChildrenOrder&&v.options.charsAsChildren&&(v.options.includeWhiteChars||g.replace(/\\n/g,"").trim()!=="")&&(I[v.options.childkey]=I[v.options.childkey]||[],w={"#name":"__text__"},w[_]=g,v.options.normalize&&(w[_]=w[_].replace(/\s{2,}/g," ").trim()),I[v.options.childkey].push(w)),I}}(this),this.saxParser.ontext=E,this.saxParser.oncdata=function(v){return function(g){var w;if(w=E(g),w)return w.cdata=!0}}()},c.prototype.parseString=function(m,_){var E;_!=null&&typeof _=="function"&&(this.on("end",function(A){return this.reset(),_(null,A)}),this.on("error",function(A){return this.reset(),_(A)}));try{return m=m.toString(),m.trim()===""?(this.emit("end",null),!0):(m=t.stripBOM(m),this.options.async?(this.remaining=m,f(this.processAsync),this.saxParser):this.saxParser.write(m).close())}catch(A){if(E=A,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw E}else return this.emit("error",E),this.saxParser.errThrown=!0}},c.prototype.parseStringPromise=function(m){return new Promise(function(_){return function(E,A){return _.parseString(m,function(v,g){return v?A(v):E(g)})}}(this))},c}(n),e.parseString=function(l,c,m){var _,E,A;return m!=null?(typeof m=="function"&&(_=m),typeof c=="object"&&(E=c)):(typeof c=="function"&&(_=c),E={}),A=new e.Parser(E),A.parseString(l,_)},e.parseStringPromise=function(l,c){var m,_;return typeof c=="object"&&(m=c),_=new e.Parser(m),_.parseStringPromise(l)}}).call(H)}(Gr)),Gr}var kl;(function(){var e,t,i,n=function(r,a){for(var u in a)o.call(a,u)&&(r[u]=a[u]);function f(){this.constructor=r}return f.prototype=a.prototype,r.prototype=new f,r.__super__=a.prototype,r},o={}.hasOwnProperty;t=Ro(),e=Om(),i=Gm(),Ol(),t.defaults,function(r){n(a,r);function a(u){this.message=u}return a}(Error),e.Builder,i.Parser,kl=i.parseString,i.parseStringPromise}).call(H);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Tt(e,t,i,n){function o(r){return r instanceof i?r:new i(function(a){a(r)})}return new(i||(i=Promise))(function(r,a){function u(p){try{h(n.next(p))}catch(s){a(s)}}function f(p){try{h(n.throw(p))}catch(s){a(s)}}function h(p){p.done?r(p.value):o(p.value).then(u,f)}h((n=n.apply(e,t||[])).next())})}var ui;(function(e){e.ELLIPSE="ellipse",e.POINT="point",e.POLYGON="polygon",e.RECTANGLE="rectangle"})(ui||(ui={}));var Ee;(function(e){e.EDITOR_SETTINGS="editorsettings",e.GROUP="group",e.IMAGE_LAYER="imagelayer",e.LAYER="layer",e.OBJECT_GROUP="objectgroup",e.PROPERTIES="properties",e.TILESET="tileset"})(Ee||(Ee={}));var Sn;(function(e){e.BASE64="base64",e.CSV="csv"})(Sn||(Sn={}));var qi;(function(e){e.GZIP="gzip",e.ZLIB="zlib"})(qi||(qi={}));var bt;(function(e){e[e.DIAGONALLY=536870912]="DIAGONALLY",e[e.HORIZONTALLY=2147483648]="HORIZONTALLY",e[e.VERTICALLY=1073741824]="VERTICALLY"})(bt||(bt={}));const ot=e=>!!(e&&e.length>0),Zm=e=>!!e.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z-]+=[a-z-]+)?)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i),Xm=e=>Tt(void 0,void 0,void 0,function*(){return new Promise(t=>{fetch(e).then(i=>i.text()).then(i=>t(i))})}),Ks=(e,t)=>{const i=[];if(e.length!==t)throw new Error(`Expected ${t} bytes of tile data; received ${e.length}`);for(let n=0;n<t;n+=4)i.push(e.readUInt32LE(n));return i},Ze=e=>e&&Object.entries(e).map(([t,i])=>({[t]:i})),jn=e=>({properties:e&&Object.assign({},...e.map(({property:t})=>Object.assign({},...t.map(({$:{name:i,value:n},_:o})=>({[i]:n||o})))))||null}),Pl=e=>({H:!!(e&bt.HORIZONTALLY),V:!!(e&bt.VERTICALLY),D:!!(e&bt.DIAGONALLY)}),Fl=e=>e&=~(bt.HORIZONTALLY|bt.VERTICALLY|bt.DIAGONALLY),zm=e=>e.point&&ui.POINT||e.ellipse&&ui.ELLIPSE||e.polygon&&ui.POLYGON||ui.RECTANGLE,Wm=e=>{if(e==="true")return!0;if(e==="false")return!1;if(`${e}`.match(/^[+-]?\d+(\.\d+)?$/g)){const t=parseFloat(e);return isNaN(t)?e:t}return e},Ym=e=>Tt(void 0,void 0,void 0,function*(){const t=Zm(e)?yield Xm(e):e;return new Promise(i=>kl(t,{explicitChildren:!0,preserveChildrenOrder:!0,attrValueProcessors:[n=>Wm(n)]},(n,o)=>{if(n)throw n;i(o)}))}),Bl=e=>{const{$:t,properties:i,polygon:n,text:o}=e,r=Object.assign(Object.assign(Object.assign({shape:zm(e)},ot(n)&&{points:n[0].$.points.split(" ").map(a=>{const[u,f]=a.split(",");return[parseFloat(u),parseFloat(f)]})}),jn(i)),...Ze(t));return o&&(r.text=o[0]._,r.properties=Object.assign({},r.properties,o[0].$)),r.gid&&(r.flips=Pl(r.gid),r.gid=Fl(r.gid)),r},Jm=e=>{const{$:t,image:i,object:n,properties:o}=e;return Object.assign(Object.assign(Object.assign(Object.assign({type:e["#name"],visible:1},ot(i)&&{image:Object.assign({},...Ze(i[0].$))}),ot(n)&&{objects:n.map(r=>Bl(r))}),jn(o)),...Ze(t))},Qm=e=>{const{$:t,animation:i,objectgroup:n}=e,o=ot(n)&&n[0].object;return Object.assign(Object.assign(Object.assign({},ot(i)&&{animation:{frames:i[0].frame.map(({$:r})=>Object.assign({},...Ze(r)))}}),ot(o)&&{objects:o.map(r=>Bl(r))}),...Ze(t))},Km=(e,t,i)=>Tt(void 0,void 0,void 0,function*(){return Object.assign(Object.assign({type:e["#name"],layers:ot(e.$$)?yield Promise.all(e.$$.map(n=>Ul(n,t,i))):[]},jn(e.properties)),...Ze(e.$))}),$m=e=>{const{$:t,$$:i,tile:n}=e,o=i&&Object.assign({},...Ze(i[0].$));if(o){const r=ot(n)&&n.map(a=>Qm(a));return Object.assign({},...Ze(t),{image:o,tiles:r})}else throw new Error("Tilesets should be embeded in a map file.")};function eg(e,t,i){return Tt(this,void 0,void 0,function*(){const{data:n,properties:o}=e;if(!ot(n))throw new Error("TMXLayer data corrupted!");const r=Object.assign(Object.assign(Object.assign(Object.assign({},i?{flips:[]}:{}),{type:e["#name"],visible:1}),jn(o)),...Ze(e.$)),{_:a,$:u,tile:f}=n[0];if(f)r.data=f.map(({$:h})=>h&&h.gid||0);else{const{encoding:h,compression:p}=u,s=a.trim();switch(h){case Sn.CSV:r.data=s.split(",");break;case Sn.BASE64:const l=new M(s,h);switch(p){case null:case void 0:r.data=Ks(l,t);break;case qi.GZIP:case qi.ZLIB:const c=p===qi.GZIP?hs.gunzip:hs.inflate;r.data=yield new Promise((m,_)=>c(l,(E,A)=>{E&&_(E),m(Ks(A,t))}));break;default:throw new Error(`unsupported compression: ${p}`)}}}return r.data.map((h,p)=>{i?(r.flips[p]=Pl(h),r.data[p]=Fl(h)):r.data[p]=h}),r})}const Ul=(e,t,i)=>Tt(void 0,void 0,void 0,function*(){switch(e["#name"]){case Ee.GROUP:return yield Km(e,t,i);case Ee.LAYER:return yield eg(e,t,i);case Ee.IMAGE_LAYER:case Ee.OBJECT_GROUP:return Jm(e)}});function tg(e,t){return Tt(this,void 0,void 0,function*(){const{map:{$:i,$$:n}}=yield Ym(e),o=Object.assign({layers:[],tilesets:[],backgroundcolor:"",height:0,infinite:0,nextlayerid:0,nextobjectid:0,orientation:"",renderorder:"",tiledversion:"",tileheight:0,tilewidth:0,version:0,width:0,properties:void 0},...Ze(i)),r=o.width*o.height*4;return yield Promise.all(n.map((a,u)=>Tt(this,void 0,void 0,function*(){switch(a["#name"]){case Ee.PROPERTIES:o.properties=Object.assign({},...a.$$.map(({$:{name:f,value:h}})=>({[f]:h})));break;case Ee.EDITOR_SETTINGS:o.editorsettings=Object.assign({},...a.$$.map(f=>({[f["#name"]]:f.$})));break;case Ee.TILESET:o.tilesets.push($m(a));break;case Ee.GROUP:case Ee.IMAGE_LAYER:case Ee.LAYER:case Ee.OBJECT_GROUP:o.layers[u]=yield Ul(a,r,t);break}}))),Object.assign(Object.assign({},o),{layers:Object.values(o.layers)})})}const ig=(e,t=!1)=>Tt(void 0,void 0,void 0,function*(){return yield tg(e,t)}),ng=`<?xml version="1.0" encoding="UTF-8"?>
<map version="1.5" tiledversion="1.7.1" orientation="orthogonal" renderorder="right-down" compressionlevel="0" width="189" height="32" tilewidth="16" tileheight="16" infinite="0" nextlayerid="21" nextobjectid="231">
 <tileset firstgid="1" name="tiles" tilewidth="16" tileheight="16" tilecount="192" columns="16">
  <image source="../images/tileset.png" width="256" height="192"/>
  <tile id="0" type="www" probability="6"/>
  <tile id="9" type="oneWay"/>
  <tile id="10" type="oneWay"/>
  <tile id="73" type="oneWay"/>
  <tile id="74" type="oneWay"/>
  <tile id="94" type="oneWay"/>
  <tile id="95" type="oneWay"/>
  <tile id="96" type="noCollide"/>
  <tile id="114" type="noCollide"/>
  <tile id="115" type="noCollide"/>
  <tile id="123" type="noCollide"/>
  <tile id="128" type="noCollide"/>
  <tile id="129" type="noCollide"/>
  <tile id="147" type="noCollide"/>
  <tile id="148" type="noCollide"/>
  <tile id="149" type="noCollide"/>
  <tile id="150" type="noCollide"/>
  <tile id="151" type="noCollide"/>
  <tile id="163">
   <animation>
    <frame tileid="163" duration="200"/>
    <frame tileid="164" duration="200"/>
    <frame tileid="165" duration="200"/>
    <frame tileid="164" duration="200"/>
   </animation>
  </tile>
  <tile id="166">
   <animation>
    <frame tileid="166" duration="300"/>
    <frame tileid="167" duration="300"/>
   </animation>
  </tile>
  <tile id="168">
   <animation>
    <frame tileid="168" duration="200"/>
    <frame tileid="169" duration="200"/>
    <frame tileid="170" duration="200"/>
    <frame tileid="169" duration="200"/>
   </animation>
  </tile>
  <tile id="176">
   <animation>
    <frame tileid="176" duration="100"/>
    <frame tileid="177" duration="100"/>
    <frame tileid="178" duration="100"/>
    <frame tileid="179" duration="100"/>
    <frame tileid="180" duration="100"/>
   </animation>
  </tile>
  <tile id="181">
   <animation>
    <frame tileid="181" duration="100"/>
    <frame tileid="182" duration="100"/>
    <frame tileid="183" duration="100"/>
    <frame tileid="184" duration="100"/>
    <frame tileid="185" duration="100"/>
    <frame tileid="184" duration="100"/>
    <frame tileid="183" duration="100"/>
    <frame tileid="182" duration="100"/>
    <frame tileid="181" duration="100"/>
   </animation>
  </tile>
  <tile id="186">
   <animation>
    <frame tileid="186" duration="100"/>
    <frame tileid="187" duration="100"/>
    <frame tileid="188" duration="100"/>
    <frame tileid="189" duration="100"/>
    <frame tileid="190" duration="100"/>
    <frame tileid="187" duration="100"/>
   </animation>
  </tile>
 </tileset>
 <layer id="1" name="background" width="189" height="32">
  <data encoding="base64" compression="zlib">
   eAHtWmeLFEEQPcyCOaIYTj1zjvjB7Jnwi4o5gYqIAQOYUfGjYsB/oIIY/qWv9qaWsqmecJzbs7Ov4G13v67urnpTNLd709dHowJUgApQgU4oMAqHjO7EQTyDCtREgTGIQ0CjAk1XYCwSHAew5pv+pJmfVWA8a97KwX6PKMB7vkceNNNsK6A1P6HNsEMFmq2A1vzEZqfJ7KhAWwGt+TbBDhVouAKs+YY/YKbXUmCS0YE1b8Rgt1EKTDbZTEF/KjANYM0bYdhtjALTkcmMIJuZGM8CytQ8308IxOOwKxSQ2vasTM2X8fH2JkcFUirAmk+pPs9OoUAdat5+p0ihAc/sLQX+R83PriCh952iwnK6UoHKCoQ1X+W9SlkbrpcAPC4vsKr+eXtxjgoUKeDVW957lWV+w/f2zItD/OfkOXAuqQJzk54+8ofH6k14r3b1N3yJRH3CevXWib9o5/3dE/OXNbQ0CoR3W5ooRu7UMvloPc/DsfODo4t+w4/VcGzPmH9wbNcPFyCDhcAiYHHNs9G7Tf8/6YW7C+RuYI83Ca4fWAIsBZYBKU3zkRhi9ab1OZATqPqoi/0uoJxt1V/3LPK3a7u9vxwJrABWAquA1cAaoM5m7zbv7juB4E8CpyJJrAW/Dlgfme80bfPxztb69OaU83z0u4D33n2ev+5Ztu2HY13ukDIxb4DTRmATsBnYAmwFusHkuQ04gd7JuLvOnFLb0NkO7FCiBq3k45lXn6FfzEd47737PP9w76Jx3e6Qonj3wmEfsB84ABwEqtpxZ4HHiZvHe5zdMjYvz82zDxn50ZvMuEG0h4DDwL2MS93E8onVp4035lN1z5i/Pcvr1/EOOYJAjwLHgoBPY3wGOAucA84DVe2Ws8DjxM3jPc5uGZuPPZ83dnHWvxBwFzG+BMgen4K5VMNYPsLH5iTWa9m8+FwXwlhsXWzPmL/Z0u0Ogq3bHXIZMV0BrgYR38f4AaAaPET/kfEJa8VMtbteTXqcLPB4j2tv7qz5DE6f8+PM8Qnap8AzQHJ5DrwAXgJit4ea1ucrfL4GYjkb18rdMnrZTW+agcQTmuYpc5LrT+AP8Bv4AdTFhnOHVNXK5io1UGRS81+At0BYH6JniHfg3gO2VjBs2Q182meV0X070RGIhXX8dYj+h1ffbKp2jdSX1NUvJzLNJ5yyen3D5HfjILrJXtLKvk2x4d4heVo1RRvmQQWoABWgAlSAClABKkAFUinwF3RgPwA=
  </data>
 </layer>
 <layer id="2" name="main" width="189" height="32">
  <data encoding="base64" compression="zlib">
   eAHt2MEJwjAUANAinnQBZ3IJ3cCDghcPruDGpodKCTFQSlqavEKgJG1+/sunhHadiwABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAnUJHEI6x7pSkg0BAgQIECBA4CcQzjnv/rzTNxcBAgQIbFPAt3yb+2bVywn4t7OctUjzBYazubqdb2mGdgWGs1G7AjInQIAAAQIEahc41Z6g/AgQIECAAIFmBfwXnb/15zBFro0j5J4bj/17Z9zvngCB8gKXEOJaPowIBAhkBO5hbF+oZcI2OfQKWd8i68dEiXi/Pon34xil9jc179R8EsvPdsX5p9awZl928QsM7kKMZ2hrGojNXw2oATWgBtSAGlADamCrNfAFm0Ualg==
  </data>
 </layer>
 <objectgroup id="3" name="objects">
  <properties>
   <property name="collide" type="bool" value="true"/>
  </properties>
  <object id="159" name="Player" type="player" x="16" y="400" width="53" height="53"/>
  <object id="20" name="bat" type="bat" x="2404" y="347" width="28" height="28"/>
  <object id="69" name="Spikes" type="spikes" x="1440" y="440" width="64" height="16"/>
  <object id="101" name="Spider trap" type="spider" x="1568" y="340" width="16" height="23">
   <properties>
    <property name="delay" value="800"/>
   </properties>
  </object>
  <object id="102" name="Spider trap" type="spider" x="2928" y="329" width="16" height="23">
   <properties>
    <property name="delay" value="800"/>
   </properties>
  </object>
  <object id="150" name="bat" type="bat" x="1888" y="352" width="28" height="28"/>
  <object id="165" name="bat" type="bat" x="944" y="368" width="28" height="28"/>
  <object id="177" name="Zombie emitter" type="emitter" x="608" y="456" width="96" height="16">
   <properties>
    <property name="max" type="int" value="3"/>
    <property name="volume" type="int" value="1"/>
   </properties>
  </object>
  <object id="178" name="Zombie emitter" type="emitter" x="2096" y="456" width="224" height="16">
   <properties>
    <property name="max" type="int" value="6"/>
    <property name="volume" type="int" value="2"/>
   </properties>
  </object>
  <object id="179" name="Zombie emitter" type="emitter" x="2736" y="424" width="224" height="16">
   <properties>
    <property name="max" type="int" value="6"/>
    <property name="volume" type="int" value="2"/>
   </properties>
  </object>
  <object id="181" name="Zombie emitter" type="emitter" x="2432" y="440" width="176" height="16">
   <properties>
    <property name="max" type="int" value="4"/>
    <property name="volume" type="int" value="1"/>
   </properties>
  </object>
  <object id="183" name="Zombie emitter" type="emitter" x="992" y="456" width="80" height="16">
   <properties>
    <property name="max" type="int" value="4"/>
    <property name="volume" type="int" value="1"/>
   </properties>
  </object>
  <object id="185" name="Zombie emitter" type="emitter" x="1232" y="456" width="80" height="16">
   <properties>
    <property name="max" type="int" value="2"/>
    <property name="volume" type="int" value="1"/>
   </properties>
  </object>
  <object id="187" name="Zombie emitter" type="emitter" x="1536" y="440" width="112" height="16">
   <properties>
    <property name="max" type="int" value="2"/>
    <property name="volume" type="int" value="1"/>
   </properties>
  </object>
  <object id="188" name="Zombie emitter" type="emitter" x="1792" y="440" width="192" height="16">
   <properties>
    <property name="max" type="int" value="2"/>
    <property name="volume" type="int" value="1"/>
   </properties>
  </object>
  <object id="220" name="Zombie emitter" type="emitter" x="352" y="472" width="64" height="16">
   <properties>
    <property name="max" type="int" value="4"/>
    <property name="volume" type="int" value="1"/>
   </properties>
  </object>
  <object id="222" name="Zombie emitter" type="emitter" x="112" y="472" width="64" height="16">
   <properties>
    <property name="max" type="int" value="2"/>
    <property name="volume" type="int" value="1"/>
   </properties>
  </object>
  <object id="227" type="item" gid="177" x="2512" y="144" width="16" height="16"/>
  <object id="228" type="item" gid="187" x="2384" y="256" width="16" height="16"/>
  <object id="229" type="item" gid="187" x="2400" y="256" width="16" height="16"/>
 </objectgroup>
 <layer id="4" name="foreground" width="189" height="32">
  <data encoding="base64" compression="zlib">
   eAHtlmtKQzEUhPuje/K1AHUPvsAq/hHBDfjYgW8XUBB36YzcKce0WuRSqvQLjMk5mSQ3X47iYECDAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEBgWQTOlnVwj3O3tXZH2u2xB0tXl8B/rPk9Pde+dDDn2Q41fzTHs4zpYx06kk6k9U7OjSX3bd7e+Dx+l96k5O0/lWjTBNaUqrztOJ+2/ZgJe7/Pxgynz7An5/h9/CaJPfZbOf6u5Yz0re9KietO/oZNaUtq240St22yZxyGvr/vkfvUe/q7Wzb1+4aaX4S07Z9ovn9+L/PuzpnXpZR6GHc+x/Z7PnP2Z20YO56VM2v7qxROWmXtZPZxX9fUfMb21/V3iu+lh9JfNJ7qX/RYR0+a7/IoPUkvjZ6b2POzcq/K11pV+OX+i77Pb/f3336/1UiqNTfu4tST52sdJTYze/PeWZd9M+/eHvdemzrW8LMN9RPBgBqgBqgBaoAaoAb61kD3rwUdBFaGwAd7sVJD
  </data>
 </layer>
</map>
`;class rg extends li{id=J.FLASH;draw(){const{ctx:t,resolution:i}=this.game;this.game.getCurrentScene().flash&&(t.fillStyle=Dn.FLASH,t.fillRect(0,0,i.x,i.y))}}class og extends li{id=J.CUSTOM_OVERLAY;darkOverlay=1;fadeSpeed=1;fadeTo=0;update(){const t=this.darkOverlay,i=this.game.delta;t!==0&&(t<0&&t+i<0||t>0&&t-i>0)&&(this.darkOverlay+=i*this.fadeSpeed*(t<0?1:-1))}draw(){const t=this.game,{ctx:i,resolution:n}=t,o=t.getCurrentScene(),r=t.draw.createPixelFontRenderer(t.getImage("font.png"),5,16),a=o.getObjectByType(G.PLAYER),u=a.energy[0]/10*4,[f,h]=a.ammo;i.drawImage(t.getImage("estrip.png"),2,2),i.drawImage(t.getImage("energy.png"),0,0,u,4,18,5,u,4),r("AMMO",n.x-25-h*3,n.y-9);for(let p=0;p<h;p++)i.drawImage(t.getImage("ammo.png"),p<f?0:3,0,4,8,n.x-7-p*3,n.y-11,4,8);Math.abs(this.darkOverlay)!==this.fadeTo&&(i.save(),i.fillStyle=Dn.BLACK,i.globalAlpha=(this.darkOverlay<0?1:0)+this.darkOverlay,i.fillRect(0,0,n.x+1,n.y+1),i.restore())}fadeIn(){this.darkOverlay=1,this.fadeTo=0}fadeOut(){this.darkOverlay=-1,this.fadeTo=1}}class ag extends li{id=J.CUSTOM_BACKGROUND;scroll=0;draw(){const{game:t}=this,{ctx:i,resolution:n}=t,{camera:o}=t.getCurrentScene(),r=t.getImage("bg2.png"),a=t.getImage("moon.png"),u=t.getImage("clouds.png"),f=o.pos.x/1.5,h=r.width-1,p=f+Math.round(-f/h)*h,s=365+o.pos.y,l=u.width-1,c=o.pos.x/8+this.scroll,m=-30+o.pos.y/4;this.scroll=this.scroll<l?this.scroll+.1:0,i.fillStyle="#47038A",i.fillRect(0,0,n.x,n.y),i.drawImage(a,n.x-70,6),i.drawImage(u,c-l,m),i.drawImage(u,c,m),i.drawImage(r,p-h,s),i.drawImage(r,p,s)}}class sg extends no{gravity=.7;flash=!1;player;async init(){const{game:t}=this,{layers:i,tilesets:n,tilewidth:o,tileheight:r,width:a,height:u}=await ig(ng);if(this.setDimensions(a,u,o,r),this.addTileset(n[0],"tileset.png"),this.createLayers([ag,i[0],rg,i[1],i[2],i[3],og]),this.player=this.getObjectByType(G.PLAYER),this.camera.moveTo(0,0),this.camera.setSpeed(.5),this.camera.setFollow(this.player,!1),t.onKeyDown("Space",()=>this.player?.shoot()),t.onKeyDown("ArrowUp",()=>this.player?.moveTo(De.UP)),t.onKeyDown("ArrowLeft",()=>this.player?.moveTo(De.LEFT)),t.onKeyDown("ArrowRight",()=>this.player?.moveTo(De.RIGHT)),t.setAudioVolume(.1),t.debug&&t.gui){t.gui.add(this,"gravity").listen();const f=t.gui.addFolder("Player");f.add(this.player.pos,"x").listen(),f.add(this.player.pos,"y").listen(),f.add(this.player.energy,"0").name("Energy").step(1).min(1).max(100).listen(),f.add(this.player.ammo,"1").name("Max ammo").step(1).min(2).max(20).listen(),f.add(this.player,"invincible").name("God mode").listen()}}}const jl=document.querySelector("#canvas"),mo=new Ef({canvas:jl,backgroundColor:"#000",scenes:[sg],entities:{[G.BAT]:Tf,[G.BULLET]:Cf,[G.DUST]:Of,[G.EMITTER]:Sf,[G.ITEM]:xf,[G.PARTICLE]:If,[G.PLAYER]:Df,[G.SPIDER]:Nf,[G.SPIKES]:qf,[G.ZOMBIE]:kf},debug:!0}),Vl=()=>{const e=window.innerWidth,t=window.innerHeight,i=Math.round(t/160);Object.assign(jl,{width:e,height:t}),mo.setSize(e,t,i)};async function ug(){await mo.preload(ic),mo.playScene(0),Vl()}ug();window.addEventListener("resize",Vl);
//# sourceMappingURL=index-7e11439f.js.map
